<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8"/>
<title>Vim: change.txt</title>
</head><body>
<div id="d1">
<div id="d2">
<pre>
<a name="change.txt" class="t">change.txt</a>    For <span class="i">Vim version 8.0.</span>  Last change: 2018 May 06


                  <span class="i">VIM REFERENCE MANUAL    by Bram Moolenaar</span>


This file describes commands that delete or change text.  In this context,
<a href="#changing" class="d">changing</a> text means <a href="#deleting" class="d">deleting</a> the text and <a href="#replacing" class="d">replacing</a> <a href="motion.txt.html#it" class="d">it</a> with other text using
one command.  You can <a href="undo.txt.html#undo" class="d">undo</a> all of these commands.  You can repeat the non-Ex
commands with the "<a href="repeat.txt.html#." class="d">.</a>" command.

1. Deleting text                <a href="#deleting" class="l">deleting</a>
2. Delete and <a href="insert.txt.html#insert" class="d">insert</a>            <a href="#delete-insert" class="l">delete-insert</a>
3. Simple changes               <a href="#simple-change" class="l">simple-change</a>         <a name="changing" class="t">changing</a>
4. Complex changes              <a href="#complex-change" class="l">complex-change</a>
   4.1 Filter commands             <a href="#filter" class="l">filter</a>
   4.2 Substitute                  <a href="#%3Asubstitute" class="l">:substitute</a>
   4.3 Search and replace          <a href="#search-replace" class="l">search-replace</a>
   4.4 Changing tabs               <a href="#change-tabs" class="l">change-tabs</a>
5. Copying and moving text      <a href="#copy-move" class="l">copy-move</a>
6. Formatting text              <a href="#formatting" class="l">formatting</a>
7. Sorting text                 <a href="#sorting" class="l">sorting</a>

For <a href="insert.txt.html#inserting" class="d">inserting</a> text see <a href="insert.txt.html#insert.txt" class="l">insert.txt</a><a href="repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
1. Deleting text                                        <a name="deleting" class="t">deleting</a> <a name="E470" class="t">E470</a>

<a href="index.txt.html#%5B" class="d">[</a>"x]&lt;Del&gt;       or                                      <a name="%3CDel%3E" class="t">&lt;Del&gt;</a> <a name="x" class="t">x</a> <a name="dl" class="t">dl</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]x                   Delete <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> characters under and after the cursor
                        [into <a href="sponsor.txt.html#register" class="d">register</a> x] (not <a href="motion.txt.html#linewise" class="l">linewise</a>).  Does the same <a href="motion.txt.html#as" class="d">as</a>
                        "<a href="#dl" class="d">dl</a>"<a href="repeat.txt.html#." class="d">.</a>
                        The <a href="#%3CDel%3E" class="s">&lt;Del&gt;</a> key does not take <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>.  Instead, <a href="motion.txt.html#it" class="d">it</a>
                        deletes the last character of the count.
                        See <a href="options.txt.html#%3Afixdel" class="l">:fixdel</a> if the <a href="#%3CDel%3E" class="s">&lt;Del&gt;</a> key does not <a href="diff.txt.html#do" class="d">do</a> what you
                        want.  See <a href="options.txt.html#%27whichwrap%27" class="l">'whichwrap'</a> for <a href="#deleting" class="d">deleting</a> <a href="insert.txt.html#a" class="d">a</a> line break
                        (join lines).  <span class="s">{Vi does not support &lt;Del&gt;}</span>

                                                        <a name="X" class="t">X</a> <a name="dh" class="t">dh</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]X                   Delete <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> characters before the cursor [into
                        <a href="sponsor.txt.html#register" class="d">register</a> x] (not <a href="motion.txt.html#linewise" class="l">linewise</a>).  Does the same <a href="motion.txt.html#as" class="d">as</a> "<a href="#dh" class="d">dh</a>"<a href="repeat.txt.html#." class="d">.</a>
                        Also see <a href="options.txt.html#%27whichwrap%27" class="l">'whichwrap'</a><a href="repeat.txt.html#." class="d">.</a>

                                                        <a name="d" class="t">d</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]d{motion}           Delete text that <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> moves over [into <a href="sponsor.txt.html#register" class="d">register</a>
                        x].  See below for exceptions.

                                                        <a name="dd" class="t">dd</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]dd                  Delete <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] <a href="motion.txt.html#linewise" class="l">linewise</a><a href="repeat.txt.html#." class="d">.</a>

                                                        <a name="D" class="t">D</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]D                   Delete the characters under the cursor until the <a href="intro.txt.html#end" class="d">end</a>
                        of the line and <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>-1 more lines [into <a href="sponsor.txt.html#register" class="d">register</a>
                        x]; synonym for "d$"<a href="repeat.txt.html#." class="d">.</a>
                        (not <a href="motion.txt.html#linewise" class="l">linewise</a><a href="motion.txt.html#%29" class="d">)</a>
                        When the '#' flag <a href="motion.txt.html#is" class="d">is</a> in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> the <a href="intro.txt.html#count" class="d">count</a> <a href="motion.txt.html#is" class="d">is</a>
                        ignored.

<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]x   or                                      <a name="v_x" class="t">v_x</a> <a name="v_d" class="t">v_d</a> <a name="v_%3CDel%3E" class="t">v_&lt;Del&gt;</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]d   or
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]&lt;Del&gt;       Delete the highlighted text [into <a href="sponsor.txt.html#register" class="d">register</a> x] (for
                        <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  <span class="s">{not in Vi}</span>

<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]CTRL-H   or                                 <a name="v_CTRL-H" class="t">v_CTRL-H</a> <a name="v_%3CBS%3E" class="t">v_&lt;BS&gt;</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]&lt;BS&gt;        When in <a href="visual.txt.html#Select" class="d">Select</a> mode: Delete the highlighted text [into
                        <a href="sponsor.txt.html#register" class="d">register</a> x].

<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]X   or                                      <a name="v_X" class="t">v_X</a> <a name="v_D" class="t">v_D</a> <a name="v_b_D" class="t">v_b_D</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]D           Delete the highlighted lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] (for
                        <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  In <a href="visual.txt.html#Visual" class="d">Visual</a> block mode,
                        "<a href="#D" class="d">D</a>" deletes the highlighted text plus all text until
                        the <a href="intro.txt.html#end" class="d">end</a> of the line.  <span class="s">{not in Vi}</span>

                                        <a name="%3Ad" class="t">:d</a> <a name="%3Ade" class="t">:de</a> <a name="%3Adel" class="t">:del</a> <a name="%3Adelete" class="t">:delete</a> <a name="%3Adl" class="t">:dl</a> <a name="%3Adp" class="t">:dp</a>
:[range]d[elete] [x]    Delete <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> lines (default: current line) [into
                        <a href="sponsor.txt.html#register" class="d">register</a> x].
                        <span class="n">Note</span> these weird abbreviations:
                           <a href="#%3Adl" class="d">:dl</a>          delete and <a href="eval.txt.html#list" class="d">list</a>
                           :dell        idem
                           :delel       idem
                           :deletl      idem
                           :deletel     idem
                           <a href="#%3Adp" class="d">:dp</a>          delete and print
                           :dep         idem
                           :delp        idem
                           :delep       idem
                           :deletp      idem
                           :deletep     idem

:[range]d[elete] [x] <span class="s">{count}</span>
                        Delete <span class="s">{count}</span> lines, <a href="starting.txt.html#starting" class="d">starting</a> with <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a>
                        (default: current line <a href="cmdline.txt.html#cmdline-ranges" class="l">cmdline-ranges</a><a href="motion.txt.html#%29" class="d">)</a> [into
                        <a href="sponsor.txt.html#register" class="d">register</a> x].

These commands delete text.  You can repeat them with the <span class="e">.</span> command
(except <span class="e">:d</span>) and <a href="undo.txt.html#undo" class="d">undo</a> them.  Use <a href="visual.txt.html#Visual" class="d">Visual</a> mode to delete blocks of text.  See
<a href="#registers" class="l">registers</a> for an explanation of registers.

An exception for the d{motion} command: If the motion <a href="motion.txt.html#is" class="d">is</a> not linewise, the
start and <a href="intro.txt.html#end" class="d">end</a> of the motion are not in the same line, and there are only
blanks before the start and there are no non-blanks after the <a href="intro.txt.html#end" class="d">end</a> of the
motion, the delete becomes linewise.  This means that the delete also removes
the line of blanks that you might expect to remain. Use the <a href="motion.txt.html#o_v" class="l">o_v</a> <a href="motion.txt.html#operator" class="d">operator</a> to
force the motion to be characterwise.

Trying to delete an empty region of text (e.g., "d0" in the first column)
<a href="motion.txt.html#is" class="d">is</a> an error when <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> includes the 'E' flag.

                                                        <a name="J" class="t">J</a>
<a href="#J" class="d">J</a>                       Join <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines, with <a href="insert.txt.html#a" class="d">a</a> minimum of two lines.
                        Remove the indent and <a href="insert.txt.html#insert" class="d">insert</a> up to two spaces (see
                        below).  Fails when on the last line of the buffer.
                        If <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> <a href="motion.txt.html#is" class="d">is</a> too big <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> reduced to the number of
                        lines available.

                                                        <a name="v_J" class="t">v_J</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>J               Join the highlighted lines, with <a href="insert.txt.html#a" class="d">a</a> minimum of two
                        lines.  Remove the indent and <a href="insert.txt.html#insert" class="d">insert</a> up to two spaces
                        (see below).  <span class="s">{not in Vi}</span>

                                                        <a name="gJ" class="t">gJ</a>
<a href="#gJ" class="d">gJ</a>                      Join <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines, with <a href="insert.txt.html#a" class="d">a</a> minimum of two lines.
                        Don't <a href="insert.txt.html#insert" class="d">insert</a> or remove any spaces.  <span class="s">{not in Vi}</span>

                                                        <a name="v_gJ" class="t">v_gJ</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>gJ              Join the highlighted lines, with <a href="insert.txt.html#a" class="d">a</a> minimum of two
                        lines.  Don't <a href="insert.txt.html#insert" class="d">insert</a> or remove any spaces.  {not in
                        Vi}

                                                        <a name="%3Aj" class="t">:j</a> <a name="%3Ajoin" class="t">:join</a>
:[range]j[oin][!] <span class="s">[flags]</span>
                        Join <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> lines.  Same <a href="motion.txt.html#as" class="d">as</a> "<a href="#J" class="d">J</a>"<a href="motion.txt.html#%2C" class="d">,</a> except with [!]
                        the join does not <a href="insert.txt.html#insert" class="d">insert</a> or delete any spaces.
                        If <a href="insert.txt.html#a" class="d">a</a> <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> has equal start and <a href="intro.txt.html#end" class="d">end</a> values, this
                        command does nothing.  The default behavior <a href="motion.txt.html#is" class="d">is</a> to
                        join the current line with the line below it.
                        <span class="s">{not in Vi: !}</span>
                        See <a href="cmdline.txt.html#ex-flags" class="l">ex-flags</a> for <span class="s">[flags]</span>.

:[range]j[oin][!] <span class="s">{count}</span> <span class="s">[flags]</span>
                        Join <span class="s">{count}</span> lines, <a href="starting.txt.html#starting" class="d">starting</a> with <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> (default:
                        current line <a href="cmdline.txt.html#cmdline-ranges" class="l">cmdline-ranges</a>).  Same <a href="motion.txt.html#as" class="d">as</a> "<a href="#J" class="d">J</a>"<a href="motion.txt.html#%2C" class="d">,</a> except
                        with [!] the join does not <a href="insert.txt.html#insert" class="d">insert</a> or delete any
                        spaces.
                        <span class="s">{not in Vi: !}</span>
                        See <a href="cmdline.txt.html#ex-flags" class="l">ex-flags</a> for <span class="s">[flags]</span>.

These commands delete the <a href="intro.txt.html#%3CEOL%3E" class="s">&lt;EOL&gt;</a> between lines.  This has the effect of joining
multiple lines into one line.  You can repeat these commands (except <span class="e">:j</span>) and
<a href="undo.txt.html#undo" class="d">undo</a> them.

These commands, except "<a href="#gJ" class="d">gJ</a>"<a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#insert" class="d">insert</a> one <a href="intro.txt.html#space" class="d">space</a> in place of the <a href="intro.txt.html#%3CEOL%3E" class="s">&lt;EOL&gt;</a> unless
there <a href="motion.txt.html#is" class="d">is</a> trailing white <a href="intro.txt.html#space" class="d">space</a> or the next line starts with <a href="insert.txt.html#a" class="d">a</a> ')'.  These
commands, except "<a href="#gJ" class="d">gJ</a>"<a href="motion.txt.html#%2C" class="d">,</a> delete any leading white <a href="intro.txt.html#space" class="d">space</a> on the next line.  If
the <a href="options.txt.html#%27joinspaces%27" class="o">'joinspaces'</a> option <a href="motion.txt.html#is" class="d">is</a> on, these commands <a href="insert.txt.html#insert" class="d">insert</a> two spaces after <a href="insert.txt.html#a" class="d">a</a> '.',
'!' or '?' (but if <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> includes the 'j' flag, they <a href="insert.txt.html#insert" class="d">insert</a> two spaces
only after <a href="insert.txt.html#a" class="d">a</a> '.').
The 'B' and 'M' flags in <a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a> change the behavior for <a href="insert.txt.html#inserting" class="d">inserting</a>
spaces before and after <a href="insert.txt.html#a" class="d">a</a> <a href="mbyte.txt.html#multi-byte" class="d">multi-byte</a> character <a href="#fo-table" class="l">fo-table</a><a href="repeat.txt.html#." class="d">.</a>

The <a href="motion.txt.html#%27%5B" class="d">'[</a> <a href="motion.txt.html#mark" class="d">mark</a> <a href="motion.txt.html#is" class="d">is</a> set <a href="motion.txt.html#at" class="d">at</a> the <a href="intro.txt.html#end" class="d">end</a> of the first line that was joined, <a href="motion.txt.html#%27%5D" class="d">']</a> <a href="motion.txt.html#at" class="d">at</a> the <a href="intro.txt.html#end" class="d">end</a>
of the resulting line.


<span class="h">==============================================================================</span>
2. Delete and <a href="insert.txt.html#insert" class="d">insert</a>                            <a name="delete-insert" class="t">delete-insert</a> <a name="replacing" class="t">replacing</a>

                                                        <a name="R" class="t">R</a>
<a href="#R" class="d">R</a>                       Enter <a href="insert.txt.html#Replace" class="d">Replace</a> mode: Each character you type replaces
                        an existing character, <a href="starting.txt.html#starting" class="d">starting</a> with the character
                        under the cursor.  Repeat the entered text <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>-1
                        times.  See <a href="insert.txt.html#Replace-mode" class="l">Replace-mode</a> for more details.

                                                        <a name="gR" class="t">gR</a>
<a href="#gR" class="d">gR</a>                      Enter Virtual <a href="insert.txt.html#Replace" class="d">Replace</a> mode: Each character you type
                        replaces existing characters in screen space.  So <a href="insert.txt.html#a" class="d">a</a>
                        <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> may replace several characters <a href="motion.txt.html#at" class="d">at</a> once.
                        Repeat the entered text <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>-1 times.  See
                        <a href="insert.txt.html#Virtual-Replace-mode" class="l">Virtual-Replace-mode</a> for more details.
                        {not available when compiled without the <a href="various.txt.html#%2Bvreplace" class="l">+vreplace</a>
                        feature}

                                                        <a name="c" class="t">c</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]c{motion}           Delete <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> text [into <a href="sponsor.txt.html#register" class="d">register</a> x] and start
                        insert.  When  <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> includes the 'E' flag and
                        there <a href="motion.txt.html#is" class="d">is</a> no text to delete (e.g., with "cTx" when the
                        cursor <a href="motion.txt.html#is" class="d">is</a> just after an 'x'), an error occurs and
                        <a href="insert.txt.html#insert" class="d">insert</a> mode does not start (this <a href="motion.txt.html#is" class="d">is</a> <a href="intro.txt.html#Vi" class="d">Vi</a> compatible).
                        When  <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> does not include the 'E' flag, the
                        "<a href="#c" class="d">c</a>" command always starts <a href="insert.txt.html#insert" class="d">insert</a> mode, even if there
                        <a href="motion.txt.html#is" class="d">is</a> no text to delete.

                                                        <a name="cc" class="t">cc</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]cc                  Delete <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] and start
                        <a href="insert.txt.html#insert" class="d">insert</a> <a href="motion.txt.html#linewise" class="l">linewise</a><a href="repeat.txt.html#." class="d">.</a>  If <a href="options.txt.html#%27autoindent%27" class="o">'autoindent'</a> <a href="motion.txt.html#is" class="d">is</a> on, preserve
                        the indent of the first line.

                                                        <a name="C" class="t">C</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]C                   Delete from the cursor position to the <a href="intro.txt.html#end" class="d">end</a> of the
                        line and <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>-1 more lines [into <a href="sponsor.txt.html#register" class="d">register</a> x], and
                        start insert.  Synonym for c$ (not <a href="motion.txt.html#linewise" class="l">linewise</a>).

                                                        <a name="s" class="t">s</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]s                   Delete <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> characters [into <a href="sponsor.txt.html#register" class="d">register</a> x] and start
                        <a href="insert.txt.html#insert" class="d">insert</a> (s stands for Substitute).  Synonym for "cl"
                        (not <a href="motion.txt.html#linewise" class="l">linewise</a>).

                                                        <a name="S" class="t">S</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]S                   Delete <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] and start
                        insert.  Synonym for "<a href="#cc" class="d">cc</a>" <a href="motion.txt.html#linewise" class="l">linewise</a><a href="repeat.txt.html#." class="d">.</a>

<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]c   or                                      <a name="v_c" class="t">v_c</a> <a name="v_s" class="t">v_s</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]s           Delete the highlighted text [into <a href="sponsor.txt.html#register" class="d">register</a> x] and
                        start <a href="insert.txt.html#insert" class="d">insert</a> (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  {not
                        in Vi}

                                                        <a name="v_r" class="t">v_r</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]r{char}     <a href="insert.txt.html#Replace" class="d">Replace</a> all selected characters by <span class="s">{char}</span>.

                                                        <a name="v_C" class="t">v_C</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]C           Delete the highlighted lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] and
                        start insert.  In <a href="visual.txt.html#Visual" class="d">Visual</a> block mode <a href="motion.txt.html#it" class="d">it</a> works
                        differently <a href="visual.txt.html#v_b_C" class="l">v_b_C</a><a href="repeat.txt.html#." class="d">.</a>  <span class="s">{not in Vi}</span>
                                                        <a name="v_S" class="t">v_S</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]S           Delete the highlighted lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] and
                        start <a href="insert.txt.html#insert" class="d">insert</a> (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  {not
                        in Vi}
                                                        <a name="v_R" class="t">v_R</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]R           Currently just like <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]S.  In <a href="insert.txt.html#a" class="d">a</a> next version
                        <a href="motion.txt.html#it" class="d">it</a> might work differently. <span class="s">{not in Vi}</span>

<span class="n">Notes:</span>
<a href="motion.txt.html#-" class="d">-</a> You can <a href="intro.txt.html#end" class="d">end</a> <a href="insert.txt.html#Insert" class="d">Insert</a> and <a href="insert.txt.html#Replace" class="d">Replace</a> mode with <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>.
<a href="motion.txt.html#-" class="d">-</a> See the <a href="motion.txt.html#section" class="d">section</a> "<a href="insert.txt.html#Insert" class="d">Insert</a> and <a href="insert.txt.html#Replace" class="d">Replace</a> mode" <a href="insert.txt.html#mode-ins-repl" class="l">mode-ins-repl</a> for the other
  special characters in these modes.
<a href="motion.txt.html#-" class="d">-</a> The effect of <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> takes place after Vim exits <a href="insert.txt.html#Insert" class="d">Insert</a> or <a href="insert.txt.html#Replace" class="d">Replace</a> mode.
<a href="motion.txt.html#-" class="d">-</a> When the <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> option contains '$' and the change <a href="motion.txt.html#is" class="d">is</a> within one line,
  Vim continues to show the text to be deleted and puts <a href="insert.txt.html#a" class="d">a</a> '$' <a href="motion.txt.html#at" class="d">at</a> the last
  deleted character.

See <a href="#registers" class="l">registers</a> for an explanation of registers.

<a href="insert.txt.html#Replace" class="d">Replace</a> mode <a href="motion.txt.html#is" class="d">is</a> just like <a href="insert.txt.html#Insert" class="d">Insert</a> mode, except that every character you enter
deletes one character.  If you reach the <a href="intro.txt.html#end" class="d">end</a> of <a href="insert.txt.html#a" class="d">a</a> line, Vim appends any
further characters (just like <a href="insert.txt.html#Insert" class="d">Insert</a> mode).  In <a href="insert.txt.html#Replace" class="d">Replace</a> mode, the <a href="intro.txt.html#backspace" class="d">backspace</a>
key restores the original text (if there was any).  (See <a href="motion.txt.html#section" class="d">section</a> "<a href="insert.txt.html#Insert" class="d">Insert</a> and
<a href="insert.txt.html#Replace" class="d">Replace</a> mode" <a href="insert.txt.html#mode-ins-repl" class="l">mode-ins-repl</a>).

                                                <a name="cw" class="t">cw</a> <a name="cW" class="t">cW</a>
<a href="eval.txt.html#Special" class="d">Special</a> case: When the cursor <a href="motion.txt.html#is" class="d">is</a> in <a href="insert.txt.html#a" class="d">a</a> word, "<a href="#cw" class="d">cw</a>" and "<a href="#cW" class="d">cW</a>" <a href="diff.txt.html#do" class="d">do</a> not include the
white <a href="intro.txt.html#space" class="d">space</a> after <a href="insert.txt.html#a" class="d">a</a> word, they only change up to the <a href="intro.txt.html#end" class="d">end</a> of the word.  This <a href="motion.txt.html#is" class="d">is</a>
because Vim interprets "<a href="#cw" class="d">cw</a>" <a href="motion.txt.html#as" class="d">as</a> change-word, and <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#word" class="d">word</a> does not include the
following white space.
{Vi: "<a href="#cw" class="d">cw</a>" when on <a href="insert.txt.html#a" class="d">a</a> blank followed by other blanks changes only the first
blank; this <a href="motion.txt.html#is" class="d">is</a> probably <a href="insert.txt.html#a" class="d">a</a> bug, because "dw" deletes all the blanks; use the
'w' flag in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> to make <a href="motion.txt.html#it" class="d">it</a> work like <a href="intro.txt.html#Vi" class="d">Vi</a> anyway}

If you prefer "<a href="#cw" class="d">cw</a>" to include the <a href="intro.txt.html#space" class="d">space</a> after <a href="insert.txt.html#a" class="d">a</a> word, use this mapping: 
<span class="e">        :map cw dwi</span>
Or use "caw" (see <a href="motion.txt.html#aw" class="l">aw</a>).

                                                        <a name="%3Ac" class="t">:c</a> <a name="%3Ach" class="t">:ch</a> <a name="%3Achange" class="t">:change</a>
:{range}c[hange][!]     <a href="insert.txt.html#Replace" class="d">Replace</a> lines of text with some different text.
                        Type <a href="insert.txt.html#a" class="d">a</a> line containing only "<a href="repeat.txt.html#." class="d">.</a>" to stop replacing.
                        Without <span class="s">{range}</span>, this command changes only the current
                        line.
                        Adding [!] toggles <a href="options.txt.html#%27autoindent%27" class="o">'autoindent'</a> for the time this
                        command <a href="motion.txt.html#is" class="d">is</a> executed.

<span class="h">==============================================================================</span>
3. Simple changes                                       <a name="simple-change" class="t">simple-change</a>

                                                        <a name="r" class="t">r</a>
r{char}                 <a href="insert.txt.html#Replace" class="d">Replace</a> the character under the cursor with <span class="s">{char}</span>.
                        If <span class="s">{char}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> or <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a>, <a href="insert.txt.html#a" class="d">a</a> line break replaces the
                        character.  To replace with <a href="insert.txt.html#a" class="d">a</a> real <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>, use <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a>
                        <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>.  <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a> replaces with <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#%3CNul%3E" class="s">&lt;Nul&gt;</a>.
                        {Vi: <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> still replaces with <a href="insert.txt.html#a" class="d">a</a> line break,
                        cannot replace something with <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>}

                        If <span class="s">{char}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="scroll.txt.html#CTRL-E" class="k">CTRL-E</a> or <a href="scroll.txt.html#CTRL-Y" class="k">CTRL-Y</a> the character from the
                        line below or above <a href="motion.txt.html#is" class="d">is</a> used, just like with <a href="insert.txt.html#i_CTRL-E" class="l">i_CTRL-E</a>
                        and <a href="insert.txt.html#i_CTRL-Y" class="l">i_CTRL-Y</a><a href="repeat.txt.html#." class="d">.</a>  This also works with <a href="insert.txt.html#a" class="d">a</a> count, thus
                        <span class="e">10r&lt;C-E&gt;</span> copies 10 characters from the line below.

                        If you give <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>, Vim replaces <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> characters
                        with <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> <span class="s">{char}</span>s.  When <span class="s">{char}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> or <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a>,
                        however, Vim inserts only one <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>: "5r&lt;CR&gt;" replaces
                        five characters with <a href="insert.txt.html#a" class="d">a</a> single line break.
                        When <span class="s">{char}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> or <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a>, Vim performs
                        autoindenting.  This works just like <a href="#deleting" class="d">deleting</a> the
                        characters that are replaced and then doing
                        "i&lt;CR&gt;&lt;Esc&gt;"<a href="repeat.txt.html#." class="d">.</a>
                        <span class="s">{char}</span> can be entered <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="digraph.txt.html#digraph" class="d">digraph</a> <a href="#digraph-arg" class="l">digraph-arg</a><a href="repeat.txt.html#." class="d">.</a>
                        <a href="map.txt.html#%3Almap" class="l">:lmap</a> mappings apply to <span class="s">{char}</span>.  The <a href="editing.txt.html#CTRL-%5E" class="k">CTRL-^</a> command
                        in <a href="insert.txt.html#Insert" class="d">Insert</a> mode can be used to switch this on/off
                        <a href="insert.txt.html#i_CTRL-%5E" class="l">i_CTRL-^</a><a href="repeat.txt.html#." class="d">.</a>  See <a href="mbyte.txt.html#utf-8-char-arg" class="l">utf-8-char-arg</a> about using
                        composing characters when <a href="options.txt.html#%27encoding%27" class="o">'encoding'</a> <a href="motion.txt.html#is" class="d">is</a> Unicode.

                                                        <a name="gr" class="t">gr</a>
gr{char}                <a href="insert.txt.html#Replace" class="d">Replace</a> the virtual characters under the cursor with
                        <span class="s">{char}</span>.  This replaces in screen space, not file
                        space.  See <a href="#gR" class="l">gR</a> and <a href="insert.txt.html#Virtual-Replace-mode" class="l">Virtual-Replace-mode</a> for more
                        details.  As with <a href="#r" class="l">r</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#count" class="d">count</a> may be given.
                        <span class="s">{char}</span> can be entered like with <a href="#r" class="l">r</a><a href="repeat.txt.html#." class="d">.</a>
                        {not available when compiled without the <a href="various.txt.html#%2Bvreplace" class="l">+vreplace</a>
                        feature}

                                                <a name="digraph-arg" class="t">digraph-arg</a>
The argument for <a href="intro.txt.html#Normal" class="d">Normal</a> mode commands like <a href="#r" class="l">r</a> and <a href="motion.txt.html#t" class="l">t</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> single character.
When <a href="options.txt.html#%27cpo%27" class="o">'cpo'</a> doesn't contain the 'D' flag, this character can also be entered
like <a href="digraph.txt.html#digraphs" class="l">digraphs</a><a href="repeat.txt.html#." class="d">.</a>  First type <span class="k">CTRL-K</span> and then the two <a href="digraph.txt.html#digraph" class="d">digraph</a> characters.
<span class="s">{not available when compiled without the |+digraphs| feature}</span>

                                                <a name="case" class="t">case</a>
The following commands change the <a href="#case" class="d">case</a> of letters.  The currently active
<a href="mbyte.txt.html#locale" class="l">locale</a> <a href="motion.txt.html#is" class="d">is</a> used.  See <a href="mlang.txt.html#%3Alanguage" class="l">:language</a><a href="repeat.txt.html#." class="d">.</a>  The LC_CTYPE value matters here.

                                                        <a name="%7E" class="t">~</a>
<a href="#%7E" class="d">~</a>                       <a href="options.txt.html#%27notildeop%27" class="o">'notildeop'</a> option: Switch <a href="#case" class="d">case</a> of the character
                        under the cursor and move the cursor to the right.
                        If <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> <a href="motion.txt.html#is" class="d">is</a> given, <a href="diff.txt.html#do" class="d">do</a> that many characters. {Vi:
                        no count}

~{motion}               <a href="options.txt.html#%27tildeop%27" class="o">'tildeop'</a> option: switch <a href="#case" class="d">case</a> of <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> text. {Vi:
                        tilde cannot be used <a href="motion.txt.html#as" class="d">as</a> an operator}

                                                        <a name="g%7E" class="t">g~</a>
g~{motion}              Switch <a href="#case" class="d">case</a> of <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> text. <span class="s">{not in Vi}</span>

<a href="#g%7Eg%7E" class="d">g~g~</a>                                                    <a name="g%7Eg%7E" class="t">g~g~</a> <a name="g%7E%7E" class="t">g~~</a>
<a href="#g%7E%7E" class="d">g~~</a>                     Switch <a href="#case" class="d">case</a> of current line. <span class="s">{not in Vi}</span>.

                                                        <a name="v_%7E" class="t">v_~</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>~               Switch <a href="#case" class="d">case</a> of highlighted text (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see
                        <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>). <span class="s">{not in Vi}</span>

                                                        <a name="v_U" class="t">v_U</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>U               Make highlighted text <a href="#uppercase" class="d">uppercase</a> (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see
                        <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>). <span class="s">{not in Vi}</span>

                                                        <a name="gU" class="t">gU</a> <a name="uppercase" class="t">uppercase</a>
gU{motion}              Make <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> text uppercase. <span class="s">{not in Vi}</span>
                        Example: 
<span class="e">                                :map! &lt;C-F&gt; &lt;Esc&gt;gUiw`]a</span>
                       This works in <a href="insert.txt.html#Insert" class="d">Insert</a> mode: press <a href="scroll.txt.html#CTRL-F" class="k">CTRL-F</a> to make the
                        <a href="motion.txt.html#word" class="d">word</a> before the cursor uppercase.  Handy to type
                        words in <a href="#lowercase" class="d">lowercase</a> and then make them uppercase.


<a href="#gUgU" class="d">gUgU</a>                                                    <a name="gUgU" class="t">gUgU</a> <a name="gUU" class="t">gUU</a>
<a href="#gUU" class="d">gUU</a>                     Make current line uppercase. <span class="s">{not in Vi}</span>.

                                                        <a name="v_u" class="t">v_u</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>u               Make highlighted text <a href="#lowercase" class="d">lowercase</a> (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see
                        <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  <span class="s">{not in Vi}</span>

                                                        <a name="gu" class="t">gu</a> <a name="lowercase" class="t">lowercase</a>
gu{motion}              Make <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> text lowercase. <span class="s">{not in Vi}</span>

<a href="#gugu" class="d">gugu</a>                                                    <a name="gugu" class="t">gugu</a> <a name="guu" class="t">guu</a>
<a href="#guu" class="d">guu</a>                     Make current line lowercase. <span class="s">{not in Vi}</span>.

                                                        <a name="g%3F" class="t">g?</a> <a name="rot13" class="t">rot13</a>
g?{motion}              Rot13 encode <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> text. <span class="s">{not in Vi}</span>

                                                        <a name="v_g%3F" class="t">v_g?</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>g?              Rot13 encode the highlighted text (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see
                        <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  <span class="s">{not in Vi}</span>

<a href="#g%3Fg%3F" class="d">g?g?</a>                                                    <a name="g%3Fg%3F" class="t">g?g?</a> <a name="g%3F%3F" class="t">g??</a>
<a href="#g%3F%3F" class="d">g??</a>                     Rot13 encode current line. <span class="s">{not in Vi}</span>.

To turn one line into title caps, make every first <a href="print.txt.html#letter" class="d">letter</a> of <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#word" class="d">word</a>
uppercase: 
<span class="e">        :s/\v&lt;(.)(\w*)/\u\1\L\2/g</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Adding and subtracting </span>
                                                        <a name="CTRL-A" class="t">CTRL-A</a>
<a href="#CTRL-A" class="k">CTRL-A</a>                  Add <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> to the number or alphabetic character <a href="motion.txt.html#at" class="d">at</a>
                        or after the cursor.  <span class="s">{not in Vi}</span>

                                                        <a name="v_CTRL-A" class="t">v_CTRL-A</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a><a href="#CTRL-A" class="k">CTRL-A</a>          Add <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> to the number or alphabetic character in
                        the highlighted text.  <span class="s">{not in Vi}</span>

                                                        <a name="v_g_CTRL-A" class="t">v_g_CTRL-A</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>g <a href="#CTRL-A" class="k">CTRL-A</a>        Add <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> to the number or alphabetic character in
                        the highlighted text. If several lines are
                        highlighted, each one will be incremented by an
                        additional <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> (so effectively creating <a href="insert.txt.html#a" class="d">a</a>
                        <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> incrementing sequence).  <span class="s">{not in Vi}</span>
                        For Example, if you have this <a href="eval.txt.html#list" class="d">list</a> of numbers:
<span class="h">                                1. </span>
<span class="h">                                1. </span>
<span class="h">                                1. </span>
<span class="h">                                1. </span>
                        Move to the second "1." and Visually select three
                        lines, pressing <a href="index.txt.html#g" class="d">g</a> <a href="#CTRL-A" class="k">CTRL-A</a> results in:
<span class="h">                                1. </span>
<span class="h">                                2. </span>
<span class="h">                                3. </span>
<span class="h">                                4. </span>

                                                        <a name="CTRL-X" class="t">CTRL-X</a>
<a href="#CTRL-X" class="k">CTRL-X</a>                  Subtract <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> from the number or alphabetic
                        character <a href="motion.txt.html#at" class="d">at</a> or after the cursor.  <span class="s">{not in Vi}</span>

                                                        <a name="v_CTRL-X" class="t">v_CTRL-X</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a><a href="#CTRL-X" class="k">CTRL-X</a>          Subtract <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> from the number or alphabetic
                        character in the highlighted text.  <span class="s">{not in Vi}</span>

                        On MS-Windows, this <a href="motion.txt.html#is" class="d">is</a> mapped to cut <a href="visual.txt.html#Visual" class="d">Visual</a> text
                        <a href="os_dos.txt.html#dos-standard-mappings" class="l">dos-standard-mappings</a><a href="repeat.txt.html#." class="d">.</a>  If you want to disable the
                        mapping, use this: 
<span class="e">                                silent! vunmap &lt;C-X&gt;</span>

                                                        <a name="v_g_CTRL-X" class="t">v_g_CTRL-X</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>g <a href="#CTRL-X" class="k">CTRL-X</a>        Subtract <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> from the number or alphabetic
                        character in the highlighted text. If several lines
                        are highlighted, each value will be decremented by an
                        additional <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> (so effectively creating <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>
                        decrementing sequence).  <span class="s">{not in Vi}</span>

The <a href="#CTRL-A" class="k">CTRL-A</a> and <a href="#CTRL-X" class="k">CTRL-X</a> commands can work for:
<a href="motion.txt.html#-" class="d">-</a> signed and unsigned decimal numbers
<a href="motion.txt.html#-" class="d">-</a> unsigned binary, <a href="eval.txt.html#octal" class="d">octal</a> and hexadecimal numbers
<a href="motion.txt.html#-" class="d">-</a> alphabetic characters

This depends on the <a href="options.txt.html#%27nrformats%27" class="o">'nrformats'</a> option:
<a href="motion.txt.html#-" class="d">-</a> When <a href="options.txt.html#%27nrformats%27" class="o">'nrformats'</a> includes "bin"<a href="motion.txt.html#%2C" class="d">,</a> Vim assumes numbers <a href="starting.txt.html#starting" class="d">starting</a> with '0b' or
  '0B' are binary.
<a href="motion.txt.html#-" class="d">-</a> When <a href="options.txt.html#%27nrformats%27" class="o">'nrformats'</a> includes "<a href="eval.txt.html#octal" class="d">octal</a>"<a href="motion.txt.html#%2C" class="d">,</a> Vim considers numbers <a href="starting.txt.html#starting" class="d">starting</a> with <a href="insert.txt.html#a" class="d">a</a> '0'
  to be octal, unless the number includes <a href="insert.txt.html#a" class="d">a</a> '8' or '9'.  Other numbers are
  decimal and may have <a href="insert.txt.html#a" class="d">a</a> preceding minus sign.
  If the cursor <a href="motion.txt.html#is" class="d">is</a> on <a href="insert.txt.html#a" class="d">a</a> number, the commands apply to that number; otherwise
  Vim uses the number to the right of the cursor.
<a href="motion.txt.html#-" class="d">-</a> When <a href="options.txt.html#%27nrformats%27" class="o">'nrformats'</a> includes "hex"<a href="motion.txt.html#%2C" class="d">,</a> Vim assumes numbers <a href="starting.txt.html#starting" class="d">starting</a> with '0x' or
  '0X' are hexadecimal.  The <a href="#case" class="d">case</a> of the rightmost <a href="print.txt.html#letter" class="d">letter</a> in the number
  determines the <a href="#case" class="d">case</a> of the resulting hexadecimal number.  If there <a href="motion.txt.html#is" class="d">is</a> no
  <a href="print.txt.html#letter" class="d">letter</a> in the current number, Vim uses the previously detected case.
<a href="motion.txt.html#-" class="d">-</a> When <a href="options.txt.html#%27nrformats%27" class="o">'nrformats'</a> includes "alpha"<a href="motion.txt.html#%2C" class="d">,</a> Vim will change the alphabetic character
  under or after the cursor.  This <a href="motion.txt.html#is" class="d">is</a> useful to make lists with an alphabetic
  index.

For decimals <a href="insert.txt.html#a" class="d">a</a> leading negative sign <a href="motion.txt.html#is" class="d">is</a> considered for incrementing/
decrementing, for binary, <a href="eval.txt.html#octal" class="d">octal</a> and hex values, <a href="motion.txt.html#it" class="d">it</a> won't be considered.  To
ignore the sign Visually select the number before using <a href="#CTRL-A" class="k">CTRL-A</a> or <a href="#CTRL-X" class="k">CTRL-X</a>.

For numbers with leading zeros (including all <a href="eval.txt.html#octal" class="d">octal</a> and hexadecimal numbers),
Vim preserves the number of characters in the number when possible.  <a href="#CTRL-A" class="k">CTRL-A</a> on
"0077" results in "0100"<a href="motion.txt.html#%2C" class="d">,</a> <a href="#CTRL-X" class="k">CTRL-X</a> on "0x100" results in "0x0ff"<a href="repeat.txt.html#." class="d">.</a>
There <a href="motion.txt.html#is" class="d">is</a> one exception: When <a href="insert.txt.html#a" class="d">a</a> number that starts with <a href="insert.txt.html#a" class="d">a</a> zero <a href="motion.txt.html#is" class="d">is</a> found not to
be <a href="eval.txt.html#octal" class="d">octal</a> (it contains <a href="insert.txt.html#a" class="d">a</a> '8' or '9'), but <a href="options.txt.html#%27nrformats%27" class="o">'nrformats'</a> does include "<a href="eval.txt.html#octal" class="d">octal</a>"<a href="motion.txt.html#%2C" class="d">,</a>
leading zeros are removed to avoid that the result may be recognized <a href="motion.txt.html#as" class="d">as</a> an
<a href="eval.txt.html#octal" class="d">octal</a> number.

<span class="n">Note</span> that when <a href="options.txt.html#%27nrformats%27" class="o">'nrformats'</a> includes "<a href="eval.txt.html#octal" class="d">octal</a>"<a href="motion.txt.html#%2C" class="d">,</a> decimal numbers with leading
zeros cause mistakes, because they can be confused with <a href="eval.txt.html#octal" class="d">octal</a> numbers.

<span class="n">Note</span> similarly, when <a href="options.txt.html#%27nrformats%27" class="o">'nrformats'</a> includes "bin"<a href="motion.txt.html#%2C" class="d">,</a> binary numbers with <a href="insert.txt.html#a" class="d">a</a> leading
'0x' or '0X' can be interpreted <a href="motion.txt.html#as" class="d">as</a> hexadecimal rather than binary since '0b'
are valid hexadecimal digits.

The <a href="#CTRL-A" class="k">CTRL-A</a> command <a href="motion.txt.html#is" class="d">is</a> very useful in <a href="insert.txt.html#a" class="d">a</a> macro.  Example: Use the following
steps to make <a href="insert.txt.html#a" class="d">a</a> numbered list.

1. Create the first <a href="eval.txt.html#list" class="d">list</a> entry, make sure <a href="motion.txt.html#it" class="d">it</a> starts with <a href="insert.txt.html#a" class="d">a</a> number.
2. qa        <a href="motion.txt.html#-" class="d">-</a> start <a href="repeat.txt.html#recording" class="d">recording</a> into <a href="sponsor.txt.html#register" class="d">register</a> 'a'
3. <a href="#Y" class="d">Y</a>         <a href="motion.txt.html#-" class="d">-</a> <a href="#yank" class="d">yank</a> the entry
4. <a href="#p" class="d">p</a>         <a href="motion.txt.html#-" class="d">-</a> <a href="#put" class="d">put</a> <a href="insert.txt.html#a" class="d">a</a> copy of the entry below the first one
5. <a href="#CTRL-A" class="k">CTRL-A</a>    <a href="motion.txt.html#-" class="d">-</a> increment the number
6. <a href="repeat.txt.html#q" class="d">q</a>         <a href="motion.txt.html#-" class="d">-</a> stop <a href="repeat.txt.html#recording" class="d">recording</a>
7. <a href="map.txt.html#%3Ccount%3E" class="s">&lt;count&gt;</a>@a <a href="motion.txt.html#-" class="d">-</a> repeat the yank, <a href="#put" class="d">put</a> and increment <a href="map.txt.html#%3Ccount%3E" class="s">&lt;count&gt;</a> times


<span class="c">SHIFTING LINES LEFT OR RIGHT                           </span> <a name="shift-left-right" class="t">shift-left-right</a>

                                                        <a name="%3C" class="t">&lt;</a>
&lt;{motion}               Shift <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> lines one <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> leftwards.

                                                        <a name="%3C%3C" class="t">&lt;&lt;</a>
<a href="#%3C%3C" class="d">&lt;&lt;</a>                      Shift <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines one <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> leftwards.

                                                        <a name="v_%3C" class="t">v_&lt;</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a><a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>&lt;        Shift the highlighted lines <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a>
                        leftwards (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  {not in
                        Vi}

                                                        <a name="%3E" class="t">&gt;</a>
 &gt;{motion}              Shift <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> lines one <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> rightwards.

                                                        <a name="%3E%3E" class="t">&gt;&gt;</a>
 <a href="#%3E%3E" class="d">&gt;&gt;</a>                     Shift <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines one <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> rightwards.

                                                        <a name="v_%3E" class="t">v_&gt;</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a><a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>&gt;        Shift the highlighted lines <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a>
                        rightwards (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  {not in
                        Vi}

                                                        <a name="%3A%3C" class="t">:&lt;</a>
:[range]&lt;               Shift <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> lines one <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> left.  Repeat '&lt;'
                        for shifting multiple <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a>s.

:[range]&lt; <span class="s">{count}</span>       Shift <span class="s">{count}</span> lines one <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> left, <a href="starting.txt.html#starting" class="d">starting</a>
                        with <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> (default current line <a href="cmdline.txt.html#cmdline-ranges" class="l">cmdline-ranges</a>).
                        Repeat '&lt;' for shifting multiple <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a>s.

:[range]le[ft] <span class="s">[indent]</span> left align lines in <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a>.  Sets the indent in the
                        lines to <span class="s">[indent]</span> (default 0).  <span class="s">{not in Vi}</span>

                                                        <a name="%3A%3E" class="t">:&gt;</a>
:[range]&gt; <span class="s">[flags]</span>       Shift <span class="s">{count}</span> <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> lines one <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> right.
                        Repeat '&gt;' for shifting multiple <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a>s.
                        See <a href="cmdline.txt.html#ex-flags" class="l">ex-flags</a> for <span class="s">[flags]</span>.

:[range]&gt; <span class="s">{count}</span> <span class="s">[flags]</span>
                        Shift <span class="s">{count}</span> lines one <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> right, <a href="starting.txt.html#starting" class="d">starting</a>
                        with <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> (default current line <a href="cmdline.txt.html#cmdline-ranges" class="l">cmdline-ranges</a>).
                        Repeat '&gt;' for shifting multiple <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a>s.
                        See <a href="cmdline.txt.html#ex-flags" class="l">ex-flags</a> for <span class="s">[flags]</span>.

The "<a href="#%3E" class="d">&gt;</a>" and "<a href="#%3C" class="d">&lt;</a>" commands are handy for <a href="#changing" class="d">changing</a> the indentation within
programs.  Use the <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> option to set the size of the white <a href="intro.txt.html#space" class="d">space</a>
which these commands <a href="insert.txt.html#insert" class="d">insert</a> or delete.  Normally the <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> option <a href="motion.txt.html#is" class="d">is</a> 8,
but you can set <a href="motion.txt.html#it" class="d">it</a> to, say, 3 to make smaller indents.  The <a href="intro.txt.html#shift" class="d">shift</a> leftwards
stops when there <a href="motion.txt.html#is" class="d">is</a> no indent.  The <a href="intro.txt.html#shift" class="d">shift</a> right does not affect empty lines.

If the <a href="options.txt.html#%27shiftround%27" class="o">'shiftround'</a> option <a href="motion.txt.html#is" class="d">is</a> on, the indent <a href="motion.txt.html#is" class="d">is</a> rounded to <a href="insert.txt.html#a" class="d">a</a> multiple of
<a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a>.

If the <a href="options.txt.html#%27smartindent%27" class="o">'smartindent'</a> option <a href="motion.txt.html#is" class="d">is</a> on, or <a href="options.txt.html#%27cindent%27" class="o">'cindent'</a> <a href="motion.txt.html#is" class="d">is</a> on and <a href="options.txt.html#%27cinkeys%27" class="o">'cinkeys'</a> contains
'#' with <a href="insert.txt.html#a" class="d">a</a> zero value, <a href="intro.txt.html#shift" class="d">shift</a> right does not affect lines <a href="starting.txt.html#starting" class="d">starting</a> with '#'
(these are supposed to be <a href="#C" class="d">C</a> preprocessor lines that <a href="vim_faq.txt.html#must" class="d">must</a> stay in column 1).
This can be changed with the <a href="options.txt.html#%27cino%27" class="o">'cino'</a> option, see <a href="indent.txt.html#cino-%23" class="l">cino-#</a><a href="repeat.txt.html#." class="d">.</a>

When the <a href="options.txt.html#%27expandtab%27" class="o">'expandtab'</a> option <a href="motion.txt.html#is" class="d">is</a> off (this <a href="motion.txt.html#is" class="d">is</a> the default) Vim uses <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>s <a href="motion.txt.html#as" class="d">as</a>
much <a href="motion.txt.html#as" class="d">as</a> possible to make the indent.  You can use "&gt;&gt;&lt;&lt;" to replace an indent
made out of spaces with the same indent made out of <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>s (and <a href="insert.txt.html#a" class="d">a</a> few spaces
if necessary).  If the <a href="options.txt.html#%27expandtab%27" class="o">'expandtab'</a> option <a href="motion.txt.html#is" class="d">is</a> on, Vim uses only spaces.  Then
you can use "&gt;&gt;&lt;&lt;" to replace <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>s in the indent by spaces (or use
<span class="e">:retab!</span>).

To move <a href="insert.txt.html#a" class="d">a</a> line several <a href="options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a>s, use <a href="visual.txt.html#Visual" class="d">Visual</a> mode or the <span class="e">:</span> commands.
For example: 
<span class="e">        Vjj4&gt;           move three lines 4 indents to the right</span>
<span class="e">        :&lt;&lt;&lt;            move current line 3 indents to the left</span>
<span class="e">        :&gt;&gt; 5           move 5 lines 2 indents to the right</span>
<span class="e">        :5&gt;&gt;            move line 5 2 indents to the right</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
4. Complex changes                                      <a name="complex-change" class="t">complex-change</a>

4.1 Filter commands                                     <a name="filter" class="t">filter</a>

<a href="insert.txt.html#A" class="d">A</a> <a href="#filter" class="d">filter</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> program that accepts text <a href="motion.txt.html#at" class="d">at</a> standard input, changes <a href="motion.txt.html#it" class="d">it</a> in some
way, and sends <a href="motion.txt.html#it" class="d">it</a> to standard output.  You can use the commands below to send
some text through <a href="insert.txt.html#a" class="d">a</a> filter, so that <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> replaced by the <a href="#filter" class="d">filter</a> output.
Examples of filters are "sort"<a href="motion.txt.html#%2C" class="d">,</a> which sorts lines alphabetically, and
"indent"<a href="motion.txt.html#%2C" class="d">,</a> which formats <a href="#C" class="d">C</a> program files (you need <a href="insert.txt.html#a" class="d">a</a> version of indent that
works like <a href="insert.txt.html#a" class="d">a</a> filter; not all versions do).  The <a href="options.txt.html#%27shell%27" class="o">'shell'</a> option specifies the
shell Vim uses to execute the <a href="#filter" class="d">filter</a> command (See also the <a href="options.txt.html#%27shelltype%27" class="o">'shelltype'</a>
option).  You can repeat <a href="#filter" class="d">filter</a> commands with "<a href="repeat.txt.html#." class="d">.</a>"<a href="repeat.txt.html#." class="d">.</a>  Vim does not recognize <a href="insert.txt.html#a" class="d">a</a>
comment (starting with <a href="motion.txt.html#%27" class="d">'</a>"<a href="motion.txt.html#%27%29" class="d">')</a> after the <span class="e">:!</span> command.

                                                        <a name="%21" class="t">!</a>
!{motion}{filter}       Filter <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> text lines through the external
                        program <span class="s">{filter}</span>.

                                                        <a name="%21%21" class="t">!!</a>
!!{filter}              Filter <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines through the external program
                        <span class="s">{filter}</span>.

                                                        <a name="v_%21" class="t">v_!</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>!<span class="s">{filter}</span>       Filter the highlighted lines through the external
                        program <span class="s">{filter}</span> (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).
                        <span class="s">{not in Vi}</span>

:{range}![!]{filter} [!][arg]                           <a name="%3Arange%21" class="t">:range!</a>
                        Filter <span class="s">{range}</span> lines through the external program
                        <span class="s">{filter}</span>.  Vim replaces the optional bangs with the
                        latest given command and appends the optional <span class="s">[arg]</span>.
                        Vim saves the output of the <a href="#filter" class="d">filter</a> command in <a href="insert.txt.html#a" class="d">a</a>
                        temporary file and then reads the file into the buffer
                        <a href="#tempfile" class="l">tempfile</a><a href="repeat.txt.html#." class="d">.</a>  Vim uses the <a href="options.txt.html#%27shellredir%27" class="o">'shellredir'</a> option to
                        redirect the <a href="#filter" class="d">filter</a> output to the temporary file.
                        However, if the <a href="options.txt.html#%27shelltemp%27" class="o">'shelltemp'</a> option <a href="motion.txt.html#is" class="d">is</a> off then pipes
                        are used when possible (on Unix).
                        When the 'R' flag <a href="motion.txt.html#is" class="d">is</a> included in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> marks in
                        the filtered lines are deleted, unless the
                        <a href="motion.txt.html#%3Akeepmarks" class="l">:keepmarks</a> command <a href="motion.txt.html#is" class="d">is</a> used.  Example: 
<span class="e">                                :keepmarks '&lt;,'&gt;!sort</span>
                       When the number of lines after filtering <a href="motion.txt.html#is" class="d">is</a> <a href="various.txt.html#less" class="d">less</a> than
                        before, marks in the missing lines are deleted anyway.

                                                        <a name="%3D" class="t">=</a>
={motion}               Filter <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> lines through the external program
                        given with the <a href="options.txt.html#%27equalprg%27" class="o">'equalprg'</a> option.  When the <a href="options.txt.html#%27equalprg%27" class="o">'equalprg'</a>
                        option <a href="motion.txt.html#is" class="d">is</a> empty (this <a href="motion.txt.html#is" class="d">is</a> the default), use the
                        internal <a href="#formatting" class="d">formatting</a> function <a href="indent.txt.html#C-indenting" class="l">C-indenting</a> and
                        <a href="options.txt.html#%27lisp%27" class="l">'lisp'</a><a href="repeat.txt.html#." class="d">.</a>  But when <a href="options.txt.html#%27indentexpr%27" class="o">'indentexpr'</a> <a href="motion.txt.html#is" class="d">is</a> not empty, <a href="motion.txt.html#it" class="d">it</a> will
                        be used instead <a href="indent.txt.html#indent-expression" class="l">indent-expression</a><a href="repeat.txt.html#." class="d">.</a>  When Vim was
                        compiled without internal <a href="#formatting" class="d">formatting</a> then the "indent"
                        program <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> last resort.

                                                        <a name="%3D%3D" class="t">==</a>
<a href="#%3D%3D" class="d">==</a>                      Filter <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines like with ={motion}.

                                                        <a name="v_%3D" class="t">v_=</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>=               Filter the highlighted lines like with ={motion}.
                        <span class="s">{not in Vi}</span>


                                                <a name="tempfile" class="t">tempfile</a> <a name="setuid" class="t">setuid</a>
Vim uses temporary files for filtering, generating diffs and also for
tempname().  For Unix, the file will be in <a href="insert.txt.html#a" class="d">a</a> private directory (only
accessible by the current user) to avoid security problems (e.g., <a href="insert.txt.html#a" class="d">a</a> symlink
attack or other people reading your file).  When Vim exits the directory and
all files in <a href="motion.txt.html#it" class="d">it</a> are deleted.  When Vim has the <a href="#setuid" class="d">setuid</a> bit set this may cause
problems, the temp file <a href="motion.txt.html#is" class="d">is</a> owned by the <a href="#setuid" class="d">setuid</a> user but the <a href="#filter" class="d">filter</a> command
probably runs <a href="motion.txt.html#as" class="d">as</a> the original user.
On <a href="os_msdos.txt.html#MS-DOS" class="d">MS-DOS</a> and <a href="os_os2.txt.html#OS%2F2" class="d">OS/2</a> the first of these directories that works <a href="motion.txt.html#is" class="d">is</a> used: $TMP,
$TEMP, c:\TMP, c:\TEMP.
For <a href="os_unix.txt.html#Unix" class="d">Unix</a> the <a href="eval.txt.html#list" class="d">list</a> of directories is: $TMPDIR, /tmp, current-dir, $HOME.
For <a href="os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> the GetTempFileName() system function <a href="motion.txt.html#is" class="d">is</a> used.
For other systems the tmpnam() library function <a href="motion.txt.html#is" class="d">is</a> used.



4.2 Substitute                                          <a name="%3Asubstitute" class="t">:substitute</a>
                                                        <a name="%3As" class="t">:s</a> <a name="%3Asu" class="t">:su</a>
:[range]s[ubstitute]/{pattern}/{string}/[flags] <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>
                        For each line in <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> replace <a href="insert.txt.html#a" class="d">a</a> match of <span class="s">{pattern}</span>
                        with <span class="s">{string}</span>.
                        For the <span class="s">{pattern}</span> see <a href="pattern.txt.html#pattern" class="l">pattern</a><a href="repeat.txt.html#." class="d">.</a>
                        <span class="s">{string}</span> can be <a href="insert.txt.html#a" class="d">a</a> literal string, or something
                        special; see <a href="#sub-replace-special" class="l">sub-replace-special</a><a href="repeat.txt.html#." class="d">.</a>
                                                        <a name="E939" class="t">E939</a>
                        When <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> and <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> are omitted, replace in the
                        current line only.  When <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> <a href="motion.txt.html#is" class="d">is</a> given, replace in
                        <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines, <a href="starting.txt.html#starting" class="d">starting</a> with the last line in <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a>.
                        When <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> <a href="motion.txt.html#is" class="d">is</a> omitted start in the current line.
                        <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> <a href="vim_faq.txt.html#must" class="d">must</a> be <a href="insert.txt.html#a" class="d">a</a> positive number.  Also see
                        <a href="cmdline.txt.html#cmdline-ranges" class="l">cmdline-ranges</a><a href="repeat.txt.html#." class="d">.</a>

                        See <a href="#%3As_flags" class="l">:s_flags</a> for <span class="s">[flags]</span>.

:[range]s[ubstitute] <span class="s">[flags]</span> <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>
:[range]&amp;[&amp;][flags] <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>                                     <a name="%3A%26" class="t">:&amp;</a>
                        Repeat last <a href="#%3Asubstitute" class="d">:substitute</a> with same search <a href="pattern.txt.html#pattern" class="d">pattern</a> and
                        substitute string, but without the same flags.  You
                        may add <span class="s">[flags]</span>, see <a href="#%3As_flags" class="l">:s_flags</a><a href="repeat.txt.html#." class="d">.</a>
                        <span class="n">Note</span> that after <span class="e">:substitute</span> the '&amp;' flag can't be
                        used, it's recognized <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="pattern.txt.html#pattern" class="d">pattern</a> separator.
                        The <a href="intro.txt.html#space" class="d">space</a> between <span class="e">:substitute</span> and the 'c', 'g',
                        'i', 'I' and 'r' flags isn't required, but in scripts
                        it's <a href="insert.txt.html#a" class="d">a</a> good idea to keep <a href="motion.txt.html#it" class="d">it</a> to avoid confusion.

:[range]~[&amp;][flags] <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>                                     <a name="%3A%7E" class="t">:~</a>
                        Repeat last substitute with same substitute <a href="eval.txt.html#string" class="d">string</a>
                        but with last used search pattern.  This <a href="motion.txt.html#is" class="d">is</a> like
                        <span class="e">:&amp;r</span>.  See <a href="#%3As_flags" class="l">:s_flags</a> for <span class="s">[flags]</span>.

                                                                <a name="%26" class="t">&amp;</a>
<a href="#%26" class="d">&amp;</a>                       Synonym for <span class="e">:s</span> (repeat last substitute).  <span class="n">Note</span>
                        that the flags are not remembered, thus <a href="motion.txt.html#it" class="d">it</a> might
                        actually work differently.  You can use <span class="e">:&amp;&amp;</span> to keep
                        the flags.

                                                                <a name="g%26" class="t">g&amp;</a>
<a href="#g%26" class="d">g&amp;</a>                      Synonym for <span class="e">:%s//~/&amp;</span> (repeat last substitute with
                        last search <a href="pattern.txt.html#pattern" class="d">pattern</a> on all lines with the same flags).
                        For example, when you first <a href="diff.txt.html#do" class="d">do</a> <a href="insert.txt.html#a" class="d">a</a> substitution with
                        <span class="e">:s/pattern/repl/flags</span> and then <span class="e">/search</span> for
                        something else, <span class="e">g&amp;</span> will <a href="diff.txt.html#do" class="d">do</a> <span class="e">:%s/search/repl/flags</span>.
                        Mnemonic: global substitute. <span class="s">{not in Vi}</span>

                                                <a name="%3Asnomagic" class="t">:snomagic</a> <a name="%3Asno" class="t">:sno</a>
:[range]sno[magic] <a href="eval.txt.html#..." class="d">...</a>  Same <a href="motion.txt.html#as" class="d">as</a> <span class="e">:substitute</span>, but always use <a href="options.txt.html#%27nomagic%27" class="o">'nomagic'</a>.
                        <span class="s">{not in Vi}</span>

                                                <a name="%3Asmagic" class="t">:smagic</a> <a name="%3Asm" class="t">:sm</a>
:[range]sm[agic] <a href="eval.txt.html#..." class="d">...</a>    Same <a href="motion.txt.html#as" class="d">as</a> <span class="e">:substitute</span>, but always use <a href="options.txt.html#%27magic%27" class="o">'magic'</a>.
                        <span class="s">{not in Vi}</span>

                                                        <a name="%3As_flags" class="t">:s_flags</a>
The flags that you can use for the substitute commands:

                                                        <a name="%3A%26%26" class="t">:&amp;&amp;</a>
[&amp;]     Must be the first one: Keep the flags from the previous substitute
        command.  Examples: 
<span class="e">                :&amp;&amp;</span>
<span class="e">                :s/this/that/&amp;</span>
       <span class="n">Note</span> that <span class="e">:s</span> and <span class="e">:&amp;</span> don't keep the flags.
        <span class="s">{not in Vi}</span>

[c]     Confirm each substitution.  Vim highlights the matching <a href="eval.txt.html#string" class="d">string</a> (with
        <a href="syntax.txt.html#hl-IncSearch" class="l">hl-IncSearch</a>).  You can type:                         <a name="%3As_c" class="t">:s_c</a>
            'y'     to substitute this match
            'l'     to substitute this match and then quit <a href="motion.txt.html#%28" class="d">(</a>"last"<a href="motion.txt.html#%29" class="d">)</a>
            'n'     to skip this match
            <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>   to quit substituting
            'a'     to substitute this and all remaining matches <span class="s">{not in Vi}</span>
            'q'     to quit substituting <span class="s">{not in Vi}</span>
            <a href="scroll.txt.html#CTRL-E" class="k">CTRL-E</a>  to scroll the screen up {not in Vi, not available when
                        compiled without the <a href="various.txt.html#%2Binsert_expand" class="l">+insert_expand</a> feature}
            <a href="scroll.txt.html#CTRL-Y" class="k">CTRL-Y</a>  to scroll the screen down {not in Vi, not available when
                        compiled without the <a href="various.txt.html#%2Binsert_expand" class="l">+insert_expand</a> feature}
        If the <a href="options.txt.html#%27edcompatible%27" class="o">'edcompatible'</a> option <a href="motion.txt.html#is" class="d">is</a> on, Vim remembers the [c] flag and
        toggles <a href="motion.txt.html#it" class="d">it</a> each time you use it, but resets <a href="motion.txt.html#it" class="d">it</a> when you give <a href="insert.txt.html#a" class="d">a</a> new
        search pattern.
        <span class="s">{not in Vi: highlighting of the match, other responses than 'y' or 'n'}</span>

[e]     When the search <a href="pattern.txt.html#pattern" class="d">pattern</a> fails, <a href="diff.txt.html#do" class="d">do</a> not issue an error message and, in
        particular, continue in maps <a href="motion.txt.html#as" class="d">as</a> if no error occurred.  This <a href="motion.txt.html#is" class="d">is</a> most
        useful to prevent the "No match" error from breaking <a href="insert.txt.html#a" class="d">a</a> mapping.  Vim
        does not suppress the following error messages, however:
                Regular expressions can't be delimited by letters
                \ should be followed by /, <a href="pattern.txt.html#%3F" class="d">?</a> or <a href="#%26" class="d">&amp;</a>
                No previous substitute regular <a href="eval.txt.html#expression" class="d">expression</a>
                Trailing characters
                Interrupted
        <span class="s">{not in Vi}</span>

[g]     <a href="insert.txt.html#Replace" class="d">Replace</a> all occurrences in the line.  Without this argument,
        replacement occurs only for the first occurrence in each line.  If
        the <a href="options.txt.html#%27edcompatible%27" class="o">'edcompatible'</a> option <a href="motion.txt.html#is" class="d">is</a> on, Vim remembers this flag and toggles
        <a href="motion.txt.html#it" class="d">it</a> each time you use it, but resets <a href="motion.txt.html#it" class="d">it</a> when you give <a href="insert.txt.html#a" class="d">a</a> new search
        pattern.  If the <a href="options.txt.html#%27gdefault%27" class="o">'gdefault'</a> option <a href="motion.txt.html#is" class="d">is</a> on, this flag <a href="motion.txt.html#is" class="d">is</a> on by default
        and the [g] argument switches <a href="motion.txt.html#it" class="d">it</a> off.

[i]     Ignore <a href="#case" class="d">case</a> for the pattern.  The <a href="options.txt.html#%27ignorecase%27" class="o">'ignorecase'</a> and <a href="options.txt.html#%27smartcase%27" class="o">'smartcase'</a> <a href="options.txt.html#options" class="d">options</a>
        are not used.
        <span class="s">{not in Vi}</span>

[I]     Don't ignore <a href="#case" class="d">case</a> for the pattern.  The <a href="options.txt.html#%27ignorecase%27" class="o">'ignorecase'</a> and <a href="options.txt.html#%27smartcase%27" class="o">'smartcase'</a>
        <a href="options.txt.html#options" class="d">options</a> are not used.
        <span class="s">{not in Vi}</span>

[n]     Report the number of matches, <a href="diff.txt.html#do" class="d">do</a> not actually substitute.  The [c]
        flag <a href="motion.txt.html#is" class="d">is</a> ignored.  The matches are reported <a href="motion.txt.html#as" class="d">as</a> if <a href="options.txt.html#%27report%27" class="o">'report'</a> <a href="motion.txt.html#is" class="d">is</a> zero.
        Useful to <a href="tips.txt.html#count-items" class="l">count-items</a><a href="repeat.txt.html#." class="d">.</a>
        If \= <a href="#sub-replace-expression" class="l">sub-replace-expression</a> <a href="motion.txt.html#is" class="d">is</a> used, the <a href="eval.txt.html#expression" class="d">expression</a> will be
        evaluated in the <a href="eval.txt.html#sandbox" class="l">sandbox</a> <a href="motion.txt.html#at" class="d">at</a> every match.

[p]     Print the line containing the last substitute.

[#]     Like [p] and prepend the line number.

[l]     Like [p] but print the text like <a href="various.txt.html#%3Alist" class="l">:list</a><a href="repeat.txt.html#." class="d">.</a>

[r]     Only useful in combination with <span class="e">:&amp;</span> or <span class="e">:s</span> without arguments.  <span class="e">:&amp;r</span>
        works the same way <a href="motion.txt.html#as" class="d">as</a> <span class="e">:~</span>:  When the search <a href="pattern.txt.html#pattern" class="d">pattern</a> <a href="motion.txt.html#is" class="d">is</a> empty, use the
        previously used search <a href="pattern.txt.html#pattern" class="d">pattern</a> instead of the search <a href="pattern.txt.html#pattern" class="d">pattern</a> from the
        last substitute or <span class="e">:global</span>.  If the last command that did <a href="insert.txt.html#a" class="d">a</a> search
        was <a href="insert.txt.html#a" class="d">a</a> substitute or <span class="e">:global</span>, there <a href="motion.txt.html#is" class="d">is</a> no effect.  If the last
        command was <a href="insert.txt.html#a" class="d">a</a> search command such <a href="motion.txt.html#as" class="d">as</a> "<a href="pattern.txt.html#%2F" class="d">/</a>"<a href="motion.txt.html#%2C" class="d">,</a> use the <a href="pattern.txt.html#pattern" class="d">pattern</a> from that
        command.
        For <span class="e">:s</span> with an argument this already happens: 
<span class="e">                :s/blue/red/</span>
<span class="e">                /green</span>
<span class="e">                :s//red/   or  :~   or  :&amp;r</span>
       The last commands will replace "green" with "red"<a href="repeat.txt.html#." class="d">.</a> 
<span class="e">                :s/blue/red/</span>
<span class="e">                /green</span>
<span class="e">                :&amp;</span>
       The last command will replace "blue" with "red"<a href="repeat.txt.html#." class="d">.</a>
        <span class="s">{not in Vi}</span>

<span class="n">Note</span> that there <a href="motion.txt.html#is" class="d">is</a> no flag to change the "magicness" of the pattern.  <a href="insert.txt.html#A" class="d">A</a>
different command <a href="motion.txt.html#is" class="d">is</a> used instead, or you can use <a href="pattern.txt.html#%2F%5Cv" class="l">/\v</a> and friends.  The
reason <a href="motion.txt.html#is" class="d">is</a> that the flags can only be found by skipping the pattern, and in
order to skip the <a href="pattern.txt.html#pattern" class="d">pattern</a> the "magicness" <a href="vim_faq.txt.html#must" class="d">must</a> be known.  Catch 22!

If the <span class="s">{pattern}</span> for the substitute command <a href="motion.txt.html#is" class="d">is</a> empty, the command uses the
<a href="pattern.txt.html#pattern" class="d">pattern</a> from the last substitute or <span class="e">:global</span> command.  If there <a href="motion.txt.html#is" class="d">is</a> none, but
there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> previous search pattern, that one <a href="motion.txt.html#is" class="d">is</a> used.  With the [r] flag, the
command uses the <a href="pattern.txt.html#pattern" class="d">pattern</a> from the last substitute, <span class="e">:global</span>, or search
command.

If the <span class="s">{string}</span> <a href="motion.txt.html#is" class="d">is</a> omitted the substitute <a href="motion.txt.html#is" class="d">is</a> done <a href="motion.txt.html#as" class="d">as</a> if it's empty.  Thus the
matched <a href="pattern.txt.html#pattern" class="d">pattern</a> <a href="motion.txt.html#is" class="d">is</a> deleted.  The separator after <span class="s">{pattern}</span> can also be left
out then.  Example: 
<span class="e">        :%s/TESTING</span>
This deletes "TESTING" from all lines, but only one per line.

For compatibility with <a href="intro.txt.html#Vi" class="d">Vi</a> these two exceptions are allowed:
"\/{string}/" and "\?{string}?" <a href="diff.txt.html#do" class="d">do</a> the same <a href="motion.txt.html#as" class="d">as</a> "//{string}/r"<a href="repeat.txt.html#." class="d">.</a>
"\&amp;{string}&amp;" does the same <a href="motion.txt.html#as" class="d">as</a> "//{string}/"<a href="repeat.txt.html#." class="d">.</a>
                                                        <a name="E146" class="t">E146</a>
Instead of the '/' which surrounds the <a href="pattern.txt.html#pattern" class="d">pattern</a> and replacement string, you
can use any other single-byte character, but not an alphanumeric character,
'\', <a href="motion.txt.html#%27" class="d">'</a>"<a href="motion.txt.html#%27" class="d">'</a> or <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27." class="d">'.</a>  This <a href="motion.txt.html#is" class="d">is</a> useful if you want to include <a href="insert.txt.html#a" class="d">a</a> '/' in the search
<a href="pattern.txt.html#pattern" class="d">pattern</a> or replacement string.  Example: 
<span class="e">        :s+/+//+</span>
<span class="e"></span>
For the definition of <a href="insert.txt.html#a" class="d">a</a> pattern, see <a href="pattern.txt.html#pattern" class="l">pattern</a><a href="repeat.txt.html#." class="d">.</a>  In <a href="visual.txt.html#Visual" class="d">Visual</a> block mode, use
<a href="pattern.txt.html#%2F%5C%25V" class="l">/\%V</a> in the <a href="pattern.txt.html#pattern" class="d">pattern</a> to have the substitute work in the block only.
Otherwise <a href="motion.txt.html#it" class="d">it</a> works on whole lines anyway.

                                        <a name="sub-replace-special" class="t">sub-replace-special</a> <a name="%3As%5C%3D" class="t">:s\=</a>
When the <span class="s">{string}</span> starts with "\=" <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> evaluated <a href="motion.txt.html#as" class="d">as</a> an expression, see
<a href="#sub-replace-expression" class="l">sub-replace-expression</a><a href="repeat.txt.html#." class="d">.</a>  You can use that for complex replacement or special
characters.

Otherwise these characters in <span class="s">{string}</span> have <a href="insert.txt.html#a" class="d">a</a> special meaning:
                                                                <a name="%3As%25" class="t">:s%</a>
When <span class="s">{string}</span> <a href="motion.txt.html#is" class="d">is</a> equal to "<a href="motion.txt.html#%25" class="d">%</a>" and '/' <a href="motion.txt.html#is" class="d">is</a> included with the <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> option,
then the <span class="s">{string}</span> of the previous substitute command <a href="motion.txt.html#is" class="d">is</a> used, see <a href="options.txt.html#cpo-%2F" class="l">cpo-/</a>

<span class="h">magic   nomagic   action    </span>
  <a href="#%26" class="d">&amp;</a>       \&amp;      replaced with the whole matched <a href="pattern.txt.html#pattern" class="d">pattern</a>            <a name="s%2F%5C%26" class="t">s/\&amp;</a>
 \&amp;        <a href="#%26" class="d">&amp;</a>      replaced with <a href="#%26" class="d">&amp;</a>
      <a href="#%5C0" class="d">\0</a>          replaced with the whole matched <a href="pattern.txt.html#pattern" class="d">pattern</a>          <a name="%5C0" class="t">\0</a> <a name="s%2F%5C0" class="t">s/\0</a>
      \1          replaced with the matched <a href="pattern.txt.html#pattern" class="d">pattern</a> in the first
                  pair of ()                                         <a name="s%2F%5C1" class="t">s/\1</a>
      \2          replaced with the matched <a href="pattern.txt.html#pattern" class="d">pattern</a> in the second
                  pair of ()                                         <a name="s%2F%5C2" class="t">s/\2</a>
      ..          ..                                                 <a name="s%2F%5C3" class="t">s/\3</a>
      \9          replaced with the matched <a href="pattern.txt.html#pattern" class="d">pattern</a> in the ninth
                  pair of ()                                         <a name="s%2F%5C9" class="t">s/\9</a>
  <a href="#%7E" class="d">~</a>       \~      replaced with the <span class="s">{string}</span> of the previous
                  substitute                                         <a name="s%7E" class="t">s~</a>
 \~        <a href="#%7E" class="d">~</a>      replaced with <a href="#%7E" class="d">~</a>                                    <a name="s%2F%5C%7E" class="t">s/\~</a>
      \u          next character made <a href="#uppercase" class="d">uppercase</a>                      <a name="s%2F%5Cu" class="t">s/\u</a>
      \U          following characters made uppercase, until \E      <a name="s%2F%5CU" class="t">s/\U</a>
      \l          next character made <a href="#lowercase" class="d">lowercase</a>                      <a name="s%2F%5Cl" class="t">s/\l</a>
      \L          following characters made lowercase, until \E      <a name="s%2F%5CL" class="t">s/\L</a>
      \e          <a href="intro.txt.html#end" class="d">end</a> of \u, \U, \l and \L (NOTE: not <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>!)        <a name="s%2F%5Ce" class="t">s/\e</a>
      \E          <a href="intro.txt.html#end" class="d">end</a> of \u, \U, \l and \L                           <a name="s%2F%5CE" class="t">s/\E</a>
      <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>        split line in two <a href="motion.txt.html#at" class="d">at</a> this point
                  (Type the <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> <a href="motion.txt.html#as" class="d">as</a> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> <a href="intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a>)                  <a name="s%3CCR%3E" class="t">s&lt;CR&gt;</a>
      \r          idem                                               <a name="s%2F%5Cr" class="t">s/\r</a>
      \&lt;CR&gt;       <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#carriage-return" class="d">carriage-return</a> (CTRL-M)
                  (Type the <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> <a href="motion.txt.html#as" class="d">as</a> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> <a href="intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a>)                  <a name="s%2F%5C%3CCR%3E" class="t">s/\&lt;CR&gt;</a>
      \n          <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a> (&lt;NUL&gt; in the file)
                  (does NOT break the line)                          <a name="s%2F%5Cn" class="t">s/\n</a>
      \b          <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a>                                      <a name="s%2F%5Cb" class="t">s/\b</a>
      \t          <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>                                     <a name="s%2F%5Ct" class="t">s/\t</a>
      \\          <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> single <a href="intro.txt.html#backslash" class="d">backslash</a>                          <a name="s%2F%5C%5C" class="t">s/\\</a>
      \x          where <a href="#x" class="d">x</a> <a href="motion.txt.html#is" class="d">is</a> any character not mentioned above:
                  Reserved for future expansion

The special meaning <a href="motion.txt.html#is" class="d">is</a> also used inside the third argument <span class="s">{sub}</span> of
the <a href="eval.txt.html#substitute%28%29" class="l">substitute()</a> function with the following exceptions:
  <a href="motion.txt.html#-" class="d">-</a> <a href="insert.txt.html#A" class="d">A</a> <a href="motion.txt.html#%25" class="d">%</a> inserts <a href="insert.txt.html#a" class="d">a</a> percent literally without regard to <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>.
  <a href="motion.txt.html#-" class="d">-</a> magic <a href="motion.txt.html#is" class="d">is</a> always set without regard to <a href="options.txt.html#%27magic%27" class="o">'magic'</a>.
  <a href="motion.txt.html#-" class="d">-</a> <a href="insert.txt.html#A" class="d">A</a> <a href="#%7E" class="d">~</a> inserts <a href="insert.txt.html#a" class="d">a</a> tilde literally.
  <a href="motion.txt.html#-" class="d">-</a> <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> and \r inserts <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#carriage-return" class="d">carriage-return</a> (CTRL-M).
  <a href="motion.txt.html#-" class="d">-</a> \&lt;CR&gt; does not have <a href="insert.txt.html#a" class="d">a</a> special meaning. it's just one of \x.

Examples: 
<span class="e">  :s/a\|b/xxx\0xxx/g             modifies "a b"      to "xxxaxxx xxxbxxx"</span>
<span class="e">  :s/\([abc]\)\([efg]\)/\2\1/g   modifies "af fa bg" to "fa fa gb"</span>
<span class="e">  :s/abcde/abc^Mde/              modifies "abcde"    to "abc", "de" (two lines)</span>
<span class="e">  :s/$/\^M/                      modifies "abcde"    to "abcde^M"</span>
<span class="e">  :s/\w\+/\u\0/g                 modifies "bla bla"  to "Bla Bla"</span>
<span class="e">  :s/\w\+/\L\u\0/g               modifies "BLA bla"  to "Bla Bla"</span>
<span class="e"></span>
<span class="n">Note:</span> "\L\u" can be used to capitalize the first <a href="print.txt.html#letter" class="d">letter</a> of <a href="insert.txt.html#a" class="d">a</a> word.  This <a href="motion.txt.html#is" class="d">is</a>
not compatible with <a href="intro.txt.html#Vi" class="d">Vi</a> and older versions of Vim, where the "\u" would cancel
out the "\L"<a href="repeat.txt.html#." class="d">.</a> Same for "\U\l"<a href="repeat.txt.html#." class="d">.</a>

<span class="n">Note:</span> In previous versions <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> was handled in <a href="insert.txt.html#a" class="d">a</a> special way.  Since this <a href="motion.txt.html#is" class="d">is</a>
not <a href="intro.txt.html#Vi" class="d">Vi</a> compatible, this was removed.  Use <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#backslash" class="d">backslash</a> instead.

<span class="h">command         text    result </span>
:s/aa/a^Ma/     aa      a&lt;line-break&gt;a
:s/aa/a\^Ma/    aa      a^Ma
:s/aa/a\\^Ma/   aa      a\&lt;line-break&gt;a

(you need to type <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> to get <a href="insert.txt.html#a" class="d">a</a> ^M here)

The numbering of "\1"<a href="motion.txt.html#%2C" class="d">,</a> "\2" etc. <a href="motion.txt.html#is" class="d">is</a> done based on which "\(" comes first in
the <a href="pattern.txt.html#pattern" class="d">pattern</a> (going left to right).  When <a href="insert.txt.html#a" class="d">a</a> parentheses group matches several
times, the last one will be used for "\1"<a href="motion.txt.html#%2C" class="d">,</a> "\2"<a href="motion.txt.html#%2C" class="d">,</a> etc.  Example: 
<span class="e">  :s/\(\(a[a-d] \)*\)/\2/      modifies "aa ab x" to "ab x"</span>
The "\2" <a href="motion.txt.html#is" class="d">is</a> for "\(a[a-d] \)"<a href="repeat.txt.html#." class="d">.</a>  At first <a href="motion.txt.html#it" class="d">it</a> matches "aa "<a href="motion.txt.html#%2C" class="d">,</a> secondly "<a href="motion.txt.html#ab" class="d">ab</a> "<a href="repeat.txt.html#." class="d">.</a>

When using parentheses in combination with <a href="motion.txt.html#%27" class="d">'</a>|', like in \([ab]\)\|\([cd]\),
either the first or second <a href="pattern.txt.html#pattern" class="d">pattern</a> in parentheses did not match, so either
\1 or \2 <a href="motion.txt.html#is" class="d">is</a> empty.  Example: 
<span class="e">  :s/\([ab]\)\|\([cd]\)/\1x/g   modifies "a b c d"  to "ax bx x x"</span>


                <a name="%3Asc" class="t">:sc</a> <a name="%3Asce" class="t">:sce</a> <a name="%3Ascg" class="t">:scg</a> <a name="%3Asci" class="t">:sci</a> <a name="%3AscI" class="t">:scI</a> <a name="%3Ascl" class="t">:scl</a> <a name="%3Ascp" class="t">:scp</a> <a name="%3Asg" class="t">:sg</a> <a name="%3Asgc" class="t">:sgc</a>
                <a name="%3Asge" class="t">:sge</a> <a name="%3Asgi" class="t">:sgi</a> <a name="%3AsgI" class="t">:sgI</a> <a name="%3Asgl" class="t">:sgl</a> <a name="%3Asgn" class="t">:sgn</a> <a name="%3Asgp" class="t">:sgp</a> <a name="%3Asgr" class="t">:sgr</a> <a name="%3AsI" class="t">:sI</a> <a name="%3Asi" class="t">:si</a>
                <a name="%3Asic" class="t">:sic</a> <a name="%3AsIc" class="t">:sIc</a> <a name="%3Asie" class="t">:sie</a> <a name="%3AsIe" class="t">:sIe</a> <a name="%3AsIg" class="t">:sIg</a> <a name="%3AsIl" class="t">:sIl</a> <a name="%3Asin" class="t">:sin</a> <a name="%3AsIn" class="t">:sIn</a> <a name="%3AsIp" class="t">:sIp</a>
                <a name="%3Asip" class="t">:sip</a> <a name="%3AsIr" class="t">:sIr</a> <a name="%3Asir" class="t">:sir</a> <a name="%3Asr" class="t">:sr</a> <a name="%3Asrc" class="t">:src</a> <a name="%3Asrg" class="t">:srg</a> <a name="%3Asri" class="t">:sri</a> <a name="%3AsrI" class="t">:srI</a> <a name="%3Asrl" class="t">:srl</a>
                <a name="%3Asrn" class="t">:srn</a> <a name="%3Asrp" class="t">:srp</a>
<span class="h">2-letter and 3-letter :substitute commands </span>

     <a href="eval.txt.html#List" class="d">List</a> of <a href="#%3Asubstitute" class="d">:substitute</a> commands
     |      <a href="#c" class="d">c</a>    <a href="motion.txt.html#e" class="d">e</a>    <a href="index.txt.html#g" class="d">g</a>    <a href="insert.txt.html#i" class="d">i</a>    <a href="insert.txt.html#I" class="d">I</a>    <a href="pattern.txt.html#n" class="d">n</a>    <a href="#p" class="d">p</a>    <a href="motion.txt.html#l" class="d">l</a>    <a href="#r" class="d">r</a>
     | <a href="#c" class="d">c</a>  <a href="#%3Asc" class="d">:sc</a>  <a href="#%3Asce" class="d">:sce</a> <a href="#%3Ascg" class="d">:scg</a> <a href="#%3Asci" class="d">:sci</a> <a href="#%3AscI" class="d">:scI</a> :scn <a href="#%3Ascp" class="d">:scp</a> <a href="#%3Ascl" class="d">:scl</a>  <a href="starting.txt.html#---" class="d">---</a>
     | <a href="motion.txt.html#e" class="d">e</a>
     | <a href="index.txt.html#g" class="d">g</a>  <a href="#%3Asgc" class="d">:sgc</a> <a href="#%3Asge" class="d">:sge</a> <a href="#%3Asg" class="d">:sg</a>  <a href="#%3Asgi" class="d">:sgi</a> <a href="#%3AsgI" class="d">:sgI</a> <a href="#%3Asgn" class="d">:sgn</a> <a href="#%3Asgp" class="d">:sgp</a> <a href="#%3Asgl" class="d">:sgl</a> <a href="#%3Asgr" class="d">:sgr</a>
     | <a href="insert.txt.html#i" class="d">i</a>  <a href="#%3Asic" class="d">:sic</a> <a href="#%3Asie" class="d">:sie</a>  <a href="starting.txt.html#---" class="d">---</a> <a href="#%3Asi" class="d">:si</a>  :siI <a href="#%3Asin" class="d">:sin</a> <a href="#%3Asip" class="d">:sip</a>  <a href="starting.txt.html#---" class="d">---</a> <a href="#%3Asir" class="d">:sir</a>
     | <a href="insert.txt.html#I" class="d">I</a>  <a href="#%3AsIc" class="d">:sIc</a> <a href="#%3AsIe" class="d">:sIe</a> <a href="#%3AsIg" class="d">:sIg</a> :sIi <a href="#%3AsI" class="d">:sI</a>  <a href="#%3AsIn" class="d">:sIn</a> <a href="#%3AsIp" class="d">:sIp</a> <a href="#%3AsIl" class="d">:sIl</a> <a href="#%3AsIr" class="d">:sIr</a>
     | <a href="pattern.txt.html#n" class="d">n</a>
     | <a href="#p" class="d">p</a>
     | <a href="motion.txt.html#l" class="d">l</a>
     | <a href="#r" class="d">r</a>  <a href="#%3Asrc" class="d">:src</a>  <a href="starting.txt.html#---" class="d">---</a> <a href="#%3Asrg" class="d">:srg</a> <a href="#%3Asri" class="d">:sri</a> <a href="#%3AsrI" class="d">:srI</a> <a href="#%3Asrn" class="d">:srn</a> <a href="#%3Asrp" class="d">:srp</a> <a href="#%3Asrl" class="d">:srl</a> <a href="#%3Asr" class="d">:sr</a>

Exceptions:
     <a href="repeat.txt.html#%3Ascr" class="d">:scr</a>  <a href="motion.txt.html#is" class="d">is</a>  <span class="e">:scriptnames</span>
     <a href="options.txt.html#%3Ase" class="d">:se</a>   <a href="motion.txt.html#is" class="d">is</a>  <span class="e">:set</span>
     <a href="sign.txt.html#%3Asig" class="d">:sig</a>  <a href="motion.txt.html#is" class="d">is</a>  <span class="e">:sign</span>
     <a href="various.txt.html#%3Asil" class="d">:sil</a>  <a href="motion.txt.html#is" class="d">is</a>  <span class="e">:silent</span>
     <a href="windows.txt.html#%3Asn" class="d">:sn</a>   <a href="motion.txt.html#is" class="d">is</a>  <span class="e">:snext</span>
     <a href="windows.txt.html#%3Asp" class="d">:sp</a>   <a href="motion.txt.html#is" class="d">is</a>  <span class="e">:split</span>
     <a href="various.txt.html#%3Asl" class="d">:sl</a>   <a href="motion.txt.html#is" class="d">is</a>  <span class="e">:sleep</span>
     <a href="windows.txt.html#%3Asre" class="d">:sre</a>  <a href="motion.txt.html#is" class="d">is</a>  <span class="e">:srewind</span>


Substitute with an <a href="eval.txt.html#expression" class="d">expression</a>                   <a name="sub-replace-expression" class="t">sub-replace-expression</a>
                                                <a name="sub-replace-%5C%3D" class="t">sub-replace-\=</a> <a name="s%2F%5C%3D" class="t">s/\=</a>
When the substitute <a href="eval.txt.html#string" class="d">string</a> starts with "\=" the remainder <a href="motion.txt.html#is" class="d">is</a> interpreted <a href="motion.txt.html#as" class="d">as</a> an
expression.

The special meaning for characters <a href="motion.txt.html#as" class="d">as</a> mentioned <a href="motion.txt.html#at" class="d">at</a> <a href="#sub-replace-special" class="l">sub-replace-special</a> does
not apply except for "<a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>"<a href="repeat.txt.html#." class="d">.</a>  <a href="insert.txt.html#A" class="d">A</a> <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a> character <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> line break, you
can get one with <a href="insert.txt.html#a" class="d">a</a> double-quote string: "\n"<a href="repeat.txt.html#." class="d">.</a>  Prepend <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#backslash" class="d">backslash</a> to get <a href="insert.txt.html#a" class="d">a</a>
real <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a> character (which will be <a href="insert.txt.html#a" class="d">a</a> NUL in the file).

The "\=" <a href="intro.txt.html#notation" class="d">notation</a> can also be used inside the third argument <span class="s">{sub}</span> of
<a href="eval.txt.html#substitute%28%29" class="l">substitute()</a> function.  In this case, the special meaning for characters <a href="motion.txt.html#as" class="d">as</a>
mentioned <a href="motion.txt.html#at" class="d">at</a> <a href="#sub-replace-special" class="l">sub-replace-special</a> does not apply <a href="motion.txt.html#at" class="d">at</a> all. Especially, <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> and
<a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a> are interpreted not <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> line break but <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#carriage-return" class="d">carriage-return</a> and <a href="insert.txt.html#a" class="d">a</a>
new-line respectively.

When the result <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> then the items are joined with separating line
breaks.  Thus each item becomes <a href="insert.txt.html#a" class="d">a</a> line, except that they can contain line
breaks themselves.

The whole matched text can be accessed with "submatch(0)"<a href="repeat.txt.html#." class="d">.</a>  The text matched
with the first pair of () with "submatch(1)"<a href="repeat.txt.html#." class="d">.</a>  Likewise for further
sub-matches in ().

Be careful: The separation character <a href="vim_faq.txt.html#must" class="d">must</a> not appear in the expression!
Consider using <a href="insert.txt.html#a" class="d">a</a> character like "<a href="repeat.txt.html#%40" class="d">@</a>" or "<a href="cmdline.txt.html#%3A" class="d">:</a>"<a href="repeat.txt.html#." class="d">.</a>  There <a href="motion.txt.html#is" class="d">is</a> no problem if the result
of the <a href="eval.txt.html#expression" class="d">expression</a> contains the separation character.

Examples: 
<span class="e">        :s@\n@\="\r" . expand("$HOME") . "\r"@</span>
This replaces an end-of-line with <a href="insert.txt.html#a" class="d">a</a> new line containing the value of $HOME. 
<span class="e"></span>
<span class="e">        s/E/\="\&lt;Char-0x20ac&gt;"/g</span>
This replaces each 'E' character with <a href="insert.txt.html#a" class="d">a</a> euro sign.  Read more in <a href="map.txt.html#%3CChar-%3E" class="l">&lt;Char-&gt;</a><a href="repeat.txt.html#." class="d">.</a>


4.3 Search and replace                                  <a name="search-replace" class="t">search-replace</a>

                                                        <a name="%3Apro" class="t">:pro</a> <a name="%3Apromptfind" class="t">:promptfind</a>
:promptf[ind] <span class="s">[string]</span>
                        Put up <a href="insert.txt.html#a" class="d">a</a> Search dialog.  When <span class="s">[string]</span> <a href="motion.txt.html#is" class="d">is</a> given, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a>
                        used <a href="motion.txt.html#as" class="d">as</a> the initial search string.
                        <span class="s">{only for Win32, Motif and GTK GUI}</span>

                                                <a name="%3Apromptr" class="t">:promptr</a> <a name="%3Apromptrepl" class="t">:promptrepl</a>
:promptr[epl] <span class="s">[string]</span>
                        Put up <a href="insert.txt.html#a" class="d">a</a> Search/Replace dialog.  When <span class="s">[string]</span> <a href="motion.txt.html#is" class="d">is</a>
                        given, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> the initial search string.
                        <span class="s">{only for Win32, Motif and GTK GUI}</span>


4.4 Changing tabs                                       <a name="change-tabs" class="t">change-tabs</a>
                                                        <a name="%3Aret" class="t">:ret</a> <a name="%3Aretab" class="t">:retab</a> <a name="%3Aretab%21" class="t">:retab!</a>
:[range]ret[ab][!] <span class="s">[new_tabstop]</span>
                        <a href="insert.txt.html#Replace" class="d">Replace</a> all sequences of <a href="pattern.txt.html#white-space" class="d">white-space</a> containing <a href="insert.txt.html#a" class="d">a</a>
                        <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> with new strings of <a href="pattern.txt.html#white-space" class="d">white-space</a> using the new
                        tabstop value given.  If you <a href="diff.txt.html#do" class="d">do</a> not specify <a href="insert.txt.html#a" class="d">a</a> new
                        tabstop size or <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> zero, Vim uses the current value
                        of <a href="options.txt.html#%27tabstop%27" class="o">'tabstop'</a>.
                        The current value of <a href="options.txt.html#%27tabstop%27" class="o">'tabstop'</a> <a href="motion.txt.html#is" class="d">is</a> always used to
                        compute the width of existing tabs.
                        With !, Vim also replaces strings of only normal
                        spaces with tabs where appropriate.
                        With <a href="options.txt.html#%27expandtab%27" class="o">'expandtab'</a> on, Vim replaces all tabs with the
                        appropriate number of spaces.
                        This command sets <a href="options.txt.html#%27tabstop%27" class="o">'tabstop'</a> to the new value given,
                        and if performed on the whole file, which <a href="motion.txt.html#is" class="d">is</a> default,
                        should not make any visible change.
                        Careful: This command modifies any <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> characters
                        inside of strings in <a href="insert.txt.html#a" class="d">a</a> <a href="#C" class="d">C</a> program.  Use "\t" to avoid
                        this (that's <a href="insert.txt.html#a" class="d">a</a> good habit anyway).
                        <span class="e">:retab!</span> may also change <a href="insert.txt.html#a" class="d">a</a> sequence of spaces by
                        <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> characters, which can mess up <a href="insert.txt.html#a" class="d">a</a> printf().
                        <span class="s">{not in Vi}</span>

                                                        <a name="retab-example" class="t">retab-example</a>
Example for using autocommands and "<a href="#%3Aretab" class="d">:retab</a>" to edit <a href="insert.txt.html#a" class="d">a</a> file which <a href="motion.txt.html#is" class="d">is</a> stored
with tabstops <a href="motion.txt.html#at" class="d">at</a> 8 but edited with tabstops set <a href="motion.txt.html#at" class="d">at</a> 4.  Warning: white <a href="intro.txt.html#space" class="d">space</a>
inside of strings can change!  Also see <a href="options.txt.html#%27softtabstop%27" class="o">'softtabstop'</a> option. 
<span class="e"></span>
<span class="e">  :auto BufReadPost     *.xx    retab! 4</span>
<span class="e">  :auto BufWritePre     *.xx    retab! 8</span>
<span class="e">  :auto BufWritePost    *.xx    retab! 4</span>
<span class="e">  :auto BufNewFile      *.xx    set ts=4</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
5. Copying and moving text                              <a name="copy-move" class="t">copy-move</a>

                                                        <a name="quote" class="t">quote</a>
"<span class="s">{a-zA-Z0-9.%#:-"}</span>      Use <a href="sponsor.txt.html#register" class="d">register</a> <span class="s">{a-zA-Z0-9.%#:-"}</span> for next delete, <a href="#yank" class="d">yank</a>
                        or <a href="#put" class="d">put</a> (use <a href="#uppercase" class="d">uppercase</a> character to append with
                        delete and yank) ({.%#:} only work with put).

                                                        <a name="%3Areg" class="t">:reg</a> <a name="%3Aregisters" class="t">:registers</a>
:reg[isters]            Display the contents of all numbered and named
                        registers.  If <a href="insert.txt.html#a" class="d">a</a> <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> written to for <a href="various.txt.html#%3Aredir" class="l">:redir</a>
                        <a href="motion.txt.html#it" class="d">it</a> will not be listed.
                        <span class="s">{not in Vi}</span>


:reg[isters] <span class="s">{arg}</span>      Display the contents of the numbered and named
                        <a href="#registers" class="d">registers</a> that are mentioned in <span class="s">{arg}</span>.  For example: 
<span class="e">                                :reg 1a</span>
                       to display <a href="#registers" class="d">registers</a> '1' and 'a'.  Spaces are allowed
                        in <span class="s">{arg}</span>.  <span class="s">{not in Vi}</span>

                                                        <a name="%3Adi" class="t">:di</a> <a name="%3Adisplay" class="t">:display</a>
:di[splay] <span class="s">[arg]</span>        Same <a href="motion.txt.html#as" class="d">as</a> :registers.  <span class="s">{not in Vi}</span>

                                                        <a name="y" class="t">y</a> <a name="yank" class="t">yank</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]y{motion}           Yank <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> text [into <a href="sponsor.txt.html#register" class="d">register</a> x].  When no
                        characters are to be yanked (e.g., "y0" in column 1),
                        this <a href="motion.txt.html#is" class="d">is</a> an error when <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> includes the 'E'
                        flag.

                                                        <a name="yy" class="t">yy</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]yy                  Yank <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] <a href="motion.txt.html#linewise" class="l">linewise</a><a href="repeat.txt.html#." class="d">.</a>

                                                        <a name="Y" class="t">Y</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]Y                   <a href="#yank" class="d">yank</a> <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] (synonym for
                        yy, <a href="motion.txt.html#linewise" class="l">linewise</a>).  If you like "<a href="#Y" class="d">Y</a>" to work from the
                        cursor to the <a href="intro.txt.html#end" class="d">end</a> of line (which <a href="motion.txt.html#is" class="d">is</a> more logical,
                        but not Vi-compatible) use "<a href="map.txt.html#%3Amap" class="d">:map</a> <a href="#Y" class="d">Y</a> y$"<a href="repeat.txt.html#." class="d">.</a>

                                                        <a name="v_y" class="t">v_y</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]y           Yank the highlighted text [into <a href="sponsor.txt.html#register" class="d">register</a> x] (for
                        <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  <span class="s">{not in Vi}</span>

                                                        <a name="v_Y" class="t">v_Y</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>["x]Y           Yank the highlighted lines [into <a href="sponsor.txt.html#register" class="d">register</a> x] (for
                        <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  <span class="s">{not in Vi}</span>

                                                        <a name="%3Ay" class="t">:y</a> <a name="%3Ayank" class="t">:yank</a> <a name="E850" class="t">E850</a>
:[range]y[ank] [x]      Yank <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> lines [into <a href="sponsor.txt.html#register" class="d">register</a> x]. Yanking to the
                        "* or "<a href="motion.txt.html#%2B" class="d">+</a> <a href="#registers" class="d">registers</a> <a href="motion.txt.html#is" class="d">is</a> possible only when the
                        <a href="various.txt.html#%2Bclipboard" class="l">+clipboard</a> feature <a href="motion.txt.html#is" class="d">is</a> included.

:[range]y[ank] [x] <span class="s">{count}</span>
                        Yank <span class="s">{count}</span> lines, <a href="starting.txt.html#starting" class="d">starting</a> with last line number
                        in <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> (default: current line <a href="cmdline.txt.html#cmdline-ranges" class="l">cmdline-ranges</a>),
                        [into <a href="sponsor.txt.html#register" class="d">register</a> x].

                                                        <a name="p" class="t">p</a> <a name="put" class="t">put</a> <a name="E353" class="t">E353</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]p                   Put the text [from <a href="sponsor.txt.html#register" class="d">register</a> x] after the cursor
                        <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> times.  <span class="s">{Vi: no count}</span>

                                                        <a name="P" class="t">P</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]P                   Put the text [from <a href="sponsor.txt.html#register" class="d">register</a> x] before the cursor
                        <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a> times.  <span class="s">{Vi: no count}</span>

                                                        <a name="%3CMiddleMouse%3E" class="t">&lt;MiddleMouse&gt;</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]&lt;MiddleMouse&gt;       Put the text from <a href="insert.txt.html#a" class="d">a</a> <a href="sponsor.txt.html#register" class="d">register</a> before the cursor <a href="intro.txt.html#%5Bcount%5D" class="s">[count]</a>
                        times.  Uses the "* register, unless another <a href="motion.txt.html#is" class="d">is</a>
                        specified.
                        Leaves the cursor <a href="motion.txt.html#at" class="d">at</a> the <a href="intro.txt.html#end" class="d">end</a> of the new text.
                        Using the mouse only works when <a href="options.txt.html#%27mouse%27" class="o">'mouse'</a> contains 'n'
                        or 'a'.
                        <span class="s">{not in Vi}</span>
                        If you have <a href="insert.txt.html#a" class="d">a</a> scrollwheel and often accidentally paste
                        text, you can use these mappings to disable the
                        pasting with the middle mouse button: 
<span class="e">                                :map &lt;MiddleMouse&gt; &lt;Nop&gt;</span>
<span class="e">                                :imap &lt;MiddleMouse&gt; &lt;Nop&gt;</span>
                       You might want to disable the multi-click versions
                        too, see <a href="term.txt.html#double-click" class="l">double-click</a><a href="repeat.txt.html#." class="d">.</a>

                                                        <a name="gp" class="t">gp</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]gp                  Just like "<a href="#p" class="d">p</a>"<a href="motion.txt.html#%2C" class="d">,</a> but leave the cursor just after the new
                        text.  <span class="s">{not in Vi}</span>

                                                        <a name="gP" class="t">gP</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]gP                  Just like "<a href="#P" class="d">P</a>"<a href="motion.txt.html#%2C" class="d">,</a> but leave the cursor just after the new
                        text.  <span class="s">{not in Vi}</span>

                                                        <a name="%3Apu" class="t">:pu</a> <a name="%3Aput" class="t">:put</a>
:[line]pu[t] [x]        Put the text [from <a href="sponsor.txt.html#register" class="d">register</a> x] after <span class="s">[line]</span> (default
                        current line).  This always works <a href="motion.txt.html#linewise" class="l">linewise</a><a href="motion.txt.html#%2C" class="d">,</a> thus
                        this command can be used to <a href="#put" class="d">put</a> <a href="insert.txt.html#a" class="d">a</a> yanked block <a href="motion.txt.html#as" class="d">as</a> new
                        lines.
                        If no <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> specified, <a href="motion.txt.html#it" class="d">it</a> depends on the <a href="options.txt.html#%27cb%27" class="o">'cb'</a>
                        option: If <a href="options.txt.html#%27cb%27" class="o">'cb'</a> contains "unnamedplus"<a href="motion.txt.html#%2C" class="d">,</a> paste from the
                        <a href="motion.txt.html#%2B" class="d">+</a> <a href="sponsor.txt.html#register" class="d">register</a> <a href="gui_x11.txt.html#quoteplus" class="l">quoteplus</a><a href="repeat.txt.html#." class="d">.</a>  Otherwise, if <a href="options.txt.html#%27cb%27" class="o">'cb'</a> contains
                        "unnamed"<a href="motion.txt.html#%2C" class="d">,</a> paste from the * <a href="sponsor.txt.html#register" class="d">register</a> <a href="gui.txt.html#quotestar" class="l">quotestar</a><a href="repeat.txt.html#." class="d">.</a>
                        Otherwise, paste from the unnamed <a href="sponsor.txt.html#register" class="d">register</a>
                        <a href="#quote_quote" class="l">quote_quote</a><a href="repeat.txt.html#." class="d">.</a>
                        The <a href="sponsor.txt.html#register" class="d">register</a> can also be '=' followed by an optional
                        expression.  The <a href="eval.txt.html#expression" class="d">expression</a> continues until the <a href="intro.txt.html#end" class="d">end</a> of
                        the command.  You need to <a href="intro.txt.html#escape" class="d">escape</a> the <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27" class="d">'</a> and <a href="motion.txt.html#%27" class="d">'</a>"<a href="motion.txt.html#%27" class="d">'</a>
                        characters to prevent them from terminating the
                        command.  Example: 
<span class="e">                                :put ='path' . \",/test\"</span>
                       If there <a href="motion.txt.html#is" class="d">is</a> no <a href="eval.txt.html#expression" class="d">expression</a> after '=', Vim uses the
                        previous expression.  You can see <a href="motion.txt.html#it" class="d">it</a> with ":dis <a href="#%3D" class="d">=</a>"<a href="repeat.txt.html#." class="d">.</a>

:[line]pu[t]! [x]       Put the text [from <a href="sponsor.txt.html#register" class="d">register</a> x] before <span class="s">[line]</span> (default
                        current line).

<a href="index.txt.html#%5B" class="d">[</a>"x]]p              or                                  <a name="%5Dp" class="t">]p</a> <a name="%5D%3CMiddleMouse%3E" class="t">]&lt;MiddleMouse&gt;</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]]&lt;MiddleMouse&gt;      Like "<a href="#p" class="d">p</a>"<a href="motion.txt.html#%2C" class="d">,</a> but adjust the indent to the current line.
                        Using the mouse only works when <a href="options.txt.html#%27mouse%27" class="o">'mouse'</a> contains 'n'
                        or 'a'.  <span class="s">{not in Vi}</span>

<a href="index.txt.html#%5B" class="d">[</a>"x][P              or                                  <a name="%5BP" class="t">[P</a>
<a href="index.txt.html#%5B" class="d">[</a>"x]]P              or                                  <a name="%5DP" class="t">]P</a>
<a href="index.txt.html#%5B" class="d">[</a>"x][p              or                                  <a name="%5Bp" class="t">[p</a> <a name="%5B%3CMiddleMouse%3E" class="t">[&lt;MiddleMouse&gt;</a>
<a href="index.txt.html#%5B" class="d">[</a>"x][&lt;MiddleMouse&gt;      Like "<a href="#P" class="d">P</a>"<a href="motion.txt.html#%2C" class="d">,</a> but adjust the indent to the current line.
                        Using the mouse only works when <a href="options.txt.html#%27mouse%27" class="o">'mouse'</a> contains 'n'
                        or 'a'.  <span class="s">{not in Vi}</span>

You can use these commands to copy text from one place to another.  Do this
by first getting the text into <a href="insert.txt.html#a" class="d">a</a> <a href="sponsor.txt.html#register" class="d">register</a> with <a href="insert.txt.html#a" class="d">a</a> yank, delete or change
command, then <a href="insert.txt.html#inserting" class="d">inserting</a> the <a href="sponsor.txt.html#register" class="d">register</a> contents with <a href="insert.txt.html#a" class="d">a</a> <a href="#put" class="d">put</a> command.  You can
also use these commands to move text from one file to another, because Vim
preserves all <a href="#registers" class="d">registers</a> when <a href="#changing" class="d">changing</a> <a href="windows.txt.html#buffers" class="d">buffers</a> (the <a href="editing.txt.html#CTRL-%5E" class="k">CTRL-^</a> command <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> quick
way to <a href="options.txt.html#toggle" class="d">toggle</a> between two files).

                                <a name="linewise-register" class="t">linewise-register</a> <a name="characterwise-register" class="t">characterwise-register</a>
You can repeat the <a href="#put" class="d">put</a> commands with "<a href="repeat.txt.html#." class="d">.</a>" (except for :put) and <a href="undo.txt.html#undo" class="d">undo</a> them.  If
the command that was used to get the text into the <a href="sponsor.txt.html#register" class="d">register</a> was <a href="motion.txt.html#linewise" class="l">linewise</a><a href="motion.txt.html#%2C" class="d">,</a>
Vim inserts the text below <a href="motion.txt.html#%28" class="d">(</a>"<a href="#p" class="d">p</a>"<a href="motion.txt.html#%29" class="d">)</a> or above <a href="motion.txt.html#%28" class="d">(</a>"<a href="#P" class="d">P</a>"<a href="motion.txt.html#%29" class="d">)</a> the line where the cursor is.
Otherwise Vim inserts the text after <a href="motion.txt.html#%28" class="d">(</a>"<a href="#p" class="d">p</a>"<a href="motion.txt.html#%29" class="d">)</a> or before <a href="motion.txt.html#%28" class="d">(</a>"<a href="#P" class="d">P</a>"<a href="motion.txt.html#%29" class="d">)</a> the cursor.  With
the "<a href="#%3Aput" class="d">:put</a>" command, Vim always inserts the text in the next line.  You can
exchange two characters with the command sequence "xp"<a href="repeat.txt.html#." class="d">.</a>  You can exchange two
lines with the command sequence "ddp"<a href="repeat.txt.html#." class="d">.</a>  You can exchange two words with the
command sequence "deep" (start with the cursor in the blank <a href="intro.txt.html#space" class="d">space</a> before the
first word).  You can use the "<a href="motion.txt.html#%27%5D" class="d">']</a>" or "<a href="motion.txt.html#%60%5D" class="d">`]</a>" command after the <a href="#put" class="d">put</a> command to
move the cursor to the <a href="intro.txt.html#end" class="d">end</a> of the inserted text, or use "<a href="motion.txt.html#%27%5B" class="d">'[</a>" or "<a href="motion.txt.html#%60%5B" class="d">`[</a>" to move
the cursor to the start.

                                                <a name="put-Visual-mode" class="t">put-Visual-mode</a> <a name="v_p" class="t">v_p</a> <a name="v_P" class="t">v_P</a>
When using <a href="insert.txt.html#a" class="d">a</a> <a href="#put" class="d">put</a> command like <a href="#p" class="l">p</a> or <a href="#P" class="l">P</a> in <a href="visual.txt.html#Visual" class="d">Visual</a> mode, Vim will try to
replace the selected text with the contents of the register.  Whether this
works well depends on the type of selection and the type of the text in the
register.  With blockwise selection <a href="motion.txt.html#it" class="d">it</a> also depends on the size of the block
and whether the corners are on an existing character.  (Implementation detail:
<a href="motion.txt.html#it" class="d">it</a> actually works by first putting the <a href="sponsor.txt.html#register" class="d">register</a> after the selection and then
<a href="#deleting" class="d">deleting</a> the selection.)
The previously selected text <a href="motion.txt.html#is" class="d">is</a> <a href="#put" class="d">put</a> in the unnamed register.  If you want to
<a href="#put" class="d">put</a> the same text into <a href="insert.txt.html#a" class="d">a</a> <a href="visual.txt.html#Visual" class="d">Visual</a> selection several times you need to use
another register.  E.g., <a href="#yank" class="d">yank</a> the text to copy, Visually select the text to
replace and use "0p <a href="repeat.txt.html#." class="d">.</a>  You can repeat this <a href="motion.txt.html#as" class="d">as</a> many times <a href="motion.txt.html#as" class="d">as</a> you like, the
unnamed <a href="sponsor.txt.html#register" class="d">register</a> will be changed each time.

When you use <a href="insert.txt.html#a" class="d">a</a> blockwise <a href="visual.txt.html#Visual" class="d">Visual</a> mode command and <a href="#yank" class="d">yank</a> only <a href="insert.txt.html#a" class="d">a</a> single line into
<a href="insert.txt.html#a" class="d">a</a> register, <a href="insert.txt.html#a" class="d">a</a> paste on <a href="insert.txt.html#a" class="d">a</a> visual selected area will paste that single line on
each of the selected lines (thus <a href="#replacing" class="d">replacing</a> the blockwise selected region by <a href="insert.txt.html#a" class="d">a</a>
block of the pasted line).

                                                        <a name="blockwise-register" class="t">blockwise-register</a>
If you use <a href="insert.txt.html#a" class="d">a</a> blockwise <a href="visual.txt.html#Visual" class="d">Visual</a> mode command to get the text into the register,
the block of text will be inserted before <a href="motion.txt.html#%28" class="d">(</a>"<a href="#P" class="d">P</a>"<a href="motion.txt.html#%29" class="d">)</a> or after <a href="motion.txt.html#%28" class="d">(</a>"<a href="#p" class="d">p</a>"<a href="motion.txt.html#%29" class="d">)</a> the cursor
column in the current and next lines.  Vim makes the whole block of text start
in the same column.  Thus the inserted text looks the same <a href="motion.txt.html#as" class="d">as</a> when <a href="motion.txt.html#it" class="d">it</a> was
yanked or deleted.  Vim may replace some <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> characters with spaces to make
this happen.  However, if the width of the block <a href="motion.txt.html#is" class="d">is</a> not <a href="insert.txt.html#a" class="d">a</a> multiple of <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>
width and the text after the inserted block contains <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>s, that text may be
misaligned.

<span class="n">Note</span> that after <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#characterwise" class="d">characterwise</a> <a href="#yank" class="d">yank</a> command, Vim leaves the cursor on the
first yanked character that <a href="motion.txt.html#is" class="d">is</a> closest to the start of the buffer.  This means
that "yl" doesn't move the cursor, but "yh" moves the cursor one character
left.
Rationale:      In <a href="intro.txt.html#Vi" class="d">Vi</a> the "<a href="#y" class="d">y</a>" command followed by <a href="insert.txt.html#a" class="d">a</a> backwards motion would
                sometimes not move the cursor to the first yanked character,
                because redisplaying was skipped.  In Vim <a href="motion.txt.html#it" class="d">it</a> always moves to
                the first character, <a href="motion.txt.html#as" class="d">as</a> specified by Posix.
With <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#linewise" class="d">linewise</a> <a href="#yank" class="d">yank</a> command the cursor <a href="motion.txt.html#is" class="d">is</a> <a href="#put" class="d">put</a> in the first line, but the
column <a href="motion.txt.html#is" class="d">is</a> unmodified, thus <a href="motion.txt.html#it" class="d">it</a> may not be on the first yanked character.

There are ten types of registers:                       <a name="registers" class="t">registers</a> <a name="E354" class="t">E354</a>
1. The unnamed <a href="sponsor.txt.html#register" class="d">register</a> ""
2. 10 numbered <a href="#registers" class="d">registers</a> "<a href="motion.txt.html#0" class="d">0</a> to "9
3. The small delete <a href="sponsor.txt.html#register" class="d">register</a> "<a href="motion.txt.html#-" class="d">-</a>
4. 26 named <a href="#registers" class="d">registers</a> "<a href="insert.txt.html#a" class="d">a</a> to "<a href="index.txt.html#z" class="d">z</a> or "<a href="insert.txt.html#A" class="d">A</a> to "Z
5. three read-only <a href="#registers" class="d">registers</a> "<a href="cmdline.txt.html#%3A%2C" class="d">:,</a> "., "<a href="motion.txt.html#%25" class="d">%</a>
6. alternate buffer <a href="sponsor.txt.html#register" class="d">register</a> "<a href="pattern.txt.html#%23" class="d">#</a>
7. the <a href="eval.txt.html#expression" class="d">expression</a> <a href="sponsor.txt.html#register" class="d">register</a> "<a href="#%3D" class="d">=</a>
8. The selection and drop <a href="#registers" class="d">registers</a> "*<a href="motion.txt.html#%2C" class="d">,</a> "<a href="motion.txt.html#%2B" class="d">+</a> and "<a href="#%7E" class="d">~</a> 
9. The black hole <a href="sponsor.txt.html#register" class="d">register</a> "<a href="motion.txt.html#_" class="d">_</a>
10. Last search <a href="pattern.txt.html#pattern" class="d">pattern</a> <a href="sponsor.txt.html#register" class="d">register</a> "<a href="pattern.txt.html#%2F" class="d">/</a>

1. Unnamed <a href="sponsor.txt.html#register" class="d">register</a> ""                          <a name="quote_quote" class="t">quote_quote</a> <a name="quotequote" class="t">quotequote</a>
Vim fills this <a href="sponsor.txt.html#register" class="d">register</a> with text deleted with the "<a href="#d" class="d">d</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="#c" class="d">c</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="#s" class="d">s</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="#x" class="d">x</a>" commands
or copied with the <a href="#yank" class="d">yank</a> "<a href="#y" class="d">y</a>" command, regardless of whether or not <a href="insert.txt.html#a" class="d">a</a> specific
<a href="sponsor.txt.html#register" class="d">register</a> was used (e.g.  "xdd).  This <a href="motion.txt.html#is" class="d">is</a> like the unnamed <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> pointing
to the last used register.  Thus when appending using an <a href="#uppercase" class="d">uppercase</a> <a href="sponsor.txt.html#register" class="d">register</a>
name, the unnamed <a href="sponsor.txt.html#register" class="d">register</a> contains the same text <a href="motion.txt.html#as" class="d">as</a> the named register.
An exception <a href="motion.txt.html#is" class="d">is</a> the '_' register: "_dd does not store the deleted text in any
register.
Vim uses the contents of the unnamed <a href="sponsor.txt.html#register" class="d">register</a> for any <a href="#put" class="d">put</a> command (p or P)
which does not specify <a href="insert.txt.html#a" class="d">a</a> register.  Additionally you can access <a href="motion.txt.html#it" class="d">it</a> with the
name <a href="motion.txt.html#%27" class="d">'</a>"<a href="motion.txt.html#%27." class="d">'.</a>  This means you have to type two double quotes.  Writing to the ""
<a href="sponsor.txt.html#register" class="d">register</a> writes to <a href="sponsor.txt.html#register" class="d">register</a> "0.
<span class="s">{Vi: register contents are lost when changing files, no '"'}</span>

2. Numbered <a href="#registers" class="d">registers</a> "<a href="motion.txt.html#0" class="d">0</a> to "9          <a name="quote_number" class="t">quote_number</a> <a name="quote0" class="t">quote0</a> <a name="quote1" class="t">quote1</a>
                                        <a name="quote2" class="t">quote2</a> <a name="quote3" class="t">quote3</a> <a name="quote4" class="t">quote4</a> <a name="quote9" class="t">quote9</a>
Vim fills these <a href="#registers" class="d">registers</a> with text from <a href="#yank" class="d">yank</a> and delete commands.
   Numbered <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#0" class="d">0</a> contains the text from the most recent <a href="#yank" class="d">yank</a> command,
unless the command specified another <a href="sponsor.txt.html#register" class="d">register</a> with <a href="index.txt.html#%5B" class="d">[</a>"x].
   Numbered <a href="sponsor.txt.html#register" class="d">register</a> 1 contains the text deleted by the most recent delete or
change command, unless the command specified another <a href="sponsor.txt.html#register" class="d">register</a> or the text <a href="motion.txt.html#is" class="d">is</a>
<a href="various.txt.html#less" class="d">less</a> than one line (the small delete <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> used then).  An exception <a href="motion.txt.html#is" class="d">is</a>
made for the delete <a href="motion.txt.html#operator" class="d">operator</a> with these <a href="intro.txt.html#movement" class="d">movement</a> commands: <a href="motion.txt.html#%25" class="l">%</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#%28" class="l">(</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#%29" class="l">)</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#%60" class="l">`</a><a href="motion.txt.html#%2C" class="d">,</a>
<a href="pattern.txt.html#%2F" class="l">/</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="pattern.txt.html#%3F" class="l">?</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="pattern.txt.html#n" class="l">n</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="pattern.txt.html#N" class="l">N</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#%7B" class="l">{</a> and <a href="motion.txt.html#%7D" class="l">}</a><a href="repeat.txt.html#." class="d">.</a>  Register "1 <a href="motion.txt.html#is" class="d">is</a> always used then (this <a href="motion.txt.html#is" class="d">is</a> <a href="intro.txt.html#Vi" class="d">Vi</a>
compatible).  The "<a href="motion.txt.html#-" class="d">-</a> <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> well if the delete <a href="motion.txt.html#is" class="d">is</a> within <a href="insert.txt.html#a" class="d">a</a> line.
<span class="n">Note</span> that these characters may be mapped.  E.g. <a href="motion.txt.html#%25" class="l">%</a> <a href="motion.txt.html#is" class="d">is</a> mapped by the matchit
plugin.
   With each successive deletion or change, Vim shifts the previous contents
of <a href="sponsor.txt.html#register" class="d">register</a> 1 into <a href="sponsor.txt.html#register" class="d">register</a> 2, 2 into 3, and so forth, losing the previous
contents of <a href="sponsor.txt.html#register" class="d">register</a> 9.
{Vi: numbered <a href="sponsor.txt.html#register" class="d">register</a> contents are lost when <a href="#changing" class="d">changing</a> files; <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#0" class="d">0</a> does
not exist}

3. Small delete <a href="sponsor.txt.html#register" class="d">register</a> "<a href="motion.txt.html#-" class="d">-</a>                             <a name="quote_-" class="t">quote_-</a> <a name="quote-" class="t">quote-</a>
This <a href="sponsor.txt.html#register" class="d">register</a> contains text from commands that delete <a href="various.txt.html#less" class="d">less</a> than one line,
except when the command specifies <a href="insert.txt.html#a" class="d">a</a> <a href="sponsor.txt.html#register" class="d">register</a> with <a href="index.txt.html#%5B" class="d">[</a>"x].
<span class="s">{not in Vi}</span>

4. Named <a href="#registers" class="d">registers</a> "<a href="insert.txt.html#a" class="d">a</a> to "<a href="index.txt.html#z" class="d">z</a> or "<a href="insert.txt.html#A" class="d">A</a> to "Z                 <a name="quote_alpha" class="t">quote_alpha</a> <a name="quotea" class="t">quotea</a>
Vim fills these <a href="#registers" class="d">registers</a> only when you say so.  Specify them <a href="motion.txt.html#as" class="d">as</a> <a href="#lowercase" class="d">lowercase</a>
letters to replace their previous contents or <a href="motion.txt.html#as" class="d">as</a> <a href="#uppercase" class="d">uppercase</a> letters to append
to their previous contents.  When the '&gt;' flag <a href="motion.txt.html#is" class="d">is</a> present in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> then
<a href="insert.txt.html#a" class="d">a</a> line break <a href="motion.txt.html#is" class="d">is</a> inserted before the appended text.

5. Read-only <a href="#registers" class="d">registers</a> "<a href="cmdline.txt.html#%3A%2C" class="d">:,</a> "<a href="repeat.txt.html#." class="d">.</a> and "<a href="motion.txt.html#%25" class="d">%</a>
These are '%', '#', ':' and '.'.  You can use them only with the "<a href="#p" class="d">p</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="#P" class="d">P</a>"<a href="motion.txt.html#%2C" class="d">,</a>
and "<a href="#%3Aput" class="d">:put</a>" commands and with <a href="undo.txt.html#CTRL-R" class="k">CTRL-R</a>.  <span class="s">{not in Vi}</span>
                                                <a name="quote_." class="t">quote_.</a> <a name="quote." class="t">quote.</a> <a name="E29" class="t">E29</a>
        "<a href="repeat.txt.html#." class="d">.</a>      Contains the last inserted text (the same <a href="motion.txt.html#as" class="d">as</a> what <a href="motion.txt.html#is" class="d">is</a> inserted
                with the <a href="insert.txt.html#insert" class="d">insert</a> mode commands <a href="#CTRL-A" class="k">CTRL-A</a> and <span class="k">CTRL-@</span>).  <span class="n">Note:</span> this
                doesn't work with <a href="undo.txt.html#CTRL-R" class="k">CTRL-R</a> on the command-line.  It works <a href="insert.txt.html#a" class="d">a</a> bit
                differently, like <a href="insert.txt.html#inserting" class="d">inserting</a> the text instead of putting <a href="motion.txt.html#it" class="d">it</a>
                ('textwidth' and other <a href="options.txt.html#options" class="d">options</a> affect what <a href="motion.txt.html#is" class="d">is</a> inserted).
                                                        <a name="quote_%25" class="t">quote_%</a> <a name="quote%25" class="t">quote%</a>
        "<a href="motion.txt.html#%25" class="d">%</a>      Contains the name of the current file.
                                                <a name="quote_%3A" class="t">quote_:</a> <a name="quote%3A" class="t">quote:</a> <a name="E30" class="t">E30</a>
        "<a href="cmdline.txt.html#%3A" class="d">:</a>      Contains the most recent executed command-line.  Example: Use
                "<a href="repeat.txt.html#%40%3A" class="d">@:</a>" to repeat the previous command-line command.
                The command-line <a href="motion.txt.html#is" class="d">is</a> only stored in this <a href="sponsor.txt.html#register" class="d">register</a> when <a href="motion.txt.html#at" class="d">at</a> least
                one character of <a href="motion.txt.html#it" class="d">it</a> was typed.  Thus <a href="motion.txt.html#it" class="d">it</a> remains unchanged if
                the command was completely from <a href="insert.txt.html#a" class="d">a</a> mapping.
                {not available when compiled without the <a href="various.txt.html#%2Bcmdline_hist" class="l">+cmdline_hist</a>
                feature}
                                                        <a name="quote_%23" class="t">quote_#</a> <a name="quote%23" class="t">quote#</a>
6. Alternate file <a href="sponsor.txt.html#register" class="d">register</a> "<a href="pattern.txt.html#%23" class="d">#</a>
Contains the name of the alternate file for the current window.  It will
change how the <a href="editing.txt.html#CTRL-%5E" class="l">CTRL-^</a> command works.
This <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> writable, mainly to allow for restoring <a href="motion.txt.html#it" class="d">it</a> after <a href="insert.txt.html#a" class="d">a</a> <a href="usr_05.txt.html#plugin" class="d">plugin</a> has
changed it.  It accepts buffer number: 
<span class="e">    let altbuf = bufnr(@#)</span>
<span class="e">    ...</span>
<span class="e">    let @# = altbuf</span>
It will give error <a href="windows.txt.html#E86" class="l">E86</a> if you pass buffer number and this buffer does not
exist.
It can also accept <a href="insert.txt.html#a" class="d">a</a> match with an existing buffer name: 
<span class="e">    let @# = 'buffer_name'</span>
Error <a href="windows.txt.html#E93" class="l">E93</a> if there <a href="motion.txt.html#is" class="d">is</a> more than one buffer matching the given name or <a href="windows.txt.html#E94" class="l">E94</a>
if none of <a href="windows.txt.html#buffers" class="d">buffers</a> matches the given name.

7. Expression <a href="sponsor.txt.html#register" class="d">register</a> "<a href="#%3D" class="d">=</a>                       <a name="quote_%3D" class="t">quote_=</a> <a name="quote%3D" class="t">quote=</a> <a name="%40%3D" class="t">@=</a>
This <a href="motion.txt.html#is" class="d">is</a> not really <a href="insert.txt.html#a" class="d">a</a> <a href="sponsor.txt.html#register" class="d">register</a> that stores text, but <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> way to use an
<a href="eval.txt.html#expression" class="d">expression</a> in commands which use <a href="insert.txt.html#a" class="d">a</a> register.  The <a href="eval.txt.html#expression" class="d">expression</a> <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a>
read-write.

When typing the '=' after " or <a href="undo.txt.html#CTRL-R" class="k">CTRL-R</a> the cursor moves to the command-line,
where you can enter any <a href="eval.txt.html#expression" class="d">expression</a> (see <a href="eval.txt.html#expression" class="l">expression</a>).  All normal
command-line editing commands are available, including <a href="insert.txt.html#a" class="d">a</a> special <a href="cmdline.txt.html#history" class="d">history</a> for
expressions.  When you <a href="intro.txt.html#end" class="d">end</a> the command-line by typing <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>, Vim computes the
result of the expression.  If you <a href="intro.txt.html#end" class="d">end</a> <a href="motion.txt.html#it" class="d">it</a> with <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>, Vim abandons the
expression.  If you <a href="diff.txt.html#do" class="d">do</a> not enter an expression, Vim uses the previous
<a href="eval.txt.html#expression" class="d">expression</a> (like with the "<a href="pattern.txt.html#%2F" class="d">/</a>" command).

The <a href="eval.txt.html#expression" class="d">expression</a> <a href="vim_faq.txt.html#must" class="d">must</a> evaluate to <a href="insert.txt.html#a" class="d">a</a> String.  <a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Number" class="d">Number</a> <a href="motion.txt.html#is" class="d">is</a> always automatically
converted to <a href="insert.txt.html#a" class="d">a</a> String.  For the "<a href="#p" class="d">p</a>" and "<a href="#%3Aput" class="d">:put</a>" command, if the result <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a>
<a href="eval.txt.html#Float" class="d">Float</a> it's converted into <a href="insert.txt.html#a" class="d">a</a> String.  If the result <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> each element <a href="motion.txt.html#is" class="d">is</a>
turned into <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> and used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> line.  <a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> or FuncRef results in
an error message (use <a href="eval.txt.html#string%28%29" class="d">string()</a> to convert).

If the "<a href="#%3D" class="d">=</a> <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> used for the "<a href="#p" class="d">p</a>" command, the <a href="eval.txt.html#String" class="d">String</a> <a href="motion.txt.html#is" class="d">is</a> split up <a href="motion.txt.html#at" class="d">at</a> <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a>
characters.  If the <a href="eval.txt.html#String" class="d">String</a> ends in <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a>, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> regarded <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#linewise" class="d">linewise</a>
register.  <span class="s">{not in Vi}</span>

8. Selection and drop <a href="#registers" class="d">registers</a> "*<a href="motion.txt.html#%2C" class="d">,</a> "<a href="motion.txt.html#%2B" class="d">+</a> and "<a href="#%7E" class="d">~</a> 
Use these <a href="#registers" class="d">registers</a> for storing and retrieving the selected text for the GUI.
See <a href="gui.txt.html#quotestar" class="l">quotestar</a> and <a href="gui_x11.txt.html#quoteplus" class="l">quoteplus</a><a href="repeat.txt.html#." class="d">.</a>  When the <a href="gui.txt.html#clipboard" class="d">clipboard</a> <a href="motion.txt.html#is" class="d">is</a> not available or not
working, the unnamed <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> used instead.  For <a href="os_unix.txt.html#Unix" class="d">Unix</a> systems the <a href="gui.txt.html#clipboard" class="d">clipboard</a>
<a href="motion.txt.html#is" class="d">is</a> only available when the <a href="various.txt.html#%2Bxterm_clipboard" class="l">+xterm_clipboard</a> feature <a href="motion.txt.html#is" class="d">is</a> present.  <span class="s">{not in Vi}</span>

<span class="n">Note</span> that there <a href="motion.txt.html#is" class="d">is</a> only <a href="insert.txt.html#a" class="d">a</a> distinction between "* and "<a href="motion.txt.html#%2B" class="d">+</a> for <a href="options.txt.html#X11" class="d">X11</a> systems.  For
an explanation of the difference, see <a href="gui_x11.txt.html#x11-selection" class="l">x11-selection</a><a href="repeat.txt.html#." class="d">.</a>  Under MS-Windows, use
of "* and "<a href="motion.txt.html#%2B" class="d">+</a> <a href="motion.txt.html#is" class="d">is</a> actually synonymous and refers to the <a href="gui_w32.txt.html#gui-clipboard" class="l">gui-clipboard</a><a href="repeat.txt.html#." class="d">.</a>

                                                <a name="quote_%7E" class="t">quote_~</a> <a name="quote%7E" class="t">quote~</a> <a name="%3CDrop%3E" class="t">&lt;Drop&gt;</a>
The read-only "<a href="#%7E" class="d">~</a> <a href="sponsor.txt.html#register" class="d">register</a> stores the dropped text from the last drag'n'drop
operation.  When something has been dropped onto Vim, the "<a href="#%7E" class="d">~</a> <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a>
filled in and the <a href="#%3CDrop%3E" class="s">&lt;Drop&gt;</a> pseudo key <a href="motion.txt.html#is" class="d">is</a> sent for notification.  You can remap
this key if you want; the default action (for all modes) <a href="motion.txt.html#is" class="d">is</a> to <a href="insert.txt.html#insert" class="d">insert</a> the
contents of the "<a href="#%7E" class="d">~</a> <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#at" class="d">at</a> the cursor position.  <span class="s">{not in Vi}</span>
{only available when compiled with the <a href="various.txt.html#%2Bdnd" class="l">+dnd</a> feature, currently only with the
<a href="gui_x11.txt.html#GTK" class="d">GTK</a> GUI}

<span class="n">Note:</span> The "<a href="#%7E" class="d">~</a> <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a> only used when dropping plain text onto Vim.
Drag'n'drop of URI lists <a href="motion.txt.html#is" class="d">is</a> handled internally.

9. Black hole <a href="sponsor.txt.html#register" class="d">register</a> "<a href="motion.txt.html#_" class="d">_</a>                               <a name="quote_" class="t">quote_</a>
When <a href="editing.txt.html#writing" class="d">writing</a> to this register, nothing happens.  This can be used to delete
text without affecting the normal registers.  When reading from this register,
nothing <a href="motion.txt.html#is" class="d">is</a> returned.  <span class="s">{not in Vi}</span>

10. Last search <a href="pattern.txt.html#pattern" class="d">pattern</a> <a href="sponsor.txt.html#register" class="d">register</a>        "<a href="pattern.txt.html#%2F" class="d">/</a>                      <a name="quote_%2F" class="t">quote_/</a> <a name="quote%2F" class="t">quote/</a>
Contains the most recent search-pattern.  This <a href="motion.txt.html#is" class="d">is</a> used for "<a href="pattern.txt.html#n" class="d">n</a>" and <a href="options.txt.html#%27hlsearch%27" class="o">'hlsearch'</a>.
It <a href="motion.txt.html#is" class="d">is</a> writable with <span class="e">:let</span>, you can change <a href="motion.txt.html#it" class="d">it</a> to have <a href="options.txt.html#%27hlsearch%27" class="o">'hlsearch'</a> highlight
other matches without actually searching.  You can't <a href="#yank" class="d">yank</a> or delete into this
register.  The search direction <a href="motion.txt.html#is" class="d">is</a> available in <a href="eval.txt.html#v%3Asearchforward" class="l">v:searchforward</a><a href="repeat.txt.html#." class="d">.</a>
<span class="n">Note</span> that the value <a href="motion.txt.html#is" class="d">is</a> restored when returning from <a href="insert.txt.html#a" class="d">a</a> function
<a href="eval.txt.html#function-search-undo" class="l">function-search-undo</a><a href="repeat.txt.html#." class="d">.</a>
<span class="s">{not in Vi}</span>

                                                        <a name="%40%2F" class="t">@/</a>
You can write to <a href="insert.txt.html#a" class="d">a</a> <a href="sponsor.txt.html#register" class="d">register</a> with <a href="insert.txt.html#a" class="d">a</a> <span class="e">:let</span> command <a href="eval.txt.html#%3Alet-%40" class="l">:let-@</a><a href="repeat.txt.html#." class="d">.</a>  Example: 
<span class="e">        :let @/ = "the"</span>
<span class="e"></span>
If you use <a href="insert.txt.html#a" class="d">a</a> <a href="#put" class="d">put</a> command without specifying <a href="insert.txt.html#a" class="d">a</a> register, Vim uses the <a href="sponsor.txt.html#register" class="d">register</a>
that was last filled (this <a href="motion.txt.html#is" class="d">is</a> also the contents of the unnamed register).  If
you are confused, use the <span class="e">:dis</span> command to find out what Vim will <a href="#put" class="d">put</a> (this
command displays all named and numbered registers; the unnamed <a href="sponsor.txt.html#register" class="d">register</a> <a href="motion.txt.html#is" class="d">is</a>
labelled <a href="motion.txt.html#%27" class="d">'</a>"').

The next three commands always work on whole lines.

:[range]co[py] <a href="cmdline.txt.html#%7Baddress%7D" class="s">{address}</a>                                <a name="%3Aco" class="t">:co</a> <a name="%3Acopy" class="t">:copy</a>
                        Copy the lines given by <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> to below the line
                        given by <a href="cmdline.txt.html#%7Baddress%7D" class="s">{address}</a>.

                                                        <a name="%3At" class="t">:t</a>
<a href="#%3At" class="d">:t</a>                      Synonym for copy.

:[range]m[ove] <a href="cmdline.txt.html#%7Baddress%7D" class="s">{address}</a>                        <a name="%3Am" class="t">:m</a> <a name="%3Amo" class="t">:mo</a> <a name="%3Amove" class="t">:move</a> <a name="E134" class="t">E134</a>
                        Move the lines given by <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> to below the line
                        given by <a href="cmdline.txt.html#%7Baddress%7D" class="s">{address}</a>.

<span class="h">==============================================================================</span>
6. Formatting text                                      <a name="formatting" class="t">formatting</a>

:[range]ce[nter] <span class="s">[width]</span>                                <a name="%3Ace" class="t">:ce</a> <a name="%3Acenter" class="t">:center</a>
                        Center lines in <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> between <span class="s">[width]</span> columns
                        (default <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> or 80 when <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> <a href="motion.txt.html#is" class="d">is</a> 0).
                        <span class="s">{not in Vi}</span>

:[range]ri[ght] <span class="s">[width]</span>                                 <a name="%3Ari" class="t">:ri</a> <a name="%3Aright" class="t">:right</a>
                        Right-align lines in <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a> <a href="motion.txt.html#at" class="d">at</a> <span class="s">[width]</span> columns
                        (default <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> or 80 when <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> <a href="motion.txt.html#is" class="d">is</a> 0).
                        <span class="s">{not in Vi}</span>

                                                        <a name="%3Ale" class="t">:le</a> <a name="%3Aleft" class="t">:left</a>
:[range]le[ft] <span class="s">[indent]</span>
                        Left-align lines in <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a>.  Sets the indent in the
                        lines to <span class="s">[indent]</span> (default 0).  <span class="s">{not in Vi}</span>

                                                        <a name="gq" class="t">gq</a>
gq{motion}              Format the lines that <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> moves over.
                        Formatting <a href="motion.txt.html#is" class="d">is</a> done with one of three methods:
                        1. If <a href="options.txt.html#%27formatexpr%27" class="o">'formatexpr'</a> <a href="motion.txt.html#is" class="d">is</a> not empty the <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a>
                           evaluated.  This can differ for each buffer.
                        2. If <a href="options.txt.html#%27formatprg%27" class="o">'formatprg'</a> <a href="motion.txt.html#is" class="d">is</a> not empty an external program
                           <a href="motion.txt.html#is" class="d">is</a> used.
                        3. Otherwise <a href="#formatting" class="d">formatting</a> <a href="motion.txt.html#is" class="d">is</a> done internally.

                        In the third <a href="#case" class="d">case</a> the <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> option controls the
                        length of each formatted line (see below).
                        If the <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> option <a href="motion.txt.html#is" class="d">is</a> 0, the formatted line
                        length <a href="motion.txt.html#is" class="d">is</a> the screen width (with <a href="insert.txt.html#a" class="d">a</a> maximum width of
                        79).
                        The <a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a> option controls the type of
                        <a href="#formatting" class="d">formatting</a> <a href="#fo-table" class="l">fo-table</a><a href="repeat.txt.html#." class="d">.</a>
                        The cursor <a href="motion.txt.html#is" class="d">is</a> left on the first non-blank of the last
                        formatted line.
                        <span class="n">NOTE:</span> The "<a href="intro.txt.html#Q" class="d">Q</a>" command formerly performed this
                        function.  If you still want to use "<a href="intro.txt.html#Q" class="d">Q</a>" for
                        formatting, use this mapping: 
<span class="e">                                :nnoremap Q gq</span>
<span class="e"></span>
<a href="#gqgq" class="d">gqgq</a>                                                    <a name="gqgq" class="t">gqgq</a> <a name="gqq" class="t">gqq</a>
<a href="#gqq" class="d">gqq</a>                     Format the current line.  With <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#count" class="d">count</a> format that
                        many lines.  <span class="s">{not in Vi}</span>

                                                        <a name="v_gq" class="t">v_gq</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>gq              Format the highlighted text.  (for <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see
                        <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  <span class="s">{not in Vi}</span>

                                                        <a name="gw" class="t">gw</a>
gw{motion}              Format the lines that <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> moves over.  Similar to
                        <a href="#gq" class="l">gq</a> but puts the cursor back <a href="motion.txt.html#at" class="d">at</a> the same position in
                        the text.  However, <a href="options.txt.html#%27formatprg%27" class="o">'formatprg'</a> and <a href="options.txt.html#%27formatexpr%27" class="o">'formatexpr'</a> are
                        not used.  <span class="s">{not in Vi}</span>

<a href="#gwgw" class="d">gwgw</a>                                                    <a name="gwgw" class="t">gwgw</a> <a name="gww" class="t">gww</a>
<a href="#gww" class="d">gww</a>                     Format the current line <a href="motion.txt.html#as" class="d">as</a> with "<a href="#gw" class="d">gw</a>"<a href="repeat.txt.html#." class="d">.</a>  <span class="s">{not in Vi}</span>

                                                        <a name="v_gw" class="t">v_gw</a>
<a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a>gw              Format the highlighted text <a href="motion.txt.html#as" class="d">as</a> with "<a href="#gw" class="d">gw</a>"<a href="repeat.txt.html#." class="d">.</a>  (for
                        <a href="intro.txt.html#%7BVisual%7D" class="s">{Visual}</a> see <a href="visual.txt.html#Visual-mode" class="l">Visual-mode</a>).  <span class="s">{not in Vi}</span>

Example: To format the current <a href="motion.txt.html#paragraph" class="d">paragraph</a> use:                   <a name="gqap" class="t">gqap</a>  
<span class="e">        gqap</span>
<span class="e"></span>
The "<a href="#gq" class="d">gq</a>" command leaves the cursor in the line where the motion command takes
the cursor.  This allows you to repeat <a href="#formatting" class="d">formatting</a> repeated with "<a href="repeat.txt.html#." class="d">.</a>"<a href="repeat.txt.html#." class="d">.</a>  This
works well with "gqj" (format current and next line) and "gq}" (format until
<a href="intro.txt.html#end" class="d">end</a> of paragraph).  <span class="n">Note:</span> When <a href="options.txt.html#%27formatprg%27" class="o">'formatprg'</a> <a href="motion.txt.html#is" class="d">is</a> set, "<a href="#gq" class="d">gq</a>" leaves the cursor on
the first formatted line (as with using <a href="insert.txt.html#a" class="d">a</a> <a href="#filter" class="d">filter</a> command).

If you want to format the current <a href="motion.txt.html#paragraph" class="d">paragraph</a> and continue where you were, use: 
<span class="e">        gwap</span>
If you always want to keep paragraphs formatted you may want to add the 'a'
flag to <a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a>.  See <a href="#auto-format" class="l">auto-format</a><a href="repeat.txt.html#." class="d">.</a>

If the <a href="options.txt.html#%27autoindent%27" class="o">'autoindent'</a> option <a href="motion.txt.html#is" class="d">is</a> on, Vim uses the indent of the first line for
the following lines.

Formatting does not change empty lines (but <a href="motion.txt.html#it" class="d">it</a> does change lines with only
white space!).

The <a href="options.txt.html#%27joinspaces%27" class="o">'joinspaces'</a> option <a href="motion.txt.html#is" class="d">is</a> used when lines are joined together.

You can set the <a href="options.txt.html#%27formatexpr%27" class="o">'formatexpr'</a> option to an <a href="eval.txt.html#expression" class="d">expression</a> or the <a href="options.txt.html#%27formatprg%27" class="o">'formatprg'</a> option
to the name of an external program for Vim to use for text formatting.  The
<a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> and other <a href="options.txt.html#options" class="d">options</a> have no effect on <a href="#formatting" class="d">formatting</a> by an external
program.

                                                        <a name="right-justify" class="t">right-justify</a>
There <a href="motion.txt.html#is" class="d">is</a> no command in Vim to right justify text.  You can <a href="diff.txt.html#do" class="d">do</a> <a href="motion.txt.html#it" class="d">it</a> with
an external command, like "par" (e.g.: "!}par" to format until the <a href="intro.txt.html#end" class="d">end</a> of the
paragraph) or set <a href="options.txt.html#%27formatprg%27" class="o">'formatprg'</a> to "par"<a href="repeat.txt.html#." class="d">.</a>

                                                        <a name="format-comments" class="t">format-comments</a>
An overview of comment <a href="#formatting" class="d">formatting</a> <a href="motion.txt.html#is" class="d">is</a> in <a href="motion.txt.html#section" class="d">section</a> <a href="usr_30.txt.html#30.6" class="l">30.6</a> of the user manual.

Vim can automatically <a href="insert.txt.html#insert" class="d">insert</a> and format comments in <a href="insert.txt.html#a" class="d">a</a> special way.  Vim
recognizes <a href="insert.txt.html#a" class="d">a</a> comment by <a href="insert.txt.html#a" class="d">a</a> specific <a href="eval.txt.html#string" class="d">string</a> <a href="motion.txt.html#at" class="d">at</a> the start of the line (ignoring
white space).  Three types of comments can be used:

<a href="motion.txt.html#-" class="d">-</a> <a href="insert.txt.html#A" class="d">A</a> comment <a href="eval.txt.html#string" class="d">string</a> that repeats <a href="motion.txt.html#at" class="d">at</a> the start of each line.  An example <a href="motion.txt.html#is" class="d">is</a> the
  type of comment used in shell scripts, <a href="starting.txt.html#starting" class="d">starting</a> with "<a href="pattern.txt.html#%23" class="d">#</a>"<a href="repeat.txt.html#." class="d">.</a>
<a href="motion.txt.html#-" class="d">-</a> <a href="insert.txt.html#A" class="d">A</a> comment <a href="eval.txt.html#string" class="d">string</a> that occurs only in the first line, not in the following
  lines.  An example <a href="motion.txt.html#is" class="d">is</a> this <a href="eval.txt.html#list" class="d">list</a> with dashes.
<a href="motion.txt.html#-" class="d">-</a> Three-piece comments that have <a href="insert.txt.html#a" class="d">a</a> start string, an <a href="intro.txt.html#end" class="d">end</a> string, and optional
  lines in between.  The strings for the start, middle and <a href="intro.txt.html#end" class="d">end</a> are different.
  An example <a href="motion.txt.html#is" class="d">is</a> the <a href="#C" class="d">C</a> style comment:
        <a href="pattern.txt.html#%2F" class="d">/</a>*
         * this <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="#C" class="d">C</a> comment
         *<a href="pattern.txt.html#%2F" class="d">/</a>

The <a href="options.txt.html#%27comments%27" class="o">'comments'</a> option <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> comma-separated <a href="eval.txt.html#list" class="d">list</a> of parts.  Each part defines <a href="insert.txt.html#a" class="d">a</a>
type of comment string.  <a href="insert.txt.html#A" class="d">A</a> part consists of:
        <span class="s">{flags}</span>:<span class="s">{string}</span>

<span class="s">{string}</span> <a href="motion.txt.html#is" class="d">is</a> the literal text that <a href="vim_faq.txt.html#must" class="d">must</a> appear.

<span class="s">{flags}</span>:
  <a href="pattern.txt.html#n" class="d">n</a>     Nested comment.  Nesting with mixed parts <a href="motion.txt.html#is" class="d">is</a> allowed.  If <a href="options.txt.html#%27comments%27" class="o">'comments'</a>
        <a href="motion.txt.html#is" class="d">is</a> "n:),n:&gt;" <a href="insert.txt.html#a" class="d">a</a> line <a href="starting.txt.html#starting" class="d">starting</a> with "<a href="#%3E" class="d">&gt;</a> <a href="motion.txt.html#%29" class="d">)</a> <a href="#%3E" class="d">&gt;</a>" <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> comment.

  <a href="motion.txt.html#b" class="d">b</a>     Blank (&lt;Space&gt;, <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> or <a href="intro.txt.html#%3CEOL%3E" class="s">&lt;EOL&gt;</a>) required after <span class="s">{string}</span>.

  <a href="motion.txt.html#f" class="d">f</a>     Only the first line has the comment string.  Do not repeat comment on
        the next line, but preserve indentation (e.g., <a href="insert.txt.html#a" class="d">a</a> bullet-list).

  <a href="#s" class="d">s</a>     Start of three-piece comment

  <a href="motion.txt.html#m" class="d">m</a>     Middle of <a href="insert.txt.html#a" class="d">a</a> three-piece comment

  <a href="motion.txt.html#e" class="d">e</a>     End of <a href="insert.txt.html#a" class="d">a</a> three-piece comment

  <a href="motion.txt.html#l" class="d">l</a>     Left align. Used together with 's' or 'e', the leftmost character of
        start or <a href="intro.txt.html#end" class="d">end</a> will line up with the leftmost character from the middle.
        This <a href="motion.txt.html#is" class="d">is</a> the default and can be omitted. See below for more details.

  <a href="#r" class="d">r</a>     Right align. Same <a href="motion.txt.html#as" class="d">as</a> above but rightmost instead of leftmost. See
        below for more details.

  <a href="insert.txt.html#O" class="d">O</a>     Don't consider this comment for the "<a href="insert.txt.html#O" class="d">O</a>" command.

  <a href="#x" class="d">x</a>     Allows three-piece comments to be ended by just typing the last
        character of the end-comment <a href="eval.txt.html#string" class="d">string</a> <a href="motion.txt.html#as" class="d">as</a> the first action on <a href="insert.txt.html#a" class="d">a</a> new
        line when the middle-comment <a href="eval.txt.html#string" class="d">string</a> has been inserted automatically.
        See below for more details.

  <span class="s">{digits}</span>
        When together with 's' or 'e': add <span class="s">{digit}</span> amount of offset to an
        automatically inserted middle or <a href="intro.txt.html#end" class="d">end</a> comment leader. The offset begins
        from <a href="insert.txt.html#a" class="d">a</a> left alignment. See below for more details.

  -{digits}
        Like <span class="s">{digits}</span> but reduce the indent.  This only works when there <a href="motion.txt.html#is" class="d">is</a>
        some indent for the start or <a href="intro.txt.html#end" class="d">end</a> part that can be removed.

When <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> has none of the 'f', 's', 'm' or 'e' flags, Vim assumes the
comment <a href="eval.txt.html#string" class="d">string</a> repeats <a href="motion.txt.html#at" class="d">at</a> the start of each line.  The flags field may be
empty.

Any blank <a href="intro.txt.html#space" class="d">space</a> in the text before and after the <span class="s">{string}</span> <a href="motion.txt.html#is" class="d">is</a> part of the
<span class="s">{string}</span>, so <a href="diff.txt.html#do" class="d">do</a> not include leading or trailing blanks unless the blanks are <a href="insert.txt.html#a" class="d">a</a>
required part of the comment string.

When one comment leader <a href="motion.txt.html#is" class="d">is</a> part of another, specify the part after the whole.
For example, to include both "<a href="motion.txt.html#-" class="d">-</a>" and "-&gt;"<a href="motion.txt.html#%2C" class="d">,</a> use 
<span class="e">        :set comments=f:-&gt;,f:-</span>
<span class="e"></span>
<a href="insert.txt.html#A" class="d">A</a> three-piece comment <a href="vim_faq.txt.html#must" class="d">must</a> always be given <a href="motion.txt.html#as" class="d">as</a> start,middle,end, with no other
parts in between.  An example of <a href="insert.txt.html#a" class="d">a</a> three-piece comment <a href="motion.txt.html#is" class="d">is</a> 
<span class="e">        sr:/*,mb:*,ex:*/</span>
for C-comments.  To avoid recognizing "*ptr" <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> comment, the middle <a href="eval.txt.html#string" class="d">string</a>
includes the 'b' flag.  For three-piece comments, Vim checks the text after
the start and middle strings for the <a href="intro.txt.html#end" class="d">end</a> string.  If Vim finds the <a href="intro.txt.html#end" class="d">end</a> string,
the comment does not continue on the next line.  Three-piece comments <a href="vim_faq.txt.html#must" class="d">must</a>
have <a href="insert.txt.html#a" class="d">a</a> middle <a href="eval.txt.html#string" class="d">string</a> because otherwise Vim can't recognize the middle lines.

Notice the use of the "<a href="#x" class="d">x</a>" flag in the above three-piece comment definition.
When you hit Return in <a href="insert.txt.html#a" class="d">a</a> C-comment, Vim will <a href="insert.txt.html#insert" class="d">insert</a> the middle comment leader
for the new line: " * "<a href="repeat.txt.html#." class="d">.</a>  To close this comment you just have to type "<a href="pattern.txt.html#%2F" class="d">/</a>"
before typing anything else on the new line.  This will replace the
middle-comment leader with the end-comment leader and apply any specified
alignment, leaving just " *<a href="pattern.txt.html#%2F" class="d">/</a>"<a href="repeat.txt.html#." class="d">.</a>  There <a href="motion.txt.html#is" class="d">is</a> no need to hit Backspace first.

When there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> match with <a href="insert.txt.html#a" class="d">a</a> middle part, but there also <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> matching <a href="intro.txt.html#end" class="d">end</a>
part which <a href="motion.txt.html#is" class="d">is</a> longer, the <a href="intro.txt.html#end" class="d">end</a> part <a href="motion.txt.html#is" class="d">is</a> used.  This makes <a href="insert.txt.html#a" class="d">a</a> <a href="#C" class="d">C</a> style comment work
without requiring the middle part to <a href="intro.txt.html#end" class="d">end</a> with <a href="insert.txt.html#a" class="d">a</a> space.

Here <a href="motion.txt.html#is" class="d">is</a> an example of alignment flags <a href="motion.txt.html#at" class="d">at</a> work to make <a href="insert.txt.html#a" class="d">a</a> comment stand out
(kind of looks like <a href="insert.txt.html#a" class="d">a</a> 1 too). Consider comment string: 
<span class="e">        :set comments=sr:/***,m:**,ex-2:******/</span>

<span class="h">                                   /*** </span>
<span class="c">                                    </span><span class="h"> **&lt;--right aligned from "r" flag </span>
<span class="c">                                    </span><span class="h"> ** </span>
<span class="h">offset 2 spaces for the "-2" flag---&gt;** </span>
<span class="c">                                  </span><span class="h"> ******/ </span>
In this case, the first comment was typed, then return was pressed 4 times,
then "<a href="pattern.txt.html#%2F" class="d">/</a>" was pressed to <a href="intro.txt.html#end" class="d">end</a> the comment.

Here are some finer points of three part comments. There are three times when
alignment and offset flags are taken into consideration: opening <a href="insert.txt.html#a" class="d">a</a> new line
after <a href="insert.txt.html#a" class="d">a</a> start-comment, opening <a href="insert.txt.html#a" class="d">a</a> new line before an end-comment, and
automatically ending <a href="insert.txt.html#a" class="d">a</a> three-piece comment.  The <a href="intro.txt.html#end" class="d">end</a> alignment flag has <a href="insert.txt.html#a" class="d">a</a>
backwards perspective; the result <a href="motion.txt.html#is" class="d">is</a> that the same alignment flag used with
"<a href="#s" class="d">s</a>" and "<a href="motion.txt.html#e" class="d">e</a>" will result in the same indent for the <a href="starting.txt.html#starting" class="d">starting</a> and ending pieces.
Only one alignment per comment part <a href="motion.txt.html#is" class="d">is</a> meant to be used, but an offset number
will override the "<a href="#r" class="d">r</a>" and "<a href="motion.txt.html#l" class="d">l</a>" flag.

Enabling <a href="options.txt.html#%27cindent%27" class="o">'cindent'</a> will override the alignment flags in many cases.
Reindenting using <a href="insert.txt.html#a" class="d">a</a> different method like <a href="#gq" class="l">gq</a> or <a href="#%3D" class="l">=</a> will not consult
alignment flags either. The same behaviour can be defined in those other
<a href="#formatting" class="d">formatting</a> options. One consideration <a href="motion.txt.html#is" class="d">is</a> that <a href="options.txt.html#%27cindent%27" class="o">'cindent'</a> has additional <a href="options.txt.html#options" class="d">options</a>
for context based indenting of comments but cannot replicate many three piece
indent alignments.  However, <a href="options.txt.html#%27indentexpr%27" class="o">'indentexpr'</a> has the ability to work better with
three piece comments.

Other examples: 
<span class="e">   "b:*"        Includes lines starting with "*", but not if the "*" is</span>
<span class="e">                followed by a non-blank.  This avoids a pointer dereference</span>
<span class="e">                like "*str" to be recognized as a comment.</span>
<span class="e">   "n:&gt;"        Includes a line starting with "&gt;", "&gt;&gt;", "&gt;&gt;&gt;", etc.</span>
<span class="e">   "fb:-"       Format a list that starts with "- ".</span>
<span class="e"></span>
By default, "b:#" <a href="motion.txt.html#is" class="d">is</a> included.  This means that <a href="insert.txt.html#a" class="d">a</a> line that starts with
"#include" <a href="motion.txt.html#is" class="d">is</a> not recognized <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> comment line.  But <a href="insert.txt.html#a" class="d">a</a> line that starts with
"<a href="pattern.txt.html#%23" class="d">#</a> define" <a href="motion.txt.html#is" class="d">is</a> recognized.  This <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> compromise.

<span class="s">{not available when compiled without the |+comments| feature}</span>

                                                        <a name="fo-table" class="t">fo-table</a>
You can use the <a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a> option  to influence how Vim formats text.
<a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> that can contain any of the letters below.  The
default setting <a href="motion.txt.html#is" class="d">is</a> "tcq"<a href="repeat.txt.html#." class="d">.</a>  You can separate the option letters with commas for
readability.

<span class="h">letter   meaning when present in 'formatoptions'    </span>

<a href="motion.txt.html#t" class="d">t</a>       Auto-wrap text using textwidth
<a href="#c" class="d">c</a>       Auto-wrap comments using textwidth, <a href="insert.txt.html#inserting" class="d">inserting</a> the current comment
        leader automatically.
<a href="#r" class="d">r</a>       Automatically <a href="insert.txt.html#insert" class="d">insert</a> the current comment leader after hitting
        <a href="intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a> in <a href="insert.txt.html#Insert" class="d">Insert</a> mode.
<a href="insert.txt.html#o" class="d">o</a>       Automatically <a href="insert.txt.html#insert" class="d">insert</a> the current comment leader after hitting 'o' or
        'O' in <a href="intro.txt.html#Normal" class="d">Normal</a> mode.
<a href="repeat.txt.html#q" class="d">q</a>       Allow <a href="#formatting" class="d">formatting</a> of comments with "<a href="#gq" class="d">gq</a>"<a href="repeat.txt.html#." class="d">.</a>
        <span class="n">Note</span> that <a href="#formatting" class="d">formatting</a> will not change blank lines or lines containing
        only the comment leader.  <a href="insert.txt.html#A" class="d">A</a> new <a href="motion.txt.html#paragraph" class="d">paragraph</a> starts after such <a href="insert.txt.html#a" class="d">a</a> line,
        or when the comment leader changes.
<a href="motion.txt.html#w" class="d">w</a>       Trailing white <a href="intro.txt.html#space" class="d">space</a> indicates <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#paragraph" class="d">paragraph</a> continues in the next line.
        <a href="insert.txt.html#A" class="d">A</a> line that ends in <a href="insert.txt.html#a" class="d">a</a> non-white character ends <a href="insert.txt.html#a" class="d">a</a> paragraph.
<a href="insert.txt.html#a" class="d">a</a>       Automatic <a href="#formatting" class="d">formatting</a> of paragraphs.  Every time text <a href="motion.txt.html#is" class="d">is</a> inserted or
        deleted the <a href="motion.txt.html#paragraph" class="d">paragraph</a> will be reformatted.  See <a href="#auto-format" class="l">auto-format</a><a href="repeat.txt.html#." class="d">.</a>
        When the 'c' flag <a href="motion.txt.html#is" class="d">is</a> present this only happens for recognized
        comments.
<a href="pattern.txt.html#n" class="d">n</a>       When <a href="#formatting" class="d">formatting</a> text, recognize numbered lists.  This actually uses
        the <a href="options.txt.html#%27formatlistpat%27" class="o">'formatlistpat'</a> option, thus any kind of <a href="eval.txt.html#list" class="d">list</a> can be used.  The
        indent of the text after the number <a href="motion.txt.html#is" class="d">is</a> used for the next line.  The
        default <a href="motion.txt.html#is" class="d">is</a> to find <a href="insert.txt.html#a" class="d">a</a> number, optionally followed by '.', ':', ')',
        ']' or '}'.  <span class="n">Note</span> that <a href="options.txt.html#%27autoindent%27" class="o">'autoindent'</a> <a href="vim_faq.txt.html#must" class="d">must</a> be set too.  Doesn't work
        well together with "2"<a href="repeat.txt.html#." class="d">.</a>
        Example: 
<span class="e">                1. the first item</span>
<span class="e">                   wraps</span>
<span class="e">                2. the second item</span>
2       When <a href="#formatting" class="d">formatting</a> text, use the indent of the second line of <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#paragraph" class="d">paragraph</a>
        for the rest of the paragraph, instead of the indent of the first
        line.  This supports paragraphs in which the first line has <a href="insert.txt.html#a" class="d">a</a>
        different indent than the rest.  <span class="n">Note</span> that <a href="options.txt.html#%27autoindent%27" class="o">'autoindent'</a> <a href="vim_faq.txt.html#must" class="d">must</a> be set
        too.  Example: 
<span class="e">                        first line of a paragraph</span>
<span class="e">                second line of the same paragraph</span>
<span class="e">                third line.</span>
       This also works inside comments, ignoring the comment leader.
<a href="visual.txt.html#v" class="d">v</a>       Vi-compatible auto-wrapping in <a href="insert.txt.html#insert" class="d">insert</a> mode: Only break <a href="insert.txt.html#a" class="d">a</a> line <a href="motion.txt.html#at" class="d">at</a> <a href="insert.txt.html#a" class="d">a</a>
        blank that you have entered during the current <a href="insert.txt.html#insert" class="d">insert</a> command.  (Note:
        this <a href="motion.txt.html#is" class="d">is</a> not 100% <a href="intro.txt.html#Vi" class="d">Vi</a> compatible.  <a href="intro.txt.html#Vi" class="d">Vi</a> has some "unexpected features" or
        <a href="intro.txt.html#bugs" class="d">bugs</a> in this area.  It uses the screen column instead of the line
        column.)
<a href="motion.txt.html#b" class="d">b</a>       Like 'v', but only auto-wrap if you enter <a href="insert.txt.html#a" class="d">a</a> blank <a href="motion.txt.html#at" class="d">at</a> or before
        the wrap margin.  If the line was longer than <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> when you
        started the insert, or you <a href="diff.txt.html#do" class="d">do</a> not enter <a href="insert.txt.html#a" class="d">a</a> blank in the <a href="insert.txt.html#insert" class="d">insert</a> before
        reaching <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a>, Vim does not perform auto-wrapping.
<a href="motion.txt.html#l" class="d">l</a>       Long lines are not broken in <a href="insert.txt.html#insert" class="d">insert</a> mode: When <a href="insert.txt.html#a" class="d">a</a> line was longer than
        <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> when the <a href="insert.txt.html#insert" class="d">insert</a> command started, Vim does not
        automatically format it.
<a href="motion.txt.html#m" class="d">m</a>       Also break <a href="motion.txt.html#at" class="d">at</a> <a href="insert.txt.html#a" class="d">a</a> <a href="mbyte.txt.html#multi-byte" class="d">multi-byte</a> character above 255.  This <a href="motion.txt.html#is" class="d">is</a> useful for
        Asian text where every character <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#word" class="d">word</a> on its own.
<a href="motion.txt.html#M" class="d">M</a>       When joining lines, don't <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> before or after <a href="insert.txt.html#a" class="d">a</a> <a href="mbyte.txt.html#multi-byte" class="d">multi-byte</a>
        character.  Overrules the 'B' flag.
<a href="motion.txt.html#B" class="d">B</a>       When joining lines, don't <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> between two <a href="mbyte.txt.html#multi-byte" class="d">multi-byte</a>
        characters.  Overruled by the 'M' flag.
1       Don't break <a href="insert.txt.html#a" class="d">a</a> line after <a href="insert.txt.html#a" class="d">a</a> one-letter word.  It's broken before <a href="motion.txt.html#it" class="d">it</a>
        instead (if possible).
<a href="motion.txt.html#j" class="d">j</a>       Where <a href="motion.txt.html#it" class="d">it</a> makes sense, remove <a href="insert.txt.html#a" class="d">a</a> comment leader when joining lines.  For
        example, joining:
<span class="h">                int i;   // the index </span>
<span class="h">                         // in the list </span>
        Becomes:
<span class="h">                int i;   // the index in the list </span>


With 't' and 'c' you can specify when Vim performs auto-wrapping:
<span class="h">value   action  </span>
""      no automatic <a href="#formatting" class="d">formatting</a> (you can use "<a href="#gq" class="d">gq</a>" for manual formatting)
"<a href="motion.txt.html#t" class="d">t</a>"     automatic <a href="#formatting" class="d">formatting</a> of text, but not comments
"<a href="#c" class="d">c</a>"     automatic <a href="#formatting" class="d">formatting</a> for comments, but not text (good for <a href="#C" class="d">C</a> code)
"tc"    automatic <a href="#formatting" class="d">formatting</a> for text and comments

<span class="n">Note</span> that when <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> <a href="motion.txt.html#is" class="d">is</a> 0, Vim does no automatic <a href="#formatting" class="d">formatting</a> anyway (but
does <a href="insert.txt.html#insert" class="d">insert</a> comment leaders according to the <a href="options.txt.html#%27comments%27" class="o">'comments'</a> option).  An exception
<a href="motion.txt.html#is" class="d">is</a> when the 'a' flag <a href="motion.txt.html#is" class="d">is</a> present. <a href="#auto-format" class="l">auto-format</a>

<span class="n">Note</span> that when <a href="options.txt.html#%27paste%27" class="o">'paste'</a> <a href="motion.txt.html#is" class="d">is</a> on, Vim does no <a href="#formatting" class="d">formatting</a> <a href="motion.txt.html#at" class="d">at</a> all.

<span class="n">Note</span> that <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> can be non-zero even if Vim never performs auto-wrapping;
<a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> <a href="motion.txt.html#is" class="d">is</a> still useful for <a href="#formatting" class="d">formatting</a> with "<a href="#gq" class="d">gq</a>"<a href="repeat.txt.html#." class="d">.</a>

If the <a href="options.txt.html#%27comments%27" class="o">'comments'</a> option includes "<a href="pattern.txt.html#%2F" class="d">/</a>*"<a href="motion.txt.html#%2C" class="d">,</a> "*" and/or "*<a href="pattern.txt.html#%2F" class="d">/</a>"<a href="motion.txt.html#%2C" class="d">,</a> then Vim has some
built in stuff to treat these types of comments <a href="insert.txt.html#a" class="d">a</a> bit more cleverly.
Opening <a href="insert.txt.html#a" class="d">a</a> new line before or after "<a href="pattern.txt.html#%2F" class="d">/</a>*" or "*<a href="pattern.txt.html#%2F" class="d">/</a>" (with 'r' or 'o' present in
<a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a>) gives the correct start of the line automatically.  The same
happens with <a href="#formatting" class="d">formatting</a> and auto-wrapping.  Opening <a href="insert.txt.html#a" class="d">a</a> line after <a href="insert.txt.html#a" class="d">a</a> line
<a href="starting.txt.html#starting" class="d">starting</a> with "<a href="pattern.txt.html#%2F" class="d">/</a>*" or "*" and containing "*<a href="pattern.txt.html#%2F" class="d">/</a>"<a href="motion.txt.html#%2C" class="d">,</a> will cause no comment leader to
be inserted, and the indent of the new line <a href="motion.txt.html#is" class="d">is</a> taken from the line containing
the start of the comment.
E.g.:
<span class="h">    /* </span>
<span class="c">    </span><span class="h"> * Your typical comment. </span>
<span class="c">    </span><span class="h"> */ </span>
    The indent on this line <a href="motion.txt.html#is" class="d">is</a> the same <a href="motion.txt.html#as" class="d">as</a> the start of the above
    comment.

All of this should be really cool, especially in conjunction with the new
<a href="autocmd.txt.html#%3Aautocmd" class="d">:autocmd</a> command to prepare different settings for different types of file.

Some examples:
  for <a href="#C" class="d">C</a> code (only format comments): 
<span class="e">        :set fo=croq</span>
 for Mail/news (format all, don't start comment with "<a href="insert.txt.html#o" class="d">o</a>" command): 
<span class="e">        :set fo=tcrq</span>


Automatic <a href="#formatting" class="d">formatting</a>                            <a name="auto-format" class="t">auto-format</a> <a name="autoformat" class="t">autoformat</a>

When the 'a' flag <a href="motion.txt.html#is" class="d">is</a> present in <a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a> text <a href="motion.txt.html#is" class="d">is</a> formatted
automatically when <a href="insert.txt.html#inserting" class="d">inserting</a> text or <a href="#deleting" class="d">deleting</a> text.  This works <a href="todo.txt.html#nice" class="d">nice</a> for
editing text paragraphs.  <a href="insert.txt.html#A" class="d">A</a> few hints on how to use this:

<a href="motion.txt.html#-" class="d">-</a> You need to properly define paragraphs.  The simplest <a href="motion.txt.html#is" class="d">is</a> paragraphs that are
  separated by <a href="insert.txt.html#a" class="d">a</a> blank line.  When there <a href="motion.txt.html#is" class="d">is</a> no separating blank line, consider
  using the 'w' flag and adding <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> <a href="motion.txt.html#at" class="d">at</a> the <a href="intro.txt.html#end" class="d">end</a> of each line in the
  paragraphs except the last one.

<a href="motion.txt.html#-" class="d">-</a> You can set the <a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a> based on the type of file <a href="filetype.txt.html#filetype" class="l">filetype</a> or
  specifically for one file with <a href="insert.txt.html#a" class="d">a</a> <a href="options.txt.html#modeline" class="l">modeline</a><a href="repeat.txt.html#." class="d">.</a>

<a href="motion.txt.html#-" class="d">-</a> Set <a href="options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a> to "aw2tq" to make text with indents like this:

            bla bla foobar bla 
        bla foobar bla foobar bla
            bla bla foobar bla 
        bla foobar bla bla foobar

<a href="motion.txt.html#-" class="d">-</a> Add the 'c' flag to only <a href="#auto-format" class="d">auto-format</a> comments.  Useful in source code.

<a href="motion.txt.html#-" class="d">-</a> Set <a href="options.txt.html#%27textwidth%27" class="o">'textwidth'</a> to the desired width.  If <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> zero then 79 <a href="motion.txt.html#is" class="d">is</a> used, or the
  width of the screen if this <a href="motion.txt.html#is" class="d">is</a> smaller.

And <a href="insert.txt.html#a" class="d">a</a> few warnings:

<a href="motion.txt.html#-" class="d">-</a> When part of the text <a href="motion.txt.html#is" class="d">is</a> not properly separated in paragraphs, making
  changes in this text will cause <a href="motion.txt.html#it" class="d">it</a> to be formatted anyway.  Consider doing 
<span class="e"></span>
<span class="e">        :set fo-=a</span>
<span class="e"></span>
<a href="motion.txt.html#-" class="d">-</a> When using the 'w' flag (trailing <a href="intro.txt.html#space" class="d">space</a> means <a href="motion.txt.html#paragraph" class="d">paragraph</a> continues) and
  <a href="#deleting" class="d">deleting</a> the last line of <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#paragraph" class="d">paragraph</a> with <a href="#dd" class="l">dd</a><a href="motion.txt.html#%2C" class="d">,</a> the <a href="motion.txt.html#paragraph" class="d">paragraph</a> will be
  joined with the next one.

<a href="motion.txt.html#-" class="d">-</a> Changed text <a href="motion.txt.html#is" class="d">is</a> saved for undo.  Formatting <a href="motion.txt.html#is" class="d">is</a> also <a href="insert.txt.html#a" class="d">a</a> change.  Thus each
  format action saves text for undo.  This may consume quite <a href="insert.txt.html#a" class="d">a</a> lot of memory.

<a href="motion.txt.html#-" class="d">-</a> Formatting <a href="insert.txt.html#a" class="d">a</a> long <a href="motion.txt.html#paragraph" class="d">paragraph</a> and/or with complicated indenting may be slow.

<span class="h">==============================================================================</span>
7. Sorting text                                         <a name="sorting" class="t">sorting</a>

Vim has <a href="insert.txt.html#a" class="d">a</a> <a href="#sorting" class="d">sorting</a> function and <a href="insert.txt.html#a" class="d">a</a> <a href="#sorting" class="d">sorting</a> command.  The <a href="#sorting" class="d">sorting</a> function can be
found here: <a href="eval.txt.html#sort%28%29" class="l">sort()</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#uniq%28%29" class="l">uniq()</a><a href="repeat.txt.html#." class="d">.</a>

                                                        <a name="%3Asor" class="t">:sor</a> <a name="%3Asort" class="t">:sort</a>
:[range]sor[t][!] [b][f][i][n][o][r][u][x] [/{pattern}/]
                        Sort lines in <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a>.  When no range <a href="motion.txt.html#is" class="d">is</a> given all
                        lines are sorted.

                        With [!] the order <a href="motion.txt.html#is" class="d">is</a> reversed.

                        With [i] <a href="#case" class="d">case</a> <a href="motion.txt.html#is" class="d">is</a> ignored.

                        Options [n][f][x][o][b] are mutually exclusive.

                        With [n] <a href="#sorting" class="d">sorting</a> <a href="motion.txt.html#is" class="d">is</a> done on the first decimal number
                        in the line (after or inside <a href="insert.txt.html#a" class="d">a</a> <span class="s">{pattern}</span> match).
                        One leading '-' <a href="motion.txt.html#is" class="d">is</a> included in the number.

                        With [f] <a href="#sorting" class="d">sorting</a> <a href="motion.txt.html#is" class="d">is</a> done on the <a href="eval.txt.html#Float" class="d">Float</a> in the line.
                        The value of <a href="eval.txt.html#Float" class="d">Float</a> <a href="motion.txt.html#is" class="d">is</a> determined similar to passing
                        the text (after or inside <a href="insert.txt.html#a" class="d">a</a> <span class="s">{pattern}</span> match) to
                        <a href="eval.txt.html#str2float%28%29" class="d">str2float()</a> function. This option <a href="motion.txt.html#is" class="d">is</a> available only
                        if Vim was compiled with Floating point support.

                        With [x] <a href="#sorting" class="d">sorting</a> <a href="motion.txt.html#is" class="d">is</a> done on the first hexadecimal
                        number in the line (after or inside <a href="insert.txt.html#a" class="d">a</a> <span class="s">{pattern}</span>
                        match).  <a href="insert.txt.html#A" class="d">A</a> leading "0x" or "0X" <a href="motion.txt.html#is" class="d">is</a> ignored.
                        One leading '-' <a href="motion.txt.html#is" class="d">is</a> included in the number.

                        With [o] <a href="#sorting" class="d">sorting</a> <a href="motion.txt.html#is" class="d">is</a> done on the first <a href="eval.txt.html#octal" class="d">octal</a> number in
                        the line (after or inside <a href="insert.txt.html#a" class="d">a</a> <span class="s">{pattern}</span> match).

                        With [b] <a href="#sorting" class="d">sorting</a> <a href="motion.txt.html#is" class="d">is</a> done on the first binary number in
                        the line (after or inside <a href="insert.txt.html#a" class="d">a</a> <span class="s">{pattern}</span> match).

                        With [u] (u stands for unique) only keep the first of
                        <a href="insert.txt.html#a" class="d">a</a> sequence of identical lines (ignoring <a href="#case" class="d">case</a> when [i]
                        <a href="motion.txt.html#is" class="d">is</a> used).  Without this flag, <a href="insert.txt.html#a" class="d">a</a> sequence of identical
                        lines will be kept in their original order.
                        <span class="n">Note</span> that leading and trailing white <a href="intro.txt.html#space" class="d">space</a> may cause
                        lines to be different.

                        When /{pattern}/ <a href="motion.txt.html#is" class="d">is</a> specified and there <a href="motion.txt.html#is" class="d">is</a> no [r] flag
                        the text matched with <span class="s">{pattern}</span> <a href="motion.txt.html#is" class="d">is</a> skipped, so that
                        you sort on what comes after the match.
                        Instead of the slash any non-letter can be used.
                        For example, to sort on the second comma-separated
                        field: 
<span class="e">                                :sort /[^,]*,/</span>
                       To sort on the text <a href="motion.txt.html#at" class="d">at</a> virtual column 10 (thus
                        ignoring the difference between tabs and spaces): 
<span class="e">                                :sort /.*\%10v/</span>
                       To sort on the first number in the line, no matter
                        what <a href="motion.txt.html#is" class="d">is</a> in front of it: 
<span class="e">                                :sort /.\{-}\ze\d/</span>
                       (Explanation: ".\{-}" matches any text, "\ze" sets the
                        <a href="intro.txt.html#end" class="d">end</a> of the match and \d matches <a href="insert.txt.html#a" class="d">a</a> digit.)
                        With [r] <a href="#sorting" class="d">sorting</a> <a href="motion.txt.html#is" class="d">is</a> done on the matching <span class="s">{pattern}</span>
                        instead of skipping past <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#as" class="d">as</a> described above.
                        For example, to sort on only the first three letters
                        of each line: 
<span class="e">                                :sort /\a\a\a/ r</span>
<span class="e"></span>
                       If <a href="insert.txt.html#a" class="d">a</a> <span class="s">{pattern}</span> <a href="motion.txt.html#is" class="d">is</a> used, any lines which don't have <a href="insert.txt.html#a" class="d">a</a>
                        match for <span class="s">{pattern}</span> are kept in their current order,
                        but separate from the lines which <a href="diff.txt.html#do" class="d">do</a> match <span class="s">{pattern}</span>.
                        If you sorted in reverse, they will be in reverse
                        order after the sorted lines, otherwise they will be
                        in their original order, right before the sorted
                        lines.

                        If <span class="s">{pattern}</span> <a href="motion.txt.html#is" class="d">is</a> empty (e.g. <a href="version7.txt.html#%2F%2F" class="d">//</a> <a href="motion.txt.html#is" class="d">is</a> specified), the
                        last search <a href="pattern.txt.html#pattern" class="d">pattern</a> <a href="motion.txt.html#is" class="d">is</a> used.  This allows trying out
                        <a href="insert.txt.html#a" class="d">a</a> <a href="pattern.txt.html#pattern" class="d">pattern</a> first.

<span class="n">Note</span> that using <span class="e">:sort</span> with <span class="e">:global</span> doesn't sort the matching lines, it's
quite useless.

The details about <a href="#sorting" class="d">sorting</a> depend on the library function used.  There <a href="motion.txt.html#is" class="d">is</a> no
guarantee that <a href="#sorting" class="d">sorting</a> obeys the current locale.  You will have to try <a href="motion.txt.html#it" class="d">it</a> out.
Vim does <a href="diff.txt.html#do" class="d">do</a> <a href="insert.txt.html#a" class="d">a</a> "stable" sort.

The <a href="#sorting" class="d">sorting</a> can be interrupted, but if you interrupt <a href="motion.txt.html#it" class="d">it</a> too late in the
process you may <a href="intro.txt.html#end" class="d">end</a> up with duplicated lines.  This also depends on the system
library function used.

 vim:tw=78:ts=8:ft=help:norl:

</pre>
</div>
</div>
</body>
</html>
