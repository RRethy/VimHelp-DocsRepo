<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8"/>
<title>Vim: netbeans.txt</title>
</head><body>
<div id="d1">
<div id="d2">
<pre>
<a name="netbeans.txt" class="t">netbeans.txt</a>  For <span class="i">Vim version 8.0.</span>  Last change: 2016 Jul 15


                  <span class="i">VIM REFERENCE MANUAL    by Gordon Prieur et al.</span>


                                        <a name="netbeans" class="t">netbeans</a> <a name="netbeans-support" class="t">netbeans-support</a>

Vim NetBeans Protocol: <a href="insert.txt.html#a" class="d">a</a> socket interface for Vim integration into an IDE.

1.  Introduction                                <a href="#netbeans-intro" class="l">netbeans-intro</a>
2.  Integration features                        <a href="#netbeans-integration" class="l">netbeans-integration</a>
3.  Configuring Vim for NetBeans                <a href="#netbeans-configure" class="l">netbeans-configure</a>
4.  Error Messages                              <a href="#netbeans-messages" class="l">netbeans-messages</a>
5.  Running Vim in NetBeans mode                <a href="#netbeans-run" class="l">netbeans-run</a>
6.  NetBeans protocol                           <a href="#netbeans-protocol" class="l">netbeans-protocol</a>
7.  NetBeans commands                           <a href="#netbeans-commands" class="l">netbeans-commands</a>
8.  Known problems                              <a href="#netbeans-problems" class="l">netbeans-problems</a>
9.  Debugging NetBeans protocol                 <a href="#netbeans-debugging" class="l">netbeans-debugging</a>
10. NetBeans External Editor
    10.1. Downloading NetBeans                  <a href="#netbeans-download" class="l">netbeans-download</a>
    10.2. NetBeans Key Bindings                 <a href="#netbeans-keybindings" class="l">netbeans-keybindings</a>
    10.3. Preparing NetBeans for Vim            <a href="#netbeans-preparation" class="l">netbeans-preparation</a>
    10.4. Obtaining the External Editor Module  <a href="#obtaining-exted" class="l">obtaining-exted</a>
    10.5. Setting up NetBeans to run with Vim   <a href="#netbeans-setup" class="l">netbeans-setup</a>

<span class="s">{Vi does not have any of these features}</span>
<span class="s">{only available when compiled with the |+netbeans_intg| feature}</span>

<span class="h">==============================================================================</span>
1. Introduction                                         <a name="netbeans-intro" class="t">netbeans-intro</a>

The NetBeans interface was initially developed to integrate Vim into the
NetBeans Java IDE, using the external editor plugin.  This NetBeans <a href="usr_05.txt.html#plugin" class="d">plugin</a> no
longer exists for recent versions of NetBeans but the protocol was developed
in such <a href="insert.txt.html#a" class="d">a</a> way that any IDE can use <a href="motion.txt.html#it" class="d">it</a> to integrate Vim.

The NetBeans protocol of Vim <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> text based communication protocol, over <a href="insert.txt.html#a" class="d">a</a>
classical TCP socket. There <a href="motion.txt.html#is" class="d">is</a> no dependency on Java or NetBeans. Any language
or environment providing <a href="insert.txt.html#a" class="d">a</a> socket interface can <a href="intro.txt.html#control" class="d">control</a> Vim using this
protocol. There are existing implementations in C, C++, <a href="if_pyth.txt.html#Python" class="d">Python</a> and Java. The
name NetBeans <a href="motion.txt.html#is" class="d">is</a> kept today for historical reasons.

Current projects using the NetBeans protocol of Vim are:
<a href="motion.txt.html#-" class="d">-</a> VimIntegration, description of <a href="various.txt.html#various" class="d">various</a> projects doing Vim Integration:
        <a class="u" href="http://www.freehackers.org/VimIntegration">http://www.freehackers.org/VimIntegration</a>
<a href="motion.txt.html#-" class="d">-</a> Agide, an IDE for the AAP project, written in Python:
        <a class="u" href="http://www.a-a-p.org">http://www.a-a-p.org</a>
<a href="motion.txt.html#-" class="d">-</a> Clewn, <a href="insert.txt.html#a" class="d">a</a> <a href="debug.txt.html#gdb" class="d">gdb</a> integration into Vim, written in C:
        <a class="u" href="http://clewn.sourceforge.net/">http://clewn.sourceforge.net/</a>
<a href="motion.txt.html#-" class="d">-</a> Pyclewn, <a href="insert.txt.html#a" class="d">a</a> <a href="debug.txt.html#gdb" class="d">gdb</a> integration into Vim, written in Python:
        <a class="u" href="http://pyclewn.sourceforge.net/">http://pyclewn.sourceforge.net/</a>
<a href="motion.txt.html#-" class="d">-</a> VimPlugin, integration of Vim inside Eclipse:
        <a class="u" href="http://vimplugin.sourceforge.net/wiki/pmwiki.php">http://vimplugin.sourceforge.net/wiki/pmwiki.php</a>
<a href="motion.txt.html#-" class="d">-</a> PIDA, IDE written in <a href="if_pyth.txt.html#Python" class="d">Python</a> integrating Vim:
        <a class="u" href="http://pida.co.uk/">http://pida.co.uk/</a>
<a href="motion.txt.html#-" class="d">-</a> VimWrapper, library to <a href="starting.txt.html#easy" class="d">easy</a> Vim integration into IDE:
        <a class="u" href="http://www.freehackers.org/VimWrapper">http://www.freehackers.org/VimWrapper</a>

Check the specific project pages to see how to use Vim with these projects.

An alternative <a href="motion.txt.html#is" class="d">is</a> to use <a href="insert.txt.html#a" class="d">a</a> channel, see <a href="channel.txt.html#channel" class="l">channel</a><a href="repeat.txt.html#." class="d">.</a>

In the rest of this <a href="helphelp.txt.html#help" class="d">help</a> page, we will use the term "Vim Controller" to
describe the program controlling Vim through the NetBeans socket interface.


<span class="h">About the NetBeans IDE </span>

NetBeans <a href="motion.txt.html#is" class="d">is</a> an open source Integrated Development Environment developed
jointly by Sun Microsystems, Inc. and the netbeans.org developer community.
Initially just <a href="insert.txt.html#a" class="d">a</a> Java IDE, NetBeans has had C, C++, and Fortran support added
in recent releases.

For more information visit the main NetBeans web site <a class="u" href="http://www.netbeans.org">http://www.netbeans.org</a>.
The External Editor <a href="motion.txt.html#is" class="d">is</a> now, unfortunately, declared obsolete.  See
 <a class="u" href="http://externaleditor.netbeans.org">http://externaleditor.netbeans.org</a>.

Sun Microsystems, Inc. also ships NetBeans under the name Sun ONE Studio.
Visit <a class="u" href="http://www.sun.com">http://www.sun.com</a> for more information regarding the Sun ONE Studio
product line.

Current releases of NetBeans provide full support for Java and limited support
for C, C++, and Fortran.  Current releases of Sun ONE Studio provide full
support for Java, C, C++, and Fortran.

<span class="h">==============================================================================</span>
2. Integration features                                 <a name="netbeans-integration" class="t">netbeans-integration</a>

The NetBeans socket interface of Vim allows to get information from Vim or to
ask Vim to perform specific actions:
<a href="motion.txt.html#-" class="d">-</a> get information about buffer: buffer name, cursor position, buffer content,
  etc.
<a href="motion.txt.html#-" class="d">-</a> be notified when <a href="windows.txt.html#buffers" class="d">buffers</a> are open or closed
<a href="motion.txt.html#-" class="d">-</a> be notified of how the buffer content <a href="motion.txt.html#is" class="d">is</a> modified
<a href="motion.txt.html#-" class="d">-</a> load and save files
<a href="motion.txt.html#-" class="d">-</a> modify the buffer content
<a href="motion.txt.html#-" class="d">-</a> installing special key bindings
<a href="motion.txt.html#-" class="d">-</a> raise the window, <a href="intro.txt.html#control" class="d">control</a> the <a href="windows.txt.html#window" class="d">window</a> geometry

For sending key strokes to Vim or for evaluating <a href="eval.txt.html#functions" class="d">functions</a> in Vim, you <a href="vim_faq.txt.html#must" class="d">must</a>
use the <a href="remote.txt.html#clientserver" class="l">clientserver</a> interface.


<span class="h">==============================================================================</span>
3. Configuring Vim for NetBeans                 <a name="netbeans-configure" class="t">netbeans-configure</a>

For more <a href="helphelp.txt.html#help" class="d">help</a> about installing Vim, please read <a href="usr_90.txt.html#usr_90.txt" class="l">usr_90.txt</a> in the Vim <a href="autocmd.txt.html#User" class="d">User</a>
Manual.


On Unix:
<span class="h">--------</span>

When running configure without arguments the NetBeans interface should be
included.  That is, if the configure check to find out if your system supports
the required features succeeds.

In <a href="change.txt.html#case" class="d">case</a> you <a href="diff.txt.html#do" class="d">do</a> not want the NetBeans interface you can disable <a href="motion.txt.html#it" class="d">it</a> by
uncommenting <a href="insert.txt.html#a" class="d">a</a> line with "--disable-netbeans" in the Makefile.

Currently the NetBeans interface <a href="motion.txt.html#is" class="d">is</a> supported by Vim running in <a href="insert.txt.html#a" class="d">a</a> terminal and
by <a href="starting.txt.html#gvim" class="d">gvim</a> when <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> run with one of the following GUIs: GTK, GNOME, Windows,
<a href="gui_x11.txt.html#Athena" class="d">Athena</a> and Motif.

If <a href="gui_x11.txt.html#Motif" class="d">Motif</a> support <a href="motion.txt.html#is" class="d">is</a> required the user <a href="vim_faq.txt.html#must" class="d">must</a> supply XPM libraries.  See
<a href="workshop.txt.html#workshop-xpm" class="l">workshop-xpm</a> for details on obtaining the latest version of XPM.


On MS-Windows:
<span class="h">--------------</span>

The <a href="os_win32.txt.html#Win32" class="d">Win32</a> support <a href="motion.txt.html#is" class="d">is</a> now in beta stage.

To use XPM <a href="sign.txt.html#signs" class="d">signs</a> on <a href="os_win32.txt.html#Win32" class="d">Win32</a> (e.g. when using with NetBeans) you can compile
XPM by yourself or use precompiled libraries from <a class="u" href="http://iamphet.nm.ru/misc/">http://iamphet.nm.ru/misc/</a>
(for MS <a href="visual.txt.html#Visual" class="d">Visual</a> C++) or <a class="u" href="http://gnuwin32.sourceforge.net">http://gnuwin32.sourceforge.net</a> (for MinGW).

Enable debugging:
<span class="h">-----------------</span>

To enable debugging of Vim and of the NetBeans protocol, the "NBDEBUG" <a href="map.txt.html#macro" class="d">macro</a>
needs to be defined.  Search in the Makefile of the platform you are using for
"NBDEBUG" to see what line needs to be uncommented.  This effectively adds
"-DNBDEBUG" to the compile command.  Also see <a href="#netbeans-debugging" class="l">netbeans-debugging</a>

<span class="h">==============================================================================</span>
4. Error Messages                                       <a name="netbeans-messages" class="t">netbeans-messages</a>

These error <a href="message.txt.html#messages" class="d">messages</a> are specific to NetBeans socket protocol:

                                                        <a name="E463" class="t">E463</a>
Region <a href="motion.txt.html#is" class="d">is</a> guarded, cannot modify
                The Vim Controller has defined guarded areas in the text,
                which you cannot change.  Also sets the current buffer, if
                necessary.

                                                        <a name="E532" class="t">E532</a>
The defineAnnoType highlighting color name <a href="motion.txt.html#is" class="d">is</a> too long
                The maximum length of the "fg" or "bg" color argument in the
                defineAnnoType command <a href="motion.txt.html#is" class="d">is</a> 32 characters.
                New in version 2.5.

                                                        <a name="E656" class="t">E656</a>
Writes of unmodified <a href="windows.txt.html#buffers" class="d">buffers</a> forbidden
                Writes of unmodified <a href="windows.txt.html#buffers" class="d">buffers</a> that were opened from the
                Vim Controller are not possible.

                                                        <a name="E657" class="t">E657</a>
<a href="eval.txt.html#Partial" class="d">Partial</a> writes disallowed
                <a href="eval.txt.html#Partial" class="d">Partial</a> writes for <a href="windows.txt.html#buffers" class="d">buffers</a> that were opened from the
                Vim Controller are not allowed.

                                                        <a name="E658" class="t">E658</a>
Connection lost for this buffer
                The Vim Controller has become confused about the state of
                this file.  Rather than risk data corruption, <a href="motion.txt.html#it" class="d">it</a> has severed
                the connection for this file.  Vim will take over
                responsibility for saving changes to this file and the
                Vim Controller will no longer know of these changes.

                                                        <a name="E744" class="t">E744</a>
Read-only file
                Vim normally allows changes to <a href="insert.txt.html#a" class="d">a</a> read-only file and only
                enforces the read-only rule if you try to write the file.
                However, NetBeans does not let you make changes to <a href="insert.txt.html#a" class="d">a</a> file
                which <a href="motion.txt.html#is" class="d">is</a> read-only and becomes confused if Vim does this.
                So Vim does not allow modifications to files when run
                in NetBeans mode.

<span class="h">==============================================================================</span>
5. Running Vim in NetBeans mode                         <a name="netbeans-run" class="t">netbeans-run</a>

There are two different ways to run Vim in NetBeans mode:

        <a href="motion.txt.html#%2B" class="d">+</a> an IDE may start Vim with the <a href="starting.txt.html#-nb" class="l">-nb</a> command line argument
        <a href="motion.txt.html#%2B" class="d">+</a> NetBeans can be started from within Vim with the <a href="#%3Anbstart" class="l">:nbstart</a> command

Vim uses <a href="insert.txt.html#a" class="d">a</a> 3 second timeout on trying to make the connection.

                                                        <a name="netbeans-parameters" class="t">netbeans-parameters</a>
Three forms can be used to setup the NetBeans connection parameters.
When started from the command line, the <a href="starting.txt.html#-nb" class="l">-nb</a> command line argument may be:

        -nb={fname}                             from <a href="insert.txt.html#a" class="d">a</a> file
        -nb:{hostname}:{addr}:{password}        directly
        <a href="starting.txt.html#-nb" class="d">-nb</a>                                     from <a href="insert.txt.html#a" class="d">a</a> file or environment

When started from within Vim, the <a href="#%3Anbstart" class="l">:nbstart</a> optional argument may be:

        ={fname}                                from <a href="insert.txt.html#a" class="d">a</a> file
        :{hostname}:{addr}:{password}           directly
        <span class="s">&lt;MISSING ARGUMENT&gt;</span>                      from <a href="insert.txt.html#a" class="d">a</a> file or environment

                                                        <a name="E660" class="t">E660</a> <a name="E668" class="t">E668</a>
When NetBeans <a href="motion.txt.html#is" class="d">is</a> started from the command line, for security reasons, the best
method <a href="motion.txt.html#is" class="d">is</a> to write the information in <a href="insert.txt.html#a" class="d">a</a> file readable only by the user.  The
name of the file can be passed with the "-nb={fname}" argument or, when "<a href="starting.txt.html#-nb" class="d">-nb</a>"
<a href="motion.txt.html#is" class="d">is</a> used without <a href="insert.txt.html#a" class="d">a</a> parameter, the environment variable "__NETBEANS_CONINFO"<a href="repeat.txt.html#." class="d">.</a>
The file <a href="vim_faq.txt.html#must" class="d">must</a> contain these three lines, in any order:

        host={hostname}
        port={addr}
        auth={password}

Other lines are ignored.  The Vim Controller <a href="motion.txt.html#is" class="d">is</a> responsible for <a href="change.txt.html#deleting" class="d">deleting</a> the
file afterwards.

<span class="s">{hostname}</span> <a href="motion.txt.html#is" class="d">is</a> the name of the machine where Vim Controller <a href="motion.txt.html#is" class="d">is</a> running.  When
omitted the environment variable "__NETBEANS_HOST" <a href="motion.txt.html#is" class="d">is</a> used or the default
"localhost"<a href="repeat.txt.html#." class="d">.</a>

<span class="s">{addr}</span> <a href="motion.txt.html#is" class="d">is</a> the port number for the NetBeans interface.  When omitted the
environment variable "__NETBEANS_SOCKET" <a href="motion.txt.html#is" class="d">is</a> used or the default 3219.

<span class="s">{password}</span> <a href="motion.txt.html#is" class="d">is</a> the password for connecting to NetBeans.  When omitted the
environment variable "__NETBEANS_VIM_PASSWORD" <a href="motion.txt.html#is" class="d">is</a> used or "changeme"<a href="repeat.txt.html#." class="d">.</a>

Vim will initiate <a href="insert.txt.html#a" class="d">a</a> socket connection (client side) to the specified host and
port upon startup. The password will be sent with the AUTH event when the
connection has been established.


<span class="h">==============================================================================</span>
6. NetBeans protocol                                    <a name="netbeans-protocol" class="t">netbeans-protocol</a>

The communication between the Vim Controller and Vim uses plain text
messages.  This protocol was first designed to work with the external editor
module of NetBeans.  Later <a href="motion.txt.html#it" class="d">it</a> was extended to work with Agide (A-A-P <a href="gui.txt.html#GUI" class="d">GUI</a> IDE,
see <a class="u" href="http://www.a-a-p.org">http://www.a-a-p.org</a>) and then with other IDE. The extensions are marked
with "version 2.1"<a href="repeat.txt.html#." class="d">.</a>

Version 2.2 of the protocol has several minor changes which should only affect
NetBeans users (ie, not Agide users).  However, <a href="insert.txt.html#a" class="d">a</a> bug was fixed which could
cause confusion.  The netbeans_saved() function sent <a href="insert.txt.html#a" class="d">a</a> "save" protocol
command.  In protocol version 2.1 and earlier this was incorrectly interpreted
<a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> notification that <a href="insert.txt.html#a" class="d">a</a> write had taken place.  In reality, <a href="motion.txt.html#it" class="d">it</a> told NetBeans
to save the file so multiple writes were being done.  This caused <a href="various.txt.html#various" class="d">various</a>
problems and has been fixed in 2.2.  To decrease the likelihood of this
confusion happening again, netbeans_saved() has been renamed to
netbeans_save_buffer().

We are now <a href="motion.txt.html#at" class="d">at</a> version 2.5.  For the differences between 2.4 and 2.5 search for
"2.5" below.

The <a href="message.txt.html#messages" class="d">messages</a> are currently sent over <a href="insert.txt.html#a" class="d">a</a> socket.  Since the <a href="message.txt.html#messages" class="d">messages</a> are in
plain <a href="mbyte.txt.html#UTF-8" class="d">UTF-8</a> text this protocol could also be used with any other communication
mechanism.

Netbeans <a href="message.txt.html#messages" class="d">messages</a> are processed when Vim <a href="motion.txt.html#is" class="d">is</a> idle, waiting for user input.
When Vim <a href="motion.txt.html#is" class="d">is</a> run in non-interactive mode, for example when running an automated
test <a href="change.txt.html#case" class="d">case</a> that sources <a href="insert.txt.html#a" class="d">a</a> Vim script, the idle loop may not be called often
enough. In that case, <a href="insert.txt.html#insert" class="d">insert</a> <a href="various.txt.html#%3Asleep" class="l">:sleep</a> commands in the Vim script. The <a href="various.txt.html#%3Asleep" class="l">:sleep</a>
command does invoke Netbeans <a href="message.txt.html#messages" class="d">messages</a> processing.

6.1 Kinds of <a href="message.txt.html#messages" class="d">messages</a>           <a href="#nb-messages" class="l">nb-messages</a>
6.2 Terms                       <a href="#nb-terms" class="l">nb-terms</a>
6.3 Commands                    <a href="#nb-commands" class="l">nb-commands</a>
6.4 Functions and Replies       <a href="#nb-functions" class="l">nb-functions</a>
6.5 Events                      <a href="#nb-events" class="l">nb-events</a>
6.6 <a href="eval.txt.html#Special" class="d">Special</a> <a href="message.txt.html#messages" class="d">messages</a>            <a href="#nb-special" class="l">nb-special</a>
6.7 Protocol <a href="message.txt.html#errors" class="d">errors</a>             <a href="#nb-protocol_errors" class="l">nb-protocol_errors</a>


6.1 Kinds of <a href="message.txt.html#messages" class="d">messages</a>                                   <a name="nb-messages" class="t">nb-messages</a>

There are four kinds of messages:

<span class="h">kind            direction       comment </span>
Command         IDE -&gt; editor   no reply necessary
Function        IDE -&gt; editor   editor <a href="vim_faq.txt.html#must" class="d">must</a> send back <a href="insert.txt.html#a" class="d">a</a> reply
Reply           editor -&gt; IDE   only in response to <a href="insert.txt.html#a" class="d">a</a> Function
Event           editor -&gt; IDE   no reply necessary

The <a href="message.txt.html#messages" class="d">messages</a> are sent <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> single line with <a href="insert.txt.html#a" class="d">a</a> terminating newline character.
Arguments are separated by <a href="insert.txt.html#a" class="d">a</a> single space.  The first item of the message
depends on the kind of message:

<span class="h">kind            first item              example </span>
Command         bufID:name!seqno        11:showBalloon!123 "text"
Function        bufID:name/seqno        11:getLength/123
Reply           seqno                   123 5000
Event           bufID:name=seqno        11:keyCommand=123 "S-F2"



6.2 Terms                                               <a name="nb-terms" class="t">nb-terms</a>

bufID           Buffer number.  <a href="insert.txt.html#A" class="d">A</a> message may be either for <a href="insert.txt.html#a" class="d">a</a> specific buffer
                or generic.  Generic <a href="message.txt.html#messages" class="d">messages</a> use <a href="insert.txt.html#a" class="d">a</a> bufID of zero.  <span class="n">NOTE:</span> this
                buffer ID <a href="motion.txt.html#is" class="d">is</a> assigned by the IDE, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not Vim's buffer
                number.  The bufID <a href="vim_faq.txt.html#must" class="d">must</a> be <a href="insert.txt.html#a" class="d">a</a> sequentially rising number,
                <a href="starting.txt.html#starting" class="d">starting</a> <a href="motion.txt.html#at" class="d">at</a> one.  When the <a href="options.txt.html#%27switchbuf%27" class="o">'switchbuf'</a> option <a href="motion.txt.html#is" class="d">is</a> set to
                "usetab" and the "bufID" buffer <a href="motion.txt.html#is" class="d">is</a> not found in the current
                <a href="intro.txt.html#tab" class="d">tab</a> page, the <a href="#netbeans" class="d">netbeans</a> commands and <a href="eval.txt.html#functions" class="d">functions</a> that set this
                buffer <a href="motion.txt.html#as" class="d">as</a> the current buffer will jump to the first open
                <a href="windows.txt.html#window" class="d">window</a> that contains this buffer in other <a href="intro.txt.html#tab" class="d">tab</a> pages instead of
                <a href="change.txt.html#replacing" class="d">replacing</a> the buffer in the current window.

seqno           The IDE uses <a href="insert.txt.html#a" class="d">a</a> sequence number for Commands and Functions.  <a href="insert.txt.html#A" class="d">A</a>
                Reply <a href="vim_faq.txt.html#must" class="d">must</a> use the sequence number of the Function that <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a>
                associated with.  <a href="insert.txt.html#A" class="d">A</a> zero sequence number can be used for
                Events (the seqno of the last received Command or Function can
                also be used).

<a href="eval.txt.html#string" class="d">string</a>          Argument in double quotes.  Text <a href="motion.txt.html#is" class="d">is</a> in <a href="mbyte.txt.html#UTF-8" class="d">UTF-8</a> encoding.  This
                means ASCII <a href="motion.txt.html#is" class="d">is</a> passed as-is.  <a href="eval.txt.html#Special" class="d">Special</a> characters are
                represented with <a href="insert.txt.html#a" class="d">a</a> backslash:
                        \"      double <a href="change.txt.html#quote" class="d">quote</a>
                        \n      newline
                        \r      <a href="intro.txt.html#carriage-return" class="d">carriage-return</a>
                        \t      <a href="intro.txt.html#tab" class="d">tab</a> (optional, also works literally)
                        \\      <a href="intro.txt.html#backslash" class="d">backslash</a>
                NUL bytes are not allowed!

<a href="options.txt.html#boolean" class="d">boolean</a>         Argument with two possible values:
                        <a href="motion.txt.html#T" class="d">T</a>       true
                        <a href="motion.txt.html#F" class="d">F</a>       false

number          Argument with <a href="insert.txt.html#a" class="d">a</a> decimal number.

color           Argument with either <a href="insert.txt.html#a" class="d">a</a> decimal number, "none" (without the
                quotes) or the name of <a href="insert.txt.html#a" class="d">a</a> color (without the quotes) defined
                both in the color <a href="eval.txt.html#list" class="d">list</a> in <a href="syntax.txt.html#highlight-ctermfg" class="l">highlight-ctermfg</a> and in the color
                <a href="eval.txt.html#list" class="d">list</a> in <a href="syntax.txt.html#gui-colors" class="l">gui-colors</a><a href="repeat.txt.html#." class="d">.</a>
                New in version 2.5.

offset          <a href="insert.txt.html#A" class="d">A</a> number argument that indicates <a href="insert.txt.html#a" class="d">a</a> byte position in <a href="insert.txt.html#a" class="d">a</a> buffer.
                The first byte has offset zero.  Line breaks are counted for
                how they appear in the file (CR/LF counts for two bytes).
                <span class="n">Note</span> that <a href="insert.txt.html#a" class="d">a</a> <a href="mbyte.txt.html#multi-byte" class="d">multi-byte</a> character <a href="motion.txt.html#is" class="d">is</a> counted for the number of
                bytes <a href="motion.txt.html#it" class="d">it</a> takes.

lnum/col        Argument with <a href="insert.txt.html#a" class="d">a</a> line number and column number position.  The
                line number starts with one, the column <a href="motion.txt.html#is" class="d">is</a> the byte position,
                <a href="starting.txt.html#starting" class="d">starting</a> with zero.  <span class="n">Note</span> that <a href="insert.txt.html#a" class="d">a</a> <a href="mbyte.txt.html#multi-byte" class="d">multi-byte</a> character counts
                for several columns.

pathname        <a href="eval.txt.html#String" class="d">String</a> argument: file name with full path.


6.3 Commands                                            <a name="nb-commands" class="t">nb-commands</a>

actionMenuItem  Not implemented.

actionSensitivity
                Not implemented.

addAnno serNum typeNum off len
                Place an annotation in this buffer.
                Arguments:
                   serNum       number  serial number of this placed
                                        annotation, used to be able to remove
                                        <a href="motion.txt.html#it" class="d">it</a>
                   typeNum      number  sequence number of the annotation
                                        defined with defineAnnoType for this
                                        buffer
                   off          number  offset where annotation <a href="motion.txt.html#is" class="d">is</a> to be placed
                   len          number  not used
                In version 2.1 "lnum/col" can be used instead of "off"<a href="repeat.txt.html#." class="d">.</a>

balloonResult text
                Not implemented.

close           Close the buffer.  This leaves us without current buffer, very
                dangerous to use!

create          Creates <a href="insert.txt.html#a" class="d">a</a> buffer without <a href="insert.txt.html#a" class="d">a</a> name.  Replaces the current buffer
                (it's hidden when <a href="motion.txt.html#it" class="d">it</a> was changed).
                The Vim Controller should use this <a href="motion.txt.html#as" class="d">as</a> the first command for <a href="insert.txt.html#a" class="d">a</a>
                file that <a href="motion.txt.html#is" class="d">is</a> being opened.  The sequence of commands could be:
                        create
                        setCaretListener        (ignored)
                        setModified             (no effect)
                        setContentType          (ignored)
                        startDocumentListen
                        setTitle
                        setFullName

defineAnnoType typeNum typeName tooltip glyphFile fg bg
                Define <a href="insert.txt.html#a" class="d">a</a> type of annotation for this buffer.
                Arguments:
                   typeNum      number  sequence number (not really used)
                   typeName     <a href="eval.txt.html#string" class="d">string</a>  name that identifies this annotation
                   tooltip      <a href="eval.txt.html#string" class="d">string</a>  not used
                   glyphFile    <a href="eval.txt.html#string" class="d">string</a>  name of icon file
                   fg           color   foreground color for line highlighting
                   bg           color   background color for line highlighting
                Vim will define <a href="insert.txt.html#a" class="d">a</a> sign for the annotation.
                When color <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> number, this <a href="motion.txt.html#is" class="d">is</a> the "#rrggbb" Red, Green and
                Blue values of the color (see <a href="syntax.txt.html#gui-colors" class="l">gui-colors</a><a href="motion.txt.html#%29" class="d">)</a> and the
                highlighting <a href="motion.txt.html#is" class="d">is</a> only defined for GVim.
                When color <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> name, this color <a href="motion.txt.html#is" class="d">is</a> defined both for Vim
                running in <a href="insert.txt.html#a" class="d">a</a> color terminal and for GVim.
                When both "fg" and "bg" are "none" no line highlighting <a href="motion.txt.html#is" class="d">is</a>
                used (new in version 2.1).
                When "glyphFile" <a href="motion.txt.html#is" class="d">is</a> empty, no text sign <a href="motion.txt.html#is" class="d">is</a> used (new in
                version 2.1).
                When "glyphFile" <a href="motion.txt.html#is" class="d">is</a> one or two characters long, <a href="insert.txt.html#a" class="d">a</a> text sign <a href="motion.txt.html#is" class="d">is</a>
                defined (new in version 2.1).
                <span class="n">Note:</span> the annotations will be defined in sequence, and the
                sequence number <a href="motion.txt.html#is" class="d">is</a> later used with addAnno.

editFile pathname
                Set the name for the buffer and edit the file "pathname"<a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a>
                <a href="eval.txt.html#string" class="d">string</a> argument.
                <a href="intro.txt.html#Normal" class="d">Normal</a> way for the IDE to tell the editor to edit <a href="insert.txt.html#a" class="d">a</a> file.

                You <a href="vim_faq.txt.html#must" class="d">must</a> set <a href="insert.txt.html#a" class="d">a</a> bufId different of <a href="motion.txt.html#0" class="d">0</a> with this command to
                assign <a href="insert.txt.html#a" class="d">a</a> bufId to the buffer. It will trigger an event
                fileOpened with <a href="insert.txt.html#a" class="d">a</a> bufId of <a href="motion.txt.html#0" class="d">0</a> but the buffer has been assigned.

                If the IDE <a href="motion.txt.html#is" class="d">is</a> going to pass the file text to the editor use
                these commands instead:
                        setFullName
                        <a href="insert.txt.html#insert" class="d">insert</a>
                        initDone
                New in version 2.1.

enableBalloonEval
                Not implemented.

endAtomic       End an atomic operation.  The changes between "startAtomic"
                and "endAtomic" can be undone <a href="motion.txt.html#as" class="d">as</a> one operation.  But it's not
                implemented yet.  Redraw when necessary.

guard off len
                <a href="motion.txt.html#Mark" class="d">Mark</a> an area in the buffer <a href="motion.txt.html#as" class="d">as</a> guarded.  This means <a href="motion.txt.html#it" class="d">it</a> cannot
                be edited.  "off" and "len" are numbers and specify the text
                to be guarded.

initDone        <a href="motion.txt.html#Mark" class="d">Mark</a> the buffer <a href="motion.txt.html#as" class="d">as</a> ready for use.  Implicitly makes the buffer
                the current buffer.  Fires the <a href="autocmd.txt.html#BufReadPost" class="d">BufReadPost</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event.

insertDone
                Sent by Vim Controller to tell Vim an initial file <a href="insert.txt.html#insert" class="d">insert</a> <a href="motion.txt.html#is" class="d">is</a>
                done.  This triggers <a href="insert.txt.html#a" class="d">a</a> read message being printed.  Prior to
                version 2.3, no read <a href="message.txt.html#messages" class="d">messages</a> were displayed after opening <a href="insert.txt.html#a" class="d">a</a>
                file.  New in version 2.3.

moveAnnoToFront serNum
                Not implemented.

netbeansBuffer isNetbeansBuffer
                If "isNetbeansBuffer" <a href="motion.txt.html#is" class="d">is</a> "<a href="motion.txt.html#T" class="d">T</a>" then this buffer <a href="motion.txt.html#is" class="d">is</a> "owned" by
                NetBeans.
                New in version 2.2.

putBufferNumber pathname
                Associate <a href="insert.txt.html#a" class="d">a</a> buffer number with the Vim buffer by the name
                "pathname"<a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> argument.  To be used when the editor
                reported editing another file to the IDE and the IDE needs to
                tell the editor what buffer number <a href="motion.txt.html#it" class="d">it</a> will use for this file.
                Also marks the buffer <a href="motion.txt.html#as" class="d">as</a> initialized.
                New in version 2.1.

raise           Bring the editor to the foreground.
                Only when Vim <a href="motion.txt.html#is" class="d">is</a> run with <a href="insert.txt.html#a" class="d">a</a> GUI.
                New in version 2.1.

removeAnno serNum
                Remove <a href="insert.txt.html#a" class="d">a</a> previously placed annotation for this buffer.
                "serNum" <a href="motion.txt.html#is" class="d">is</a> the same number used in addAnno.

save            Save the buffer when <a href="motion.txt.html#it" class="d">it</a> was modified.  The other side of the
                interface <a href="motion.txt.html#is" class="d">is</a> expected to write the buffer and invoke
                "setModified" to reset the "changed" flag of the buffer.
                The <a href="editing.txt.html#writing" class="d">writing</a> <a href="motion.txt.html#is" class="d">is</a> skipped when one of these conditions <a href="motion.txt.html#is" class="d">is</a> true:
                <a href="motion.txt.html#-" class="d">-</a> <a href="options.txt.html#%27write%27" class="o">'write'</a> <a href="motion.txt.html#is" class="d">is</a> not set
                <a href="motion.txt.html#-" class="d">-</a> the buffer <a href="motion.txt.html#is" class="d">is</a> read-only
                <a href="motion.txt.html#-" class="d">-</a> the buffer does not have <a href="insert.txt.html#a" class="d">a</a> file name
                <a href="motion.txt.html#-" class="d">-</a> <a href="options.txt.html#%27buftype%27" class="o">'buftype'</a> disallows <a href="editing.txt.html#writing" class="d">writing</a>
                New in version 2.2.

saveDone
                Sent by Vim Controller to tell Vim <a href="insert.txt.html#a" class="d">a</a> save <a href="motion.txt.html#is" class="d">is</a> done.  This
                triggers <a href="insert.txt.html#a" class="d">a</a> save message being printed.  Prior to version 2.3,
                no save <a href="message.txt.html#messages" class="d">messages</a> were displayed after <a href="insert.txt.html#a" class="d">a</a> save.
                New in version 2.3.

setAsUser       Not implemented.

setBufferNumber pathname
                Associate <a href="insert.txt.html#a" class="d">a</a> buffer number with Vim buffer by the name
                "pathname"<a href="repeat.txt.html#." class="d">.</a>  To be used when the editor reported editing
                another file to the IDE and the IDE needs to tell the editor
                what buffer number <a href="motion.txt.html#it" class="d">it</a> will use for this file.
                Has the side effect of making the buffer the current buffer.
                See "putBufferNumber" for <a href="insert.txt.html#a" class="d">a</a> more useful command.

setContentType
                Not implemented.

setDot off      Make the buffer the current buffer and set the cursor <a href="motion.txt.html#at" class="d">at</a> the
                specified position.  If the buffer <a href="motion.txt.html#is" class="d">is</a> open in another <a href="windows.txt.html#window" class="d">window</a>
                than make that <a href="windows.txt.html#window" class="d">window</a> the current window.
                If there are <a href="fold.txt.html#folds" class="d">folds</a> they are opened to make the cursor line
                visible.
                In version 2.1 "lnum/col" can be used instead of "off"<a href="repeat.txt.html#." class="d">.</a>

setExitDelay seconds
                Set the delay for <a href="starting.txt.html#exiting" class="d">exiting</a> to "seconds"<a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a> number.
                This delay <a href="motion.txt.html#is" class="d">is</a> used to give the IDE <a href="insert.txt.html#a" class="d">a</a> chance to handle things
                before really exiting.  The default delay <a href="motion.txt.html#is" class="d">is</a> two seconds.
                New in version 2.1.
                Obsolete in version 2.3.

setFullName pathname
                Set the file name to be used for <a href="insert.txt.html#a" class="d">a</a> buffer to "pathname"<a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a>
                <a href="eval.txt.html#string" class="d">string</a> argument.
                Used when the IDE wants to edit <a href="insert.txt.html#a" class="d">a</a> file under <a href="intro.txt.html#control" class="d">control</a> of the
                IDE.  This makes the buffer the current buffer, but does not
                read the file.  "<a href="insert.txt.html#insert" class="d">insert</a>" commands will be used next to set the
                contents.

setLocAndSize   Not implemented.

setMark         Not implemented.

setModified modified
                When the <a href="options.txt.html#boolean" class="d">boolean</a> argument "modified" <a href="motion.txt.html#is" class="d">is</a> "<a href="motion.txt.html#T" class="d">T</a>" <a href="motion.txt.html#mark" class="d">mark</a> the buffer <a href="motion.txt.html#as" class="d">as</a>
                modified, when <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> "<a href="motion.txt.html#F" class="d">F</a>" <a href="motion.txt.html#mark" class="d">mark</a> <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#as" class="d">as</a> unmodified.

setModtime time
                Update <a href="insert.txt.html#a" class="d">a</a> <a href="windows.txt.html#buffers" class="d">buffers</a> modification time after the file has been
                saved directly by the Vim Controller.
                New in version 2.3.

setReadOnly
                Set <a href="insert.txt.html#a" class="d">a</a> file <a href="motion.txt.html#as" class="d">as</a> readonly
                Implemented in version 2.3.

setStyle        Not implemented.

setTitle name
                Set the title for the buffer to "name"<a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> argument.
                The title <a href="motion.txt.html#is" class="d">is</a> only used for the Vim Controller functions, not
                by Vim.

setVisible visible
                When the <a href="options.txt.html#boolean" class="d">boolean</a> argument "visible" <a href="motion.txt.html#is" class="d">is</a> "<a href="motion.txt.html#T" class="d">T</a>"<a href="motion.txt.html#%2C" class="d">,</a> goto the buffer.
                The "<a href="motion.txt.html#F" class="d">F</a>" argument does nothing.

showBalloon text
                Show <a href="insert.txt.html#a" class="d">a</a> balloon (popup window) <a href="motion.txt.html#at" class="d">at</a> the mouse pointer position,
                containing "text"<a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> argument.  The balloon should
                disappear when the mouse <a href="motion.txt.html#is" class="d">is</a> moved more than <a href="insert.txt.html#a" class="d">a</a> few pixels.
                Only when Vim <a href="motion.txt.html#is" class="d">is</a> run with <a href="insert.txt.html#a" class="d">a</a> GUI.
                New in version 2.1.

specialKeys
                Map <a href="insert.txt.html#a" class="d">a</a> set of keys (mostly function keys) to be passed back
                to the Vim Controller for processing.  This lets regular IDE
                hotkeys be used from Vim.
                Implemented in version 2.3.

startAtomic     Begin an atomic operation.  The screen will not be updated
                until "endAtomic" <a href="motion.txt.html#is" class="d">is</a> given.

startCaretListen
                Not implemented.

startDocumentListen
                <a href="motion.txt.html#Mark" class="d">Mark</a> the buffer to report changes to the IDE with the
                "<a href="insert.txt.html#insert" class="d">insert</a>" and "remove" events.  The default <a href="motion.txt.html#is" class="d">is</a> to report
                changes.

stopCaretListen
                Not implemented.

stopDocumentListen
                <a href="motion.txt.html#Mark" class="d">Mark</a> the buffer to stop reporting changes to the IDE.
                Opposite of startDocumentListen.
                <span class="n">NOTE:</span> if "netbeansBuffer" was used to <a href="motion.txt.html#mark" class="d">mark</a> this buffer <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a>
                NetBeans buffer, then the buffer <a href="motion.txt.html#is" class="d">is</a> deleted in Vim.  This <a href="motion.txt.html#is" class="d">is</a>
                for compatibility with Sun Studio 10.

unguard off len
                Opposite of "guard"<a href="motion.txt.html#%2C" class="d">,</a> remove guarding for <a href="insert.txt.html#a" class="d">a</a> text area.
                Also sets the current buffer, if necessary.

version         Not implemented.


6.4 Functions and Replies                               <a name="nb-functions" class="t">nb-functions</a>

getDot          Not implemented.

getCursor       Return the current buffer and cursor position.
                The reply is:
                        seqno bufID lnum col off
                seqno <a href="change.txt.html#%3D" class="d">=</a> sequence number of the function
                bufID <a href="change.txt.html#%3D" class="d">=</a> buffer ID of the current buffer (if this <a href="motion.txt.html#is" class="d">is</a> unknown -1
                        <a href="motion.txt.html#is" class="d">is</a> used)
                lnum  <a href="change.txt.html#%3D" class="d">=</a> line number of the cursor (first line <a href="motion.txt.html#is" class="d">is</a> one)
                col   <a href="change.txt.html#%3D" class="d">=</a> column number of the cursor (in bytes, zero based)
                off   <a href="change.txt.html#%3D" class="d">=</a> offset of the cursor in the buffer (in bytes)
                New in version 2.1.

getLength       Return the length of the buffer in bytes.
                Reply example for <a href="insert.txt.html#a" class="d">a</a> buffer with 5000 bytes:
                        123 5000
                TODO: explain use of partial line.

getMark         Not implemented.

getAnno serNum
                Return the line number of the annotation in the buffer.
                Argument:
                        serNum          serial number of this placed annotation
                The reply is:
                        123 lnum        line number of the annotation
                        123 <a href="motion.txt.html#0" class="d">0</a>           invalid annotation serial number
                New in version 2.4.

getModified     When <a href="insert.txt.html#a" class="d">a</a> buffer <a href="motion.txt.html#is" class="d">is</a> specified: Return zero if the buffer does not
                have changes, one if <a href="motion.txt.html#it" class="d">it</a> does have changes.
                When no buffer <a href="motion.txt.html#is" class="d">is</a> specified (buffer number zero): Return the
                number of <a href="windows.txt.html#buffers" class="d">buffers</a> with changes.  When the result <a href="motion.txt.html#is" class="d">is</a> zero it's
                safe to tell Vim to exit.
                New in version 2.1.

getText         Return the contents of the buffer <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> string.
                Reply example for <a href="insert.txt.html#a" class="d">a</a> buffer with two lines
                        123 "first line\nsecond line\n"
                <span class="n">NOTE:</span> docs indicate an offset and length argument, but this <a href="motion.txt.html#is" class="d">is</a>
                not implemented.

<a href="insert.txt.html#insert" class="d">insert</a> off text
                <a href="insert.txt.html#Insert" class="d">Insert</a> "text" before position "off"<a href="repeat.txt.html#." class="d">.</a>  "text" <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a>
                argument, "off" <a href="insert.txt.html#a" class="d">a</a> number.
                "text" should have <a href="insert.txt.html#a" class="d">a</a> "\n" (newline) <a href="motion.txt.html#at" class="d">at</a> the <a href="intro.txt.html#end" class="d">end</a> of each line.
                Or "\r\n" when <a href="options.txt.html#%27fileformat%27" class="o">'fileformat'</a> <a href="motion.txt.html#is" class="d">is</a> "<a href="os_dos.txt.html#dos" class="d">dos</a>"<a href="repeat.txt.html#." class="d">.</a>  When using "<a href="insert.txt.html#insert" class="d">insert</a>" in
                an empty buffer Vim will set <a href="options.txt.html#%27fileformat%27" class="o">'fileformat'</a> accordingly.
                When "off" points to the start of <a href="insert.txt.html#a" class="d">a</a> line the text <a href="motion.txt.html#is" class="d">is</a> inserted
                above this line.  Thus when "off" <a href="motion.txt.html#is" class="d">is</a> zero lines are inserted
                before the first line.
                When "off" points after the start of <a href="insert.txt.html#a" class="d">a</a> line, possibly on the
                NUL <a href="motion.txt.html#at" class="d">at</a> the <a href="intro.txt.html#end" class="d">end</a> of <a href="insert.txt.html#a" class="d">a</a> line, the first line of text <a href="motion.txt.html#is" class="d">is</a> appended
                to this line.  Further lines come below it.
                Possible replies:
                        123             no problem
                        123 !message    failed
                <span class="n">Note</span> that the message in the reply <a href="motion.txt.html#is" class="d">is</a> not quoted.
                Also sets the current buffer, if necessary.
                Does not move the cursor to the changed text.
                Resets <a href="undo.txt.html#undo" class="d">undo</a> information.

remove off length
                Delete "length" bytes of text <a href="motion.txt.html#at" class="d">at</a> position "off"<a href="repeat.txt.html#." class="d">.</a>  Both
                arguments are numbers.
                Possible replies:
                        123             no problem
                        123 !message    failed
                <span class="n">Note</span> that the message in the reply <a href="motion.txt.html#is" class="d">is</a> not quoted.
                Also sets the current buffer, if necessary.

saveAndExit     Perform the equivalent of closing Vim: "<a href="editing.txt.html#%3Aconfirm" class="d">:confirm</a> qall"<a href="repeat.txt.html#." class="d">.</a>
                If there are no changed files or the user does not cancel the
                operation Vim exits and no result <a href="motion.txt.html#is" class="d">is</a> sent back.  The IDE can
                consider closing the connection <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> successful result.
                If the user cancels the operation the number of modified
                <a href="windows.txt.html#buffers" class="d">buffers</a> that remains <a href="motion.txt.html#is" class="d">is</a> returned and Vim does not exit.
                New in version 2.1.


6.5 Events                                              <a name="nb-events" class="t">nb-events</a>

balloonEval off len type
                The mouse pointer rests on text for <a href="insert.txt.html#a" class="d">a</a> short while.  When "len"
                <a href="motion.txt.html#is" class="d">is</a> zero, there <a href="motion.txt.html#is" class="d">is</a> no selection and the pointer <a href="motion.txt.html#is" class="d">is</a> <a href="motion.txt.html#at" class="d">at</a> position
                "off"<a href="repeat.txt.html#." class="d">.</a>  When "len" <a href="motion.txt.html#is" class="d">is</a> non-zero the text from position "off" to
                "off" <a href="motion.txt.html#%2B" class="d">+</a> "len" <a href="motion.txt.html#is" class="d">is</a> selected.
                Only sent after "enableBalloonEval" was used for this buffer.
                "type" <a href="motion.txt.html#is" class="d">is</a> not yet defined.
                Not implemented yet.

balloonText text
                Used when <a href="options.txt.html#%27ballooneval%27" class="o">'ballooneval'</a> <a href="motion.txt.html#is" class="d">is</a> set and the mouse pointer rests on
                some text for <a href="insert.txt.html#a" class="d">a</a> moment.  "text" <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> string, the text under
                the mouse pointer.
                Only when Vim <a href="motion.txt.html#is" class="d">is</a> run with <a href="insert.txt.html#a" class="d">a</a> GUI.
                New in version 2.1.

buttonRelease button lnum col
                Report which button was pressed and the location of the cursor
                <a href="motion.txt.html#at" class="d">at</a> the time of the release.  Only for <a href="windows.txt.html#buffers" class="d">buffers</a> that are owned
                by the Vim Controller.  This event <a href="motion.txt.html#is" class="d">is</a> not sent if the button
                was released while the mouse was in the status line or in <a href="insert.txt.html#a" class="d">a</a>
                separator line.  If col <a href="motion.txt.html#is" class="d">is</a> <a href="various.txt.html#less" class="d">less</a> than 1 the button release was
                in the sign area.
                New in version 2.2.

disconnect
                Tell the Vim Controller that Vim <a href="motion.txt.html#is" class="d">is</a> <a href="starting.txt.html#exiting" class="d">exiting</a> and not to try and
                read or write more commands.
                New in version 2.3.

fileClosed      Not implemented.

fileModified    Not implemented.

fileOpened pathname open modified
                <a href="insert.txt.html#A" class="d">A</a> file was opened by the user.
                Arguments:
                   pathname     <a href="eval.txt.html#string" class="d">string</a>    name of the file
                   open         <a href="options.txt.html#boolean" class="d">boolean</a>   always "<a href="motion.txt.html#T" class="d">T</a>"
                   modified     <a href="options.txt.html#boolean" class="d">boolean</a>   always "<a href="motion.txt.html#F" class="d">F</a>"

geometry cols rows <a href="change.txt.html#x" class="d">x</a> <a href="change.txt.html#y" class="d">y</a>
                Report the size and position of the editor window.
                Arguments:
                   cols         number    number of text columns
                   rows         number    number of text rows
                   <a href="change.txt.html#x" class="d">x</a>            number    pixel position on screen
                   <a href="change.txt.html#y" class="d">y</a>            number    pixel position on screen
                Only works for Motif.

<a href="insert.txt.html#insert" class="d">insert</a> off text
                Text "text" has been inserted in Vim <a href="motion.txt.html#at" class="d">at</a> position "off"<a href="repeat.txt.html#." class="d">.</a>
                Only fired when enabled, see "startDocumentListen"<a href="repeat.txt.html#." class="d">.</a>

invokeAction    Not implemented.

keyCommand keyName
                Reports <a href="insert.txt.html#a" class="d">a</a> special key being pressed with name "keyName"<a href="motion.txt.html#%2C" class="d">,</a> which
                <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> string.
                Supported key names:
                        F1              function key 1
                        F2              function key 2
                        <a href="eval.txt.html#..." class="d">...</a>
                        F12             function key 12

                        <a href="motion.txt.html#%27" class="d">'</a> <a href="motion.txt.html#%27" class="d">'</a>             <a href="intro.txt.html#space" class="d">space</a> (without the quotes)
                        <a href="change.txt.html#%21" class="d">!</a>               exclamation <a href="motion.txt.html#mark" class="d">mark</a>
                        <a href="eval.txt.html#..." class="d">...</a>             any other ASCII printable character
                        <a href="change.txt.html#%7E" class="d">~</a>               tilde

                        <a href="change.txt.html#X" class="d">X</a>               any unrecognized key

                The key may be prepended by "<a href="change.txt.html#C" class="d">C</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="change.txt.html#S" class="d">S</a>" and/or "<a href="motion.txt.html#M" class="d">M</a>" for Control,
                Shift and Meta (Alt) modifiers.  If there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> modifier <a href="insert.txt.html#a" class="d">a</a> dash
                <a href="motion.txt.html#is" class="d">is</a> used to separate <a href="motion.txt.html#it" class="d">it</a> from the key name.  For example:
                "C-F2"<a href="repeat.txt.html#." class="d">.</a>
                ASCII characters are new in version 2.1.

keyAtPos keyName lnum/col
                Like "keyCommand" and also report the line number and column
                of the cursor.
                New in version 2.1.

killed          <a href="insert.txt.html#A" class="d">A</a> file was deleted or wiped out by the user and the buffer
                annotations have been removed.  The bufID number for this
                buffer has become invalid.  Only for files that have been
                assigned <a href="insert.txt.html#a" class="d">a</a> bufID number by the IDE.

newDotAndMark off off
                Reports the position of the cursor being <a href="motion.txt.html#at" class="d">at</a> "off" bytes into
                the buffer.  Only sent just before <a href="insert.txt.html#a" class="d">a</a> "keyCommand" event.

quit            Not implemented.

remove off len
                Text was deleted in Vim <a href="motion.txt.html#at" class="d">at</a> position "off" with byte length
                "len"<a href="repeat.txt.html#." class="d">.</a>
                Only fired when enabled, see "startDocumentListen"<a href="repeat.txt.html#." class="d">.</a>

revert          Not implemented.

save            The buffer has been saved and <a href="motion.txt.html#is" class="d">is</a> now unmodified.
                Only fired when enabled, see "startDocumentListen"<a href="repeat.txt.html#." class="d">.</a>

startupDone     The editor has finished its <a href="starting.txt.html#startup" class="d">startup</a> work and <a href="motion.txt.html#is" class="d">is</a> ready for
                editing files.
                New in version 2.1.

unmodified      The buffer <a href="motion.txt.html#is" class="d">is</a> now unmodified.
                Only fired when enabled, see "startDocumentListen"<a href="repeat.txt.html#." class="d">.</a>

version vers    Report the version of the interface implementation.  Vim
                reports "2.4" (including the quotes).


6.6 <a href="eval.txt.html#Special" class="d">Special</a> <a href="message.txt.html#messages" class="d">messages</a>                                    <a name="nb-special" class="t">nb-special</a>

These <a href="message.txt.html#messages" class="d">messages</a> <a href="diff.txt.html#do" class="d">do</a> not follow the style of the <a href="message.txt.html#messages" class="d">messages</a> above.  They are
terminated by <a href="insert.txt.html#a" class="d">a</a> newline character.

ACCEPT          Not used.

AUTH password   editor -&gt; IDE: First message that the editor sends to the IDE.
                Must contain the password for the socket server, <a href="motion.txt.html#as" class="d">as</a> specified
                with the <a href="starting.txt.html#-nb" class="l">-nb</a> argument.  No <a href="quotes.txt.html#quotes" class="d">quotes</a> are used!

DISCONNECT      IDE -&gt; editor: break the connection.  The editor will exit.
                The IDE <a href="vim_faq.txt.html#must" class="d">must</a> only send this message when there are no unsaved
                changes!

DETACH          IDE -&gt; editor: break the connection without <a href="starting.txt.html#exiting" class="d">exiting</a> the
                editor.  Used when the IDE exits without bringing down the
                editor <a href="motion.txt.html#as" class="d">as</a> well.
                New in version 2.1.

REJECT          Not used.


6.7 Protocol <a href="message.txt.html#errors" class="d">errors</a>                                     <a name="nb-protocol_errors" class="t">nb-protocol_errors</a>

These <a href="message.txt.html#errors" class="d">errors</a> occur when <a href="insert.txt.html#a" class="d">a</a> message violates the protocol:
<a name="E627" class="t">E627</a> <a name="E628" class="t">E628</a> <a name="E629" class="t">E629</a> <a name="E632" class="t">E632</a> <a name="E633" class="t">E633</a> <a name="E634" class="t">E634</a> <a name="E635" class="t">E635</a> <a name="E636" class="t">E636</a>
<a name="E637" class="t">E637</a> <a name="E638" class="t">E638</a> <a name="E639" class="t">E639</a> <a name="E640" class="t">E640</a> <a name="E641" class="t">E641</a> <a name="E642" class="t">E642</a> <a name="E643" class="t">E643</a> <a name="E644" class="t">E644</a> <a name="E645" class="t">E645</a> <a name="E646" class="t">E646</a>
<a name="E647" class="t">E647</a> <a name="E648" class="t">E648</a> <a name="E649" class="t">E649</a> <a name="E650" class="t">E650</a> <a name="E651" class="t">E651</a> <a name="E652" class="t">E652</a>


<span class="h">==============================================================================</span>
7. NetBeans commands                                    <a name="netbeans-commands" class="t">netbeans-commands</a>

                                                        <a name="%3Anbstart" class="t">:nbstart</a> <a name="E511" class="t">E511</a> <a name="E838" class="t">E838</a>
:nbs[tart] <span class="s">{connection}</span> Start <a href="insert.txt.html#a" class="d">a</a> new Netbeans session with <span class="s">{connection}</span> <a href="motion.txt.html#as" class="d">as</a> the
                        socket connection parameters.  The format of
                        <span class="s">{connection}</span> <a href="motion.txt.html#is" class="d">is</a> described in <a href="#netbeans-parameters" class="l">netbeans-parameters</a><a href="repeat.txt.html#." class="d">.</a>
                        At any time, one may check if the <a href="#netbeans" class="d">netbeans</a> socket <a href="motion.txt.html#is" class="d">is</a>
                        connected by running the command:
                        ':echo has("netbeans_enabled")'

                                                        <a name="%3Anbclose" class="t">:nbclose</a>
:nbc[lose]              Close the current NetBeans session. Remove all placed
                        signs.

                                                        <a name="%3Anbkey" class="t">:nbkey</a>
:nb[key] <span class="s">{key}</span>          Pass the <span class="s">{key}</span> to the Vim Controller for processing.
                        When <a href="insert.txt.html#a" class="d">a</a> hot-key has been installed with the specialKeys
                        command, this command can be used to generate <a href="insert.txt.html#a" class="d">a</a> hotkey
                        message to the Vim Controller.
                        This command can also be used to pass any text to the
                        Vim  Controller. It <a href="motion.txt.html#is" class="d">is</a> used by Pyclewn, for example,
                        to build the complete set of <a href="debug.txt.html#gdb" class="d">gdb</a> commands <a href="motion.txt.html#as" class="d">as</a> Vim user
                        commands.
                        The events newDotAndMark, keyCommand and keyAtPos are
                        generated (in this order).


<span class="h">==============================================================================</span>
8. Known problems                                       <a name="netbeans-problems" class="t">netbeans-problems</a>

NUL bytes are not possible.  For editor -&gt; IDE they will appear <a href="motion.txt.html#as" class="d">as</a> NL
characters.  For IDE -&gt; editor they cannot be inserted.

<a href="insert.txt.html#A" class="d">A</a> NetBeans session may be initiated with Vim running in <a href="insert.txt.html#a" class="d">a</a> terminal, and
continued later in <a href="insert.txt.html#a" class="d">a</a> <a href="gui.txt.html#GUI" class="d">GUI</a> environment after running the <a href="gui_x11.txt.html#%3Agui" class="l">:gui</a> command. In this
case, the highlighting defined for the NetBeans annotations may be cleared
when the "<a href="gui_x11.txt.html#%3Agui" class="d">:gui</a>" command sources <a href="gui.txt.html#.gvimrc" class="d">.gvimrc</a> and this file loads <a href="insert.txt.html#a" class="d">a</a> colorscheme
that runs the command "<a href="syntax.txt.html#%3Ahighlight" class="d">:highlight</a> clear"<a href="repeat.txt.html#." class="d">.</a>
New in version 2.5.


<span class="h">==============================================================================</span>
9. Debugging NetBeans protocol                          <a name="netbeans-debugging" class="t">netbeans-debugging</a>

To debug the Vim protocol, you <a href="vim_faq.txt.html#must" class="d">must</a> first compile Vim with debugging support
and NetBeans debugging support.  See <a href="#netbeans-configure" class="l">netbeans-configure</a> for instructions
about Vim compiling and how to enable debug support.

When running Vim, set the following environment variables:

    export SPRO_GVIM_DEBUG=netbeans.log
    export SPRO_GVIM_DLEVEL=0xffffffff

Vim will then log all the incoming and outgoing <a href="message.txt.html#messages" class="d">messages</a> of the NetBeans
protocol to the file netbeans.log <a href="repeat.txt.html#." class="d">.</a>

The content of netbeans.log after <a href="insert.txt.html#a" class="d">a</a> session looks like this:
Tue May 20 17:19:27 2008
EVT: 0:startupDone=0
CMD 1: (1) create
CMD 2: (1) setTitle "testfile1.txt"
CMD 3: (1) setFullName "testfile1.txt"
EVT(suppressed): 1:remove=3 <a href="motion.txt.html#0" class="d">0</a> -1
EVT: 1:fileOpened=0 "d:\\work\\vimWrapper\\vimWrapper2\\pyvimwrapper\\tests\\testfile1.txt" <a href="motion.txt.html#T" class="d">T</a> <a href="motion.txt.html#F" class="d">F</a>
CMD 4: (1) initDone
FUN 5: (0) getCursor
REP 5: 1 1 <a href="motion.txt.html#0" class="d">0</a> <a href="motion.txt.html#0" class="d">0</a>
CMD 6: (2) create
CMD 7: (2) setTitle "testfile2.txt"
CMD 8: (2) setFullName "testfile2.txt"
EVT(suppressed): 2:remove=8 <a href="motion.txt.html#0" class="d">0</a> -1
EVT: 2:fileOpened=0 "d:\\work\\vimWrapper\\vimWrapper2\\pyvimwrapper\\tests\\testfile2.txt" <a href="motion.txt.html#T" class="d">T</a> <a href="motion.txt.html#F" class="d">F</a>
CMD 9: (2) initDone


<span class="h">==============================================================================</span>
10. NetBeans External Editor

<span class="n">NOTE:</span> This information <a href="motion.txt.html#is" class="d">is</a> obsolete!  Only relevant if you are using an old
version of NetBeans.


10.1. Downloading NetBeans                      <a name="netbeans-download" class="t">netbeans-download</a>

The NetBeans IDE <a href="motion.txt.html#is" class="d">is</a> available for <a href="intro.txt.html#download" class="d">download</a> from netbeans.org.  You can <a href="intro.txt.html#download" class="d">download</a>
<a href="insert.txt.html#a" class="d">a</a> released version, <a href="intro.txt.html#download" class="d">download</a> sources, or use CVS to <a href="intro.txt.html#download" class="d">download</a> the current
source tree.  If you choose to <a href="intro.txt.html#download" class="d">download</a> sources, follow directions from
netbeans.org on building NetBeans.

Depending on the version of NetBeans you download, you may need to <a href="diff.txt.html#do" class="d">do</a> further
work to get the required External Editor module.  This <a href="motion.txt.html#is" class="d">is</a> the module which lets
NetBeans work with <a href="starting.txt.html#gvim" class="d">gvim</a> (or xemacs :-).  See <a class="u" href="http://externaleditor.netbeans.org">http://externaleditor.netbeans.org</a>
for details on downloading this module if your NetBeans release does not have
it.

For C, C++, and Fortran support you will also need the cpp module.  See
<a class="u" href="http://cpp.netbeans.org">http://cpp.netbeans.org</a> for information regarding this module.

You can also <a href="intro.txt.html#download" class="d">download</a> Sun ONE Studio from Sun Microsystems, Inc for <a href="insert.txt.html#a" class="d">a</a> 30 day
free trial.  See <a class="u" href="http://www.sun.com">http://www.sun.com</a> for further details.


10.2. NetBeans Key Bindings                     <a name="netbeans-keybindings" class="t">netbeans-keybindings</a>

Vim understands <a href="insert.txt.html#a" class="d">a</a> number of key bindings that execute NetBeans commands.
These are typically all the Function key combinations.  To execute <a href="insert.txt.html#a" class="d">a</a> NetBeans
command, the user <a href="vim_faq.txt.html#must" class="d">must</a> press the Pause key followed by <a href="insert.txt.html#a" class="d">a</a> NetBeans key binding.
For example, in order to compile <a href="insert.txt.html#a" class="d">a</a> Java file, the NetBeans key binding <a href="motion.txt.html#is" class="d">is</a>
"F9"<a href="repeat.txt.html#." class="d">.</a>  So, while in vim, press "Pause F9" to compile <a href="insert.txt.html#a" class="d">a</a> java file.  To <a href="options.txt.html#toggle" class="d">toggle</a> <a href="insert.txt.html#a" class="d">a</a>
breakpoint <a href="motion.txt.html#at" class="d">at</a> the current line, press "Pause Shift F8"<a href="repeat.txt.html#." class="d">.</a>

The Pause key <a href="motion.txt.html#is" class="d">is</a> Function key 21.  If you don't have <a href="insert.txt.html#a" class="d">a</a> working Pause key and
want to use F8 instead, use: 
<span class="e"></span>
<span class="e">        :map &lt;F8&gt; &lt;F21&gt;</span>
<span class="e"></span>
The External Editor module dynamically reads the NetBeans key bindings so vim
should always have the latest key bindings, even when NetBeans changes them.


10.3. Preparing NetBeans for Vim                <a name="netbeans-preparation" class="t">netbeans-preparation</a>

In order for NetBeans to work with vim, the NetBeans External Editor module
<a href="vim_faq.txt.html#must" class="d">must</a> be loaded and enabled.  If you have <a href="insert.txt.html#a" class="d">a</a> Sun ONE Studio Enterprise Edition
then this module should be loaded and enabled.  If you have <a href="insert.txt.html#a" class="d">a</a> NetBeans release
you may need to find another way of obtaining this open source module.

You can check if you have this module by opening the Tools-&gt;Options <a href="gui_w32.txt.html#dialog" class="d">dialog</a>
and drilling down to the "Modules" <a href="eval.txt.html#list" class="d">list</a> (IDE Configuration-&gt;System-&gt;Modules).
If your Modules <a href="eval.txt.html#list" class="d">list</a> has an entry for "External Editor" you <a href="vim_faq.txt.html#must" class="d">must</a> make sure
<a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> enabled (the "Enabled" property should have the value "True").  If your
Modules <a href="eval.txt.html#list" class="d">list</a> has no External Editor see the next <a href="motion.txt.html#section" class="d">section</a> on <a href="#obtaining-exted" class="l">obtaining-exted</a><a href="repeat.txt.html#." class="d">.</a>


10.4. Obtaining the External Editor Module      <a name="obtaining-exted" class="t">obtaining-exted</a>

There are 2 ways of obtaining the External Editor module.  The easiest way
<a href="motion.txt.html#is" class="d">is</a> to use the NetBeans Update Center to <a href="intro.txt.html#download" class="d">download</a> and <a href="usr_90.txt.html#install" class="d">install</a> the module.
Unfortunately, some versions <a href="diff.txt.html#do" class="d">do</a> not have this module in their update
center.  If you cannot <a href="intro.txt.html#download" class="d">download</a> via the update center you will need to
<a href="intro.txt.html#download" class="d">download</a> sources and build the module.  <a href="insert.txt.html#I" class="d">I</a> will try and get the module
available from the NetBeans Update Center so building will be unnecessary.
Also check <a class="u" href="http://externaleditor.netbeans.org">http://externaleditor.netbeans.org</a> for other availability options.

To <a href="intro.txt.html#download" class="d">download</a> the External Editor sources via CVS and build your own module,
see <a class="u" href="http://externaleditor.netbeans.org">http://externaleditor.netbeans.org</a> and <a class="u" href="http://www.netbeans.org">http://www.netbeans.org</a>.
Unfortunately, this <a href="motion.txt.html#is" class="d">is</a> not <a href="insert.txt.html#a" class="d">a</a> trivial procedure.


10.5. Setting up NetBeans to run with Vim       <a name="netbeans-setup" class="t">netbeans-setup</a>

Assuming you have loaded and enabled the NetBeans External Editor module
<a href="motion.txt.html#as" class="d">as</a> described in <a href="#netbeans-preparation" class="l">netbeans-preparation</a> all you need to <a href="diff.txt.html#do" class="d">do</a> <a href="motion.txt.html#is" class="d">is</a> verify that
the <a href="starting.txt.html#gvim" class="d">gvim</a> command line <a href="motion.txt.html#is" class="d">is</a> properly configured for your environment.

Open the Tools-&gt;Options <a href="gui_w32.txt.html#dialog" class="d">dialog</a> and open the Editing category.  <a href="visual.txt.html#Select" class="d">Select</a> the
External Editor.  The right hand pane should contain <a href="insert.txt.html#a" class="d">a</a> Properties <a href="intro.txt.html#tab" class="d">tab</a> and
an Expert tab.  In the Properties <a href="intro.txt.html#tab" class="d">tab</a> make sure the "Editor Type" <a href="motion.txt.html#is" class="d">is</a> set
to "Vim"<a href="repeat.txt.html#." class="d">.</a>  In the Expert <a href="intro.txt.html#tab" class="d">tab</a> make sure the "Vim Command" <a href="motion.txt.html#is" class="d">is</a> correct.

You should be careful if you change the "Vim Command"<a href="repeat.txt.html#." class="d">.</a>  There are command
line <a href="options.txt.html#options" class="d">options</a> there which <a href="vim_faq.txt.html#must" class="d">must</a> be there for the connection to be properly
set up.  You can change the command name but that's about it.  If your <a href="starting.txt.html#gvim" class="d">gvim</a>
can be found by your $PATH then the Vim Command can start with "<a href="starting.txt.html#gvim" class="d">gvim</a>"<a href="repeat.txt.html#." class="d">.</a>  If
you don't want <a href="starting.txt.html#gvim" class="d">gvim</a> searched from your $PATH then hard code in the full
<a href="os_unix.txt.html#Unix" class="d">Unix</a> path name.  At this point you should get <a href="insert.txt.html#a" class="d">a</a> <a href="starting.txt.html#gvim" class="d">gvim</a> for any source file
you open in NetBeans.

If some files come up in <a href="starting.txt.html#gvim" class="d">gvim</a> and others (with different file suffixes) come
up in the default NetBeans editor you should verify the MIME type in the
Expert <a href="intro.txt.html#tab" class="d">tab</a> MIME Type property.  NetBeans <a href="motion.txt.html#is" class="d">is</a> MIME oriented and the External
Editor will only open MIME types specified in this property.


 vim:tw=78:ts=8:ft=help:norl:

</pre>
</div>
</div>
</body>
</html>
